# Ensure controllers are loaded
Rails.application.config.to_prepare do
  # Load existing Immo::Promo controllers
  existing_controllers = [
    'projects_controller.rb',
    'phases_controller.rb', 
    'tasks_controller.rb'
  ]
  
  existing_controllers.each do |controller|
    controller_path = ImmoPromo::Engine.root.join("app/controllers/immo/promo/#{controller}")
    require_dependency controller_path if File.exist?(controller_path)
  end
end
