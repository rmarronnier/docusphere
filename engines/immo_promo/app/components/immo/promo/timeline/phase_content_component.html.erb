<div class="<%= is_current_phase? ? 'ring-2 ring-blue-500 bg-blue-50' : 'bg-gray-50' %> rounded-lg p-4">
  <div class="flex items-center justify-between mb-2">
    <h4 class="text-sm font-medium text-gray-900">
      <%= phase.name %>
      <% if is_current_phase? %>
        <span class="ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800">
          Actuelle
        </span>
      <% end %>
    </h4>
    <span class="text-sm text-gray-500">
      <%= formatted_duration %>
    </span>
  </div>
  
  <div class="text-sm text-gray-600 mb-3">
    <%= phase.description if phase.description.present? %>
  </div>
  
  <!-- Progress bar -->
  <%= render Immo::Promo::Timeline::PhaseProgressComponent.new(phase: phase) %>
  
  <!-- Phase details -->
  <div class="grid grid-cols-2 gap-4 text-xs text-gray-500">
    <div>
      <span class="font-medium">Début:</span>
      <%= formatted_start_date %>
    </div>
    <div>
      <span class="font-medium">Fin:</span>
      <%= formatted_end_date %>
    </div>
  </div>
  
  <!-- Phase actions -->
  <div class="mt-3 flex space-x-2">
    <%= link_to "Voir détails", helpers.immo_promo_engine.project_phase_path(phase.project, phase), 
                class: "text-xs font-medium text-indigo-600 hover:text-indigo-500" %>
    <% if phase.tasks.any? %>
      <span class="text-gray-300">•</span>
      <span class="text-xs text-gray-500"><%= pluralize(phase.tasks.count, 'tâche') %></span>
    <% end %>
  </div>
</div>