🖥️  Detected ARM64 architecture
🚀 Starting required services...
 Container docusphere-redis-1  Running
 Container docusphere-db-1  Running
 Container docusphere-elasticsearch-1  Running
 Container docusphere-web-1  Running
 Container docusphere-selenium-1  Running
⏳ Waiting for database to be ready...
✅ Database is ready!
⏳ Waiting for Selenium to be ready...
✅ Selenium is ready!
📦 Preparing test database...
🧪 Running system tests...
📡 Using existing web container...
bin/rails aborted!
ActiveRecord::EnvironmentMismatchError: You are attempting to modify a database that was last run in `development` environment. (ActiveRecord::EnvironmentMismatchError)
You are running in `test` environment. If you are sure you want to continue, first set the environment using:

        bin/rails db:environment:set RAILS_ENV=test


Tasks: TOP => db:test:load_schema => db:test:purge => db:check_protected_environments
(See full trace by running task with --trace)
W, [2025-06-09T22:21:30.303306 #136]  WARN -- : Document: overriding method 'lock!'!

Randomized with seed 39684

Metadatum
  add some examples to (or delete) /app/spec/models/metadatum_spec.rb (PENDING: Not yet implemented)

ValidationRequestPolicy
  create?
    when user can request validation on document
2025-06-09T22:21:30.576Z pid=136 tid=4zg INFO: Sidekiq 7.3.9 connecting to Redis with options {:size=>10, :pool_name=>"internal", :url=>"redis://redis:6379/0"}
      grants access
    when user cannot request validation on document
      denies access
    when user is nil
      denies access
  show?
    when user is a validator
      grants access to validator
      denies access to non-validator
    when user is admin
      grants access
    when user is nil
      denies access
    when user is the requester
      grants access
  my_requests?
    grants access to authenticated user
    denies access to nil user
  Scope
    returns only requests for the user
    returns empty scope for nil user

Document API
  GET /ged/documents/:id/status (Polling status)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/document_api_spec.rb:110)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/document_api_spec.rb:110)
    returns current processing status (FAILED - 1)
    includes completion percentage (FAILED - 2)
  DELETE /ged/documents/:id
    as non-owner
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:157)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:157)
      denies access (FAILED - 3)
    as document owner
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:141)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:141)
      deletes the document (FAILED - 4)
  POST /ged/documents (AJAX upload)
    with valid parameters
      creates a document and returns success (FAILED - 5)
      enqueues processing jobs (FAILED - 6)
    with file size validation
      rejects files larger than limit (FAILED - 7)
    with invalid parameters
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:67)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (5 levels) in <main> at /app/spec/requests/document_api_spec.rb:67)
      returns error response (FAILED - 8)

Ui::AlertComponent
  edge cases
    handles nil message
    renders with only title
    handles empty message
  dismissible alerts
    shows dismiss button when dismissible (FAILED - 9)
    is not dismissible by default
    includes close icon in dismiss button
  content layout
    layouts icon and content properly
    handles long content
  alert types
    renders error alert
    handles invalid type gracefully
    renders warning alert
    renders success alert
    renders info alert
  basic rendering
    renders alert with message
    renders alert with title and message
    renders with default info type
  stimulus integration
    does not include controller for non-dismissible alerts
    includes alert controller for dismissible alerts (FAILED - 10)
  accessibility
    has proper ARIA live region for non-critical alerts (FAILED - 11)
    has proper ARIA live region for important alerts (FAILED - 12)
    has proper ARIA role (FAILED - 13)
    dismiss button has ARIA label (FAILED - 14)
  custom styling
    has rounded corners and overflow hidden (FAILED - 15)
    maintains consistent padding
  icons
    shows appropriate icon for each type
    shows icon by default
  border positions
    handles invalid border position
    shows top border
    shows left border by default
    shows all borders

UserGroupsController
  GET #new
    assigns a new user group
    returns a success response
    assigns the group to current organization
  DELETE #destroy
    redirects to the user groups list
    destroys the requested user group
    group with authorizations
      removes all authorizations when destroyed
    group with members
      removes all memberships when destroyed
  POST #create
    with duplicate name in organization
      does not create group with duplicate name
    with invalid parameters
      renders new template
      does not create a new UserGroup
    with valid parameters
      assigns the group to current organization
      redirects to the created user group
      creates a new UserGroup
  PATCH #update
    with invalid parameters
      does not update the user group
      renders edit template
    with valid parameters
      updates the requested user group
      redirects to the user group
  authentication
    redirects to login for show
    redirects to login for index
  GET #edit
    returns a success response
    assigns the requested user group
  DELETE #remove_member
    redirects to group show page
    removes user from group
  GET #show
    allows access to groups from other organizations for admin
    returns a success response
    assigns group members
    assigns the requested user group
  GET #index
    only shows groups from current organization
    assigns organization user groups
    returns a success response
    with search parameter
      filters groups by name
  POST #add_member
    prevents adding users from other organizations
    redirects to group show page
    prevents adding user twice
    adds user to group
  authorization
    when signed in as regular user
      redirects to root for index
      redirects to root for new
      redirects to root for show

Organization
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :slug is case-sensitively unique
  callbacks
    slug generation
      when slug is present
        does not override existing slug
      when slug is blank
        generates slug from name
  associations
    is expected to have many users dependent => destroy
    is expected to have many spaces dependent => destroy
  factory
    creates a valid organization
    with_spaces trait
      creates an organization with spaces

UserGroupMembership
  add some examples to (or delete) /app/spec/models/user_group_membership_spec.rb (PENDING: Not yet implemented)

BasketItem
  instance methods
    #document?
      when item is a Document
        returns true
      when item is not a Document
        returns false
    #document
      when item is a Document
        returns the document
      when item is not a Document
        returns nil
  validations
    is expected to validate that :position cannot be empty/falsy
    is expected to validate that :item_id is case-sensitively unique within the scope of :basket_id et :item_type
  associations
    is expected to belong to basket required: true
    is expected to belong to item required: true

WorkflowSubmission
  instance methods
    #days_until_due
      returns positive days when due date is in future
      returns negative days when due date is past
      returns nil when no due date
    #overdue?
      returns false when no due date
      returns false when due date is in future
      returns true when due date is past and not completed
      returns false when completed even if past due date
  callbacks
    sets submitted_at on create
  associations
    is expected to belong to workflow required: true
    is expected to belong to submitted_by class_name => User required: true
    is expected to belong to submittable required: true
    is expected to belong to current_step class_name => WorkflowStep optional: true
    is expected to belong to decided_by class_name => User optional: true
  validations
    is expected to validate that :priority is either ‹"low"›, ‹"normal"›, ‹"high"›, or ‹"urgent"›
    is expected to validate that :status cannot be empty/falsy
    uniqueness validation
      is expected to validate that :workflow_id is case-sensitively unique within the scope of :submittable_type et :submittable_id
  scopes
    .by_priority
      orders by priority
    .completed
      returns completed submissions
    .in_progress
      returns in_progress submissions
    .overdue
      returns overdue submissions
    .pending
      returns pending submissions
  state machine
    starts in pending state
    transitions
      can transition from in_progress to waiting_for_approval
      can transition from waiting_for_approval to rejected
      can transition from waiting_for_approval to returned_for_revision
      can transition from waiting_for_approval to approved
      can be cancelled from various states
      can transition from pending to in_progress
      can transition from approved to completed

Tag Management
  Viewing tags
    displays tags in the navigation (FAILED - 16)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:46)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:46)
    shows tag details (FAILED - 17)
    allows searching tags (FAILED - 18)
    shows all organization tags (FAILED - 19)
  Tag usage in documents
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:204)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:204)
    shows documents with specific tag (FAILED - 20)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:216)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:216)
    allows navigating to document from tag view (FAILED - 21)
  Tag autocomplete
    returns matching tags (FAILED - 22)
  Empty states
    shows empty state when no tags exist
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:241)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:241)
    shows empty state when tag has no documents (FAILED - 23)
  Managing tags as regular user
    shows create button with permission
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:158)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:158)
    allows creating tags with permission (FAILED - 24)
  Managing tags as admin
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:62)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:62)
    allows creating a new tag (FAILED - 25)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:90)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:90)
    allows editing a tag (FAILED - 26)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:119)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:119)
    allows deleting a tag (FAILED - 27)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:110)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:110)
    shows warning when editing tag with documents (FAILED - 28)
    shows edit and delete options in tag grid (FAILED - 29)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:79)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/tag_management_spec.rb:79)
    validates tag creation (FAILED - 30)

Treeable
  #path_names
    returns path names joined with /
  #can_be_parent_of?
    returns true for valid parents
    returns false for self
    returns false for descendants
  #depth
    returns correct depth for children
    returns 0 for root
  validations
    prevents self as parent
    prevents circular references
  #descendants
    returns empty array for leaf items
    returns all descendants
  scopes
    returns root items
  #leaf?
    returns false for items with children
    returns true for items without children
  #root?
    returns false for child items
    returns true for root items
  associations
    includes parent association
    includes children association
  #path
    returns path including self
  #ancestors
    returns correct ancestors for grandchild
    returns correct ancestors for child
    returns empty array for root
  #root
    returns self for root item
    returns root for child items

DocumentValidationsController
  GET #new
    when user can request validation
      assigns available validators
      assigns a new validation request
      returns a success response
    when user cannot request validation
      redirects to document page
  GET #index
    when user is a validator
      assigns pending validations for current user
      returns a success response
      assigns completed validations for current user
  POST #create
    when user can request validation
      with valid parameters
        redirects to document page
        creates a new validation request
      when min_validations exceeds validator count
        does not create a validation request
        redirects with alert
      with no validators selected
        redirects with alert
        does not create a validation request
  POST #approve
    when user can validate
      approves the validation
      redirects to validation request page
      with JSON format
        returns success response
  GET #show
    assigns document validations
    determines if current user can validate
    returns a success response
    assigns the requested validation request
  GET #my_requests
    assigns validation requests for current user
    returns a success response
  POST #reject
    without comment
      redirects with alert
      does not reject the validation
      with JSON format
        returns error response
    with comment
      rejects the validation
      redirects to validation request page
      with JSON format
        returns success response

Ui::ButtonComponent
  renders basic button
  renders with icon
  renders with different variants
  renders disabled state
  renders with different sizes
  renders loading state
  renders as link when href provided
  renders with custom attributes
  renders icon-only button
  button groups
    renders in a group context
  accessibility
    requires aria-label for icon-only buttons
    has proper ARIA attributes for loading state
  tooltip support
    renders with tooltip
  with dropdown
    renders dropdown button (FAILED - 31)
  form integration
    renders submit button with form attributes

Document Locking Workflow
  Authorization checks
    user without write permission
      does not show lock button (FAILED - 32)
    user with write permission
      shows lock button
  Unlocking a document
    unlocks the document
  Locking a document
    shows lock button for authorized user
    allows scheduling automatic unlock
    allows locking document with reason (FAILED - 33)
  Lock expiration
    shows expired lock information
  Viewing locked document
    as another user
      shows lock information but no unlock button (FAILED - 34)
    as the user who locked it
      shows lock information and unlock button
    as admin
      shows unlock button for admin (FAILED - 35)

Ui::UserAvatarComponent
  generates consistent background colors
  renders with different sizes (FAILED - 36)
  shows tooltip when enabled (FAILED - 37)
  renders user initials
  uses email initial when no names
  handles missing first name
  handles missing last name

DocumentProcessingService
  #process!
    processes document through all stages
    handles processing errors
    updates document processing status
  private helper methods
    #extract_pdf_text
      extracts text from PDF using PDF reader (FAILED - 38)
    #extract_ocr_text
      uses Tesseract for OCR (FAILED - 39)
    #suggest_tags_from_content
      suggests tags based on content keywords (FAILED - 40)
      filters out common words
    #needs_ocr?
      returns true for image files (FAILED - 41)
      returns false for text-based files (FAILED - 42)
    #calculate_content_hash
      generates SHA256 hash of content
  #apply_auto_tagging
    applies automatic tags based on content (FAILED - 43)
    does not duplicate existing tags (FAILED - 44)
  #extract_text
    with Word document
      extracts text from Word document (FAILED - 45)
    with image file
      uses OCR for text extraction (FAILED - 46)
    with PDF file
      extracts text from PDF (FAILED - 47)
  #run_virus_scan
    scans document for viruses (FAILED - 48)
    quarantines infected files (FAILED - 49)
  #generate_thumbnail
    with PDF file
      generates thumbnail for PDF (FAILED - 50)
    with image file
      generates thumbnail for image (FAILED - 51)
  #extract_metadata
    extracts file metadata (FAILED - 52)
    calculates content hash (FAILED - 53)

SpacePolicy
  Scope
    when user is regular user or admin
      returns only spaces from user organization for admin
      returns only spaces from user organization for regular user
    when user is from different organization
      returns only spaces from user organization
    when user is nil
      returns empty scope
    when user is super admin
      returns all spaces
  show?, create?, update? et destroy?
    when user is from same organization
      grants access to super admin
      grants access to regular user
      grants access to admin
    when user is from different organization
      denies access to regular user
    when user is nil
      denies access

Navigation::BreadcrumbComponent
  item variations
    handles items without paths (current page)
    handles items with different key names
  edge cases
    handles empty items array
    handles items with missing names gracefully
    handles single item
  separators
    uses slash separator
    uses dot separator
    uses chevron separator by default
    uses arrow separator
  truncation
    does not truncate short breadcrumbs
    can disable truncation
    truncates long breadcrumbs by default (FAILED - 54)
  icons
    shows home icon for home link
    can include icons in breadcrumb items
  basic rendering
    includes home link by default
    renders breadcrumb navigation
    can hide home link
    uses custom root path for home
  styling
    makes non-current items hoverable
    styles the last item differently (current page)
  accessibility
    marks current page appropriately
    uses ordered list for structure
    uses semantic navigation element
  custom classes
    accepts custom wrapper classes
  responsive behavior
    applies responsive text size

ProjectWorkflowTransition
  add some examples to (or delete) /app/spec/models/project_workflow_transition_spec.rb (PENDING: Not yet implemented)

Documents::AiInsightsComponent
  #confidence_level_text
    returns "Faible" for low confidence
    returns "Fiable" for good confidence
    returns "Très fiable" for high confidence
    returns "Modérée" for moderate confidence
  #category_description
    returns description for contract category
    returns description for invoice category
    returns description for report category
    returns default description for unknown category
  #entity_color
    returns purple for date entity
    returns gray for unknown entity
    returns green for phone entity
    returns blue for email entity
  #entity_icon
    returns default organization icon for unknown entity
    returns specific icon for email entity
    returns specific icon for date entity
    returns specific icon for phone entity
  #show_ai_insights?
    returns true when document is AI processed
    returns false when document is not AI processed
  #classification_badge_color
    returns yellow for good confidence (60-79%)
    returns red for low confidence (below 40%)
    returns orange for moderate confidence (40-59%)
    returns green for high confidence (80-100%)
  #initialize
    sets the document
  rendering
    when document is not AI processed
      does not show insights when not processed
    when document is AI processed
      renders the component (FAILED - 55)

Ui::IconComponent
  custom CSS classes
    combines custom class with size classes
    applies custom CSS class
  basic rendering
    renders with default size
    applies default stroke width (FAILED - 56)
    applies custom stroke width (FAILED - 57)
    renders SVG icon
    renders with custom size
  icon path handling
    handles non-existent icon gracefully
    renders icon when path exists
  icon library
    renders financial icons
    renders status/action icons
    renders people/roles icons
    renders document icons
    renders navigation icons
    renders communication icons
    renders construction/building icons
  string vs symbol names
    accepts symbol icon name
    accepts string icon name
  accessibility
    allows role attribute for semantic icons
    includes aria-hidden by default (FAILED - 58)
  responsive sizing
    can use responsive size classes
  SVG attributes
    sets proper SVG attributes
    sets aria-hidden for decorative icons (FAILED - 59)
  viewbox customization
    uses default viewbox (FAILED - 60)
    accepts custom viewbox (FAILED - 61)
  common use cases
    renders small icon for inline use
    renders with brand colors
    renders large icon for headers
  animation support
    can add transition classes
    can add animation classes

WorkflowStep
  scopes
    .ordered
      returns steps ordered by position (FAILED - 62)
    .manual
      returns only manual steps (FAILED - 63)
  associations
    is expected to belong to assignee class_name => User optional: true (FAILED - 64)
    is expected to have many workflow_submissions (FAILED - 65)
    is expected to belong to workflow required: true
  validations
    is expected to validate that :position cannot be empty/falsy
    validates step_type inclusion (FAILED - 66)
    is expected to validate that :step_type cannot be empty/falsy (FAILED - 67)
    is expected to validate that :name cannot be empty/falsy
    validates position uniqueness scoped to workflow (FAILED - 68)
    is expected to validate that :workflow cannot be empty/falsy (FAILED - 69)
  instance methods
    #next_step
      returns nil for last step (FAILED - 70)
      returns the next step in sequence (FAILED - 71)
    #estimated_duration_in_hours
      returns estimated duration divided by 3600 (FAILED - 72)
      returns 0 if no estimated duration (FAILED - 73)
    #can_be_completed_by?
      returns true if step is unassigned (FAILED - 74)
      returns true if user is assignee (FAILED - 75)
      returns false if user is not assignee (FAILED - 76)
    #previous_step
      returns nil for first step (FAILED - 77)
      returns the previous step in sequence (FAILED - 78)

UserGroup
  add some examples to (or delete) /app/spec/models/user_group_spec.rb (PENDING: Not yet implemented)

ApplicationController
  Devise parameter configuration
    #configure_permitted_parameters
      permits additional parameters for sign up
  CSRF protection
    protects from forgery attacks

Document AI and Compliance Features
  Regulatory Compliance
    Financial compliance
      flags high-value transactions (FAILED - 79)
    GDPR compliance
      detects GDPR compliance issues (FAILED - 80)
    Contract compliance
      checks for mandatory contract clauses (FAILED - 81)
    Environmental compliance
      checks for environmental impact assessment (FAILED - 82)
  AI Classification
    automatic classification on upload
      classifies an invoice document (FAILED - 83)
      extracts entities from documents (FAILED - 84)
      classifies a contract document (FAILED - 85)
    manual classification
      allows manual AI classification trigger (FAILED - 86)
  Compliance Dashboard
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_ai_compliance_spec.rb:272)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_ai_compliance_spec.rb:272)
    shows compliance overview (FAILED - 87)
  Compliance Integration with Validation
    shows compliance warnings during validation (FAILED - 88)
  Batch Compliance Operations
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_ai_compliance_spec.rb:352)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_ai_compliance_spec.rb:352)
    generates compliance report for multiple documents (FAILED - 89)

Document
  state machine
    starts in draft state
    transitions
      can transition from draft to published
      can transition from published to locked
      can transition from locked to archived
  file format detection
    #supported_format?
      returns true for supported formats
      returns false for unsupported formats
    #document_type
      with unsupported file
        returns other type
      with Word file
        returns word type
      with image file
        returns image type
      with PDF file
        returns pdf type
  processing
    callbacks
      enqueues processing job after creation
    metadata management
      can store document properties
      can add metadata
    OCR detection
      needs OCR for PDFs without text
      does not need OCR for PDFs with text
      needs OCR for images
    processing status
      can mark processing as failed
      can mark processing as started
      starts with pending status
      can mark processing as completed
    file type detection
      detects image files
      detects PDF files
      detects office documents
    preview generation
      reports preview generated when attached
      reports preview not generated initially
  validations
    is expected to validate that :title cannot be empty/falsy
    is expected to validate that :file cannot be empty/falsy
    file size validation
      accepts files up to 100MB
      rejects files larger than 100MB
  search data
    #search_data
      includes all searchable fields
      includes tag names
  associations
    is expected to have many children dependent => destroy
    is expected to have many source_links class_name => Link dependent => destroy
    is expected to have many shares dependent => destroy
    is expected to belong to folder optional: true
    is expected to belong to uploaded_by class_name => User required: true
    is expected to belong to space required: true
    is expected to have many target_links class_name => Link dependent => destroy
    is expected to have many tags through document_tags
    is expected to have many metadata dependent => destroy
    is expected to belong to parent optional: true
    is expected to have many document_tags dependent => destroy
  traits
    with_tags trait
      creates a document with tags
    status traits
      creates published documents
      creates locked documents
      creates archived documents
    with_versions trait
      creates a document with versions

Authorizable
  #authorize_user
    accepts optional parameters (FAILED - 90)
    creates a user authorization (FAILED - 91)
  included module behavior
    adds authorizations association (FAILED - 92)
    adds authorization methods (FAILED - 93)
    adds scopes to the class (FAILED - 94)
  #readable_by?
    returns true for user with write permission (FAILED - 95)
    returns true for user with admin permission (FAILED - 96)
    returns true for user with read permission (FAILED - 97)
    returns true for super admin (FAILED - 98)
    returns false for user without permission (FAILED - 99)
    returns true for owner when owned_by? is true (FAILED - 100)
  #revoke_authorization
    revokes user authorization (FAILED - 101)
    accepts revocation comment (FAILED - 102)
  #authorized_for?
    checks group permissions (FAILED - 103)
    returns false for nil user (FAILED - 104)
    checks direct user permissions (FAILED - 105)
  #permissions_for
    returns unique permissions (FAILED - 106)
    returns combined permissions from user and groups (FAILED - 107)
  #writable_by?
    returns true for user with write permission (FAILED - 108)
    returns true for super admin (FAILED - 109)
    returns true for user with admin permission (FAILED - 110)
    returns true for owner when owned_by? is true (FAILED - 111)
    returns false for user with only read permission (FAILED - 112)
  #admin_by?
    returns true for user with admin permission (FAILED - 113)
    returns false for user with read or write permission (FAILED - 114)
    returns true for super admin (FAILED - 115)
    returns true for owner when owned_by? is true (FAILED - 116)
  #grant_permission
    grants permission to group (FAILED - 117)
    grants permission to user (FAILED - 118)
    raises error for invalid subject (FAILED - 119)
  #revoke_permission
    revokes permission from user (FAILED - 120)
  #can_validate?
    returns false for user with only read permission (FAILED - 121)
    returns true for owner when owned_by? is true (FAILED - 122)
    returns true for super admin (FAILED - 123)
    returns true for user with validate permission (FAILED - 124)
    returns true for user with admin permission (FAILED - 125)
  #authorize_group
    creates a group authorization (FAILED - 126)
  #authorized_groups
    filters by permission level (FAILED - 127)
    returns all authorized groups when no permission specified (FAILED - 128)
  alias methods
    provides alias methods for permission checks (FAILED - 129)
  #authorized_users
    filters by permission level (FAILED - 130)
    returns all authorized users when no permission specified (FAILED - 131)
  private #owned_by?
    returns false when user is not the owner (FAILED - 132)
    returns true when object has user attribute matching the user (FAILED - 133)
    returns true when object has project_manager attribute matching the user (FAILED - 134)
  scope methods
    readable_by scope returns items user can read (FAILED - 135)
    writable_by scope returns items user can write (FAILED - 136)

UsersController
  GET #show
    assigns the requested user
    returns a success response
    allows access to users from other organizations for admin
  GET #index
    returns a success response
    assigns organization users
    only shows users from current organization
    with search parameter
      filters users by email
      filters users by name
  authentication
    redirects to login for index
    redirects to login for show
  GET #new
    returns a success response
    assigns the user to current organization
    assigns a new user
  DELETE #destroy
    destroys the user
    prevents self-deletion
    redirects to the users list
  PATCH #update
    with invalid parameters
      renders edit template
      does not update the user
    with valid parameters
      redirects to the user
      updates the requested user
    updating admin status
      allows admin to demote user
      allows admin to promote user
  POST #create
    with valid parameters
      redirects to the created user
      assigns the user to current organization
      creates a new User
    with invalid parameters
      does not create a new User
      renders new template
    with duplicate email
      does not create user with duplicate email
  GET #edit
    returns a success response
    assigns the requested user
  authorization
    when signed in as regular user
      redirects to root for index
      redirects to root for new
      redirects to root for viewing other users
      redirects to root for viewing own profile

Ui::CardComponent
  renders with custom CSS classes
  renders collapsible card
  renders with actions slot (FAILED - 137)
  renders with title
  renders basic card
  renders with footer slot
  renders with variant styles (FAILED - 138)
  loading state
    shows skeleton loader when loading (FAILED - 139)
  with complex content
    renders nested components
  clickable cards
    renders as clickable with link (FAILED - 140)

Ui::ModalComponent
  modal sections
    renders footer slot
    renders all three sections
    renders body slot
    renders header slot
  custom content
    allows action buttons in footer (FAILED - 141)
    allows complex content in body (FAILED - 142)
  close button
    close button has proper aria label (FAILED - 143)
    shows close button by default
    can hide close button
  accessibility
    has proper ARIA attributes
    has aria-labelledby when title is present (FAILED - 144)
    has proper role attribute (FAILED - 145)
    has aria-modal attribute (FAILED - 146)
  modal structure
    has backdrop overlay
    has proper modal container structure
    positions modal in center
  stimulus integration
    includes modal controller data attributes
    includes hide trigger on close button
  basic rendering
    has hidden class by default
    renders with title
    renders modal with required id
  animation classes
    is prepared for animations
  modal sizes
    renders with default medium size
    renders large modal
    renders full width modal
    renders extra large modal
    renders small modal
  z-index layering
    has high z-index for overlay
  scrolling behavior
    allows scrolling for long content
    limits modal height
  responsive design
    adapts width on mobile
    has responsive padding
  backdrop behavior
    allows backdrop dismiss by default
    can disable backdrop dismiss

Schedulable
  private methods
    #schedule_required?
      returns true by default
    #end_date_after_start_date
      does not add error when dates are missing (FAILED - 147)
      adds error when end_date is before start_date (FAILED - 148)
      does not add error when dates are valid (FAILED - 149)
  #duration_in_hours
    returns duration in hours (FAILED - 150)
    returns nil when duration is nil (FAILED - 151)
  #progress_percentage
    returns 0 for upcoming schedule (FAILED - 152)
    handles edge cases (FAILED - 153)
    returns 0 when dates are missing (FAILED - 154)
    calculates progress percentage for current schedule (FAILED - 155)
  #upcoming?
    returns false when start date is missing (FAILED - 156)
    returns true when start date is in the future (FAILED - 157)
    returns false when start date is in the past (FAILED - 158)
  scopes
    .starting_between
      returns items that start within the given date range (FAILED - 159)
    .between_dates
      returns items that overlap with the given date range (FAILED - 160)
    .past
      returns items that have ended (FAILED - 161)
    .current
      returns items that are currently active (FAILED - 162)
    .upcoming
      returns items that start in the future (FAILED - 163)
    .ending_between
      returns items that end within the given date range (FAILED - 164)
  #remaining_days
    calculates remaining days (FAILED - 165)
    returns nil when remaining_time is nil (FAILED - 166)
  #past?
    returns true when end date is in the past (FAILED - 167)
    returns false when end date is missing (FAILED - 168)
    returns false when end date is in the future (FAILED - 169)
  included module behavior
    allows valid date range (FAILED - 170)
    adds schedule validation when required (FAILED - 171)
    adds scopes to the class
    validates end_date is after start_date (FAILED - 172)
  #current?
    returns true when current time is between start and end dates (FAILED - 173)
    returns false when current time is before start date (FAILED - 174)
    returns false when dates are missing (FAILED - 175)
    returns false when current time is after end date (FAILED - 176)
  #remaining_time
    returns 0 for past schedule (FAILED - 177)
    returns nil when end_date is missing (FAILED - 178)
    calculates remaining time for current/future schedule (FAILED - 179)
  #duration_in_days
    returns nil when duration is nil (FAILED - 180)
    returns duration in days (FAILED - 181)
  #duration
    calculates duration between start and end dates (FAILED - 182)
    returns nil when dates are missing (FAILED - 183)
  #overlaps_with?
    handles edge case when schedules touch exactly (FAILED - 184)
    returns true when schedules overlap (FAILED - 185)
    returns false when dates are missing (FAILED - 186)
    returns false when schedules do not overlap (FAILED - 187)
    returns true when one schedule contains the other (FAILED - 188)
    returns false when other object does not respond to date methods (FAILED - 189)

Ui::StatusBadgeComponent
  renders with preset status
  renders with custom label
  renders removable badge
  renders with dot indicator
  renders with custom color
  handles unknown status gracefully
  renders with different sizes

MetadataField
  instance methods
    #select_options_array
      returns empty array for non-select fields
      handles nil select_options
      parses select options from string
    #validation_rules
      returns hash of validation rules
    #html_input_type
      returns correct input type for each field type
  callbacks
    normalizes select options before save
  associations
    is expected to have many metadata dependent => destroy
    is expected to belong to metadata_template required: true
  validations
    is expected to validate that :field_type cannot be empty/falsy
    validates uniqueness of name scoped to metadata_template
    validates field_type inclusion
    is expected to validate that :name cannot be empty/falsy
  scopes
    .optional
      returns only optional fields
    .required
      returns only required fields

Simple test
  works

DocumentTag
  associations
    is expected to belong to tag required: true
    is expected to belong to document required: true
  validations
    is expected to validate that :document_id is case-sensitively unique within the scope of :tag_id

Document Sharing Workflow
  internal sharing

📸 Screenshot: /app/tmp/screenshots/failure_20250609222147.png
    shares document with another user in organization (FAILED - 190)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222158.png
    shares with user group (FAILED - 191)
  external sharing
    sends document by email (PENDING: Temporarily skipped with xit)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222208.png
    creates shareable link with password protection (FAILED - 192)
  share management

📸 Screenshot: /app/tmp/screenshots/failure_20250609222208.png
    modifies existing share permissions (FAILED - 193)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222208.png
    tracks share access and downloads (FAILED - 194)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222208.png
    revokes document share (FAILED - 195)
  bulk sharing
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222209.png
    shares multiple documents at once (FAILED - 196)
  share templates

📸 Screenshot: /app/tmp/screenshots/failure_20250609222219.png
    saves and reuses sharing configurations (FAILED - 197)

Ui::DataTableComponent
  basic table wrapper mode
    renders responsive wrapper
    renders without responsive wrapper when disabled
  advanced table mode
    renders table with items and columns
    applies striped styling
    handles proc keys
    handles nested attributes with dot notation
    renders different cell types
    applies hoverable styling
    renders empty state when no items

API V1 Metadata
  PATCH /api/v1/metadata/templates/:id
    updates the template and fields (FAILED - 198)
    prevents updating templates from other organizations (FAILED - 199)
  DELETE /api/v1/metadata/templates/:id
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:200)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:200)
    deletes the template (FAILED - 200)
    prevents deletion if template is in use (FAILED - 201)
  GET /api/v1/metadata/templates
    returns all metadata templates (FAILED - 202)
    includes field definitions (FAILED - 203)
  POST /api/v1/metadata/bulk
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:433)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:433)
    handles partial failures (FAILED - 204)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:398)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:398)
    applies metadata to multiple documents (FAILED - 205)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:420)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:420)
    replaces all metadata when mode is replace (FAILED - 206)
  GET /api/v1/metadata/fields/search
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:359)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:359)
    returns values for a specific key (FAILED - 207)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:350)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:350)
    returns unique metadata keys (FAILED - 208)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:369)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:369)
    autocompletes metadata values (FAILED - 209)
  PATCH /api/v1/documents/:id/metadata
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:304)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:304)
    updates existing metadata (FAILED - 210)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:325)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:325)
    removes metadata fields when value is null (FAILED - 211)
  POST /api/v1/metadata/templates
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:113)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (4 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:113)
    creates a new metadata template (FAILED - 212)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:126)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:126)
    validates template uniqueness (FAILED - 213)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:141)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/metadata_spec.rb:141)
    validates field definitions (FAILED - 214)
  POST /api/v1/documents/:id/metadata
    applies metadata to document (FAILED - 215)
    validates field types (FAILED - 216)
    validates required fields (FAILED - 217)

Demo Critical Paths
  UI Components
    shows responsive navigation (FAILED - 218)
    displays dashboard with statistics (FAILED - 219)
  Document Integration
[WARNING] The default rounding mode will change from `ROUND_HALF_EVEN` to `ROUND_HALF_UP` in the next major release. Set it explicitly using `Money.rounding_mode=` to avoid potential problems.
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:88)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:88)
    can access documents from project (FAILED - 220)
  ImmoPromo Features
    can access projects list
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:56)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:56)
    can create a new project (FAILED - 221)
    can view project details and phases (FAILED - 222)
  Core GED Features
    can create space and navigate (FAILED - 223)
    can upload a document (FAILED - 224)
  Error Handling
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:122)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/demo_critical_paths_spec.rb:122)
    handles 404 gracefully (FAILED - 225)

Basket Management
  Basket sharing
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from times at <internal:numeric>:237)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from times at <internal:numeric>:237)
    allows sharing a basket (FAILED - 226)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:170)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:170)
    displays shared baskets to other users (FAILED - 227)
  Basket management
    allows deleting basket (FAILED - 228)
    allows editing basket
    allows removing documents from basket (FAILED - 229)
    displays basket contents (FAILED - 230)
  Basket creation
    validates basket name presence (FAILED - 231)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:17)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:17)
    allows user to create a new basket (FAILED - 232)
  Adding documents to basket
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:68)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:68)
    prevents adding the same document twice (FAILED - 233)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:47)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:47)
    allows adding a document to basket from document view (FAILED - 234)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:81)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:81)
    shows option to create new basket when adding document (FAILED - 235)
  Basket list view
    displays all user baskets with document counts (FAILED - 236)
    provides dropdown actions for each basket (FAILED - 237)
  Empty states
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:181)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/basket_management_spec.rb:181)
    shows empty state when no baskets exist (FAILED - 238)
    shows empty state when basket has no documents

Metadata and Tagging
  document tagging

📸 Screenshot: /app/tmp/screenshots/failure_20250609222221.png
    suggests tags based on document content (FAILED - 239)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222221.png
    adds and removes tags from document (FAILED - 240)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222221.png
    manages tag colors and categories (FAILED - 241)
  bulk metadata operations
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222221.png
    applies tags to multiple documents (FAILED - 242)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222221.png
    applies metadata template to multiple documents (FAILED - 243)
  search by tags and metadata

📸 Screenshot: /app/tmp/screenshots/failure_20250609222222.png
    searches by metadata values (FAILED - 244)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222222.png
    filters documents by tags (FAILED - 245)
  metadata inheritance

📸 Screenshot: /app/tmp/screenshots/failure_20250609222232.png
    inherits metadata from parent folder (FAILED - 246)
  metadata management

📸 Screenshot: /app/tmp/screenshots/failure_20250609222232.png
    applies metadata template to document (FAILED - 247)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222232.png
    creates custom metadata fields (FAILED - 248)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222232.png
    validates required metadata fields (FAILED - 249)

Ui::DataGridComponent
  responsive design
    can disable responsive wrapper (FAILED - 250)
    applies responsive wrapper by default (FAILED - 251)
  accessibility
    includes proper ARIA attributes for sortable columns (FAILED - 252)
    has proper table structure (FAILED - 253)
  stimulus integration
    includes data attributes for row click handling (FAILED - 254)
  empty state
    shows empty state when no data (FAILED - 255)
  basic rendering
    renders table with data (FAILED - 256)
    renders column headers (FAILED - 257)
  loading state
    shows loading skeleton (FAILED - 258)
  row selection
    renders checkboxes when selectable (FAILED - 259)
  column configuration
    applies column alignment (FAILED - 260)
    applies custom column width (FAILED - 261)
    handles sortable columns (FAILED - 262)
  table styling options
    applies hover effect by default (FAILED - 263)
    can disable striping (FAILED - 264)
    applies compact mode (FAILED - 265)
    applies striped rows by default (FAILED - 266)
    applies bordered styling (FAILED - 267)
  custom CSS classes
    accepts custom wrapper classes (FAILED - 268)
    accepts custom column classes (FAILED - 269)
  data formatting
    formats with custom proc (FAILED - 270)
    formats currency values (FAILED - 271)
    formats boolean values (FAILED - 272)
  row actions
    renders action buttons for each row (FAILED - 273)

home/index.html.tailwindcss
  add some examples to (or delete) /app/spec/views/home/index.html.tailwindcss_spec.rb (PENDING: Not yet implemented)

GedController
  POST #upload_document
    with valid params
      creates a new document
      returns success JSON
      assigns the current user as document owner
    with invalid params
      does not create a new document
      returns error JSON
  GET #dashboard
    assigns recent documents
    assigns favorite spaces
    returns http success
    assigns counts
  GET #show_space
    assigns documents without folder
    assigns the requested space
    assigns root folders
    returns http success
    denies access to spaces from other organizations
  GET #show_folder
    returns http success
    assigns documents in folder
    denies access to folders from other organizations
    assigns subfolders
    assigns the requested folder
  GET #show_document
    denies access to documents from other organizations
    returns http success
    assigns the requested document
  POST #create_space
    with valid params
      creates a new space
      returns success JSON
    with invalid params
      does not create a new space
      returns error JSON
  POST #create_folder
    with invalid params
      returns error JSON
      does not create a new folder
    with valid params
      creates a subfolder when parent_id is provided
      creates a new folder
      returns success JSON

NotificationPolicy
  immo_promo_notifications?
    denies unauthenticated users
    when user has immo_promo access
      allows access
    when user does not have immo_promo access
      denies access
  mark_all_as_read?, bulk_mark_as_read? et bulk_destroy?
    allows authenticated users
    denies unauthenticated users
  show?
    denies unauthenticated users
    denies user from viewing other users notification
    allows user to view their own notification
  mark_as_read?
    allows user to mark their own notification as read
    denies user from marking other users notification as read
  NotificationPolicy::Scope
    includes only user notifications
    returns empty scope for unauthenticated users
    #project_scope
      when user cannot access project
        returns empty scope
      when project is nil
        returns empty scope
      when user can access project
        returns notifications related to project
    #immo_promo_scope
      when user has immo_promo access
        includes only immo_promo related notifications
      when user does not have immo_promo access
        returns empty scope
  destroy?
    allows user to delete their own notification
    denies user from deleting other users notification
  project_notifications?
    when user has immo_promo access
      allows access
    when user does not have immo_promo access
      denies access
  index?
    denies unauthenticated users
    allows authenticated users
  dropdown?, urgent? et stats?
    denies unauthenticated users
    allows authenticated users
  private helper methods
    #can_access_immo_promo_notification?
      with non-immo-promo notification
        returns true
      with immo-promo notification
        when user does not have immo_promo access
          returns false
        when user has immo_promo access
          returns true
    #notification_belongs_to_user?
      returns false for other user notification
      returns true for own notification

Performance and Accessibility
  accessibility compliance
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)
    ensures sufficient color contrast (FAILED - 274)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222233.png
    announces dynamic content changes (FAILED - 275)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222233.png
    supports keyboard navigation (FAILED - 276)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222233.png
    supports screen readers (FAILED - 277)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    passes WCAG 2.1 AA standards (FAILED - 278)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    provides alternative text for images (FAILED - 279)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    provides proper heading hierarchy (FAILED - 280)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    provides skip links (FAILED - 281)
  memory management

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    prevents memory leaks with proper cleanup (FAILED - 282)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222234.png
    removes event listeners on navigation (FAILED - 283)
  page load performance
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222235.png
    implements progressive loading (FAILED - 284)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222236.png
    loads dashboard within acceptable time (FAILED - 285)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222237.png
    caches resources effectively (FAILED - 286)
  error handling and recovery
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222237.png
    provides timeout handling (FAILED - 287)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222237.png
    handles network errors gracefully (FAILED - 288)
  search performance

📸 Screenshot: /app/tmp/screenshots/failure_20250609222249.png
    provides fast search results (FAILED - 289)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222301.png
    implements search debouncing (FAILED - 290)

Forms::SearchFormComponent
  supports POST method
  renders with custom submit text
  has search icon in form
  renders with initial value
  renders search form with default settings
  renders with custom placeholder
  renders with custom param name

Factories
  workflow_submission factory
    creates a valid instance
  metadatum factory
    creates a valid instance
  project_workflow_transition factory
    creates a valid instance
  immo_promo_stakeholder factory
    creates a valid instance
  immo_promo_permit_condition factory
    creates a valid instance
  document_share factory
    creates a valid instance
  basket_item factory
    creates a valid instance
  user factory
    creates a valid instance
  notification factory
    creates a valid instance
  immo_promo_milestone factory
    creates a valid instance
  tag factory
    creates a valid instance
  word_document factory
    creates a valid instance
  share factory
    creates a valid instance
  metadata_template factory
    creates a valid instance
  document_validation factory
    creates a valid instance
  immo_promo_budget factory
    creates a valid instance
  immo_promo_lot_specification factory
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price_cents` and has a method called `price_cents=` defined. Starting in Rails 7.2 `base_price_cents=` will not be calling `price_cents=` anymore. You may want to additionally define `base_price_cents=` to preserve the current behavior. (called from tap at <internal:kernel>:90)
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price_cents` and has a method called `price_cents=` defined. Starting in Rails 7.2 `final_price_cents=` will not be calling `price_cents=` anymore. You may want to additionally define `final_price_cents=` to preserve the current behavior. (called from tap at <internal:kernel>:90)
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price` and has a method called `price` defined. Starting in Rails 7.2 `base_price` will not be calling `price` anymore. You may want to additionally define `base_price` to preserve the current behavior. (called from tap at <internal:kernel>:90)
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price` and has a method called `price=` defined. Starting in Rails 7.2 `base_price=` will not be calling `price=` anymore. You may want to additionally define `base_price=` to preserve the current behavior. (called from tap at <internal:kernel>:90)
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price` and has a method called `price` defined. Starting in Rails 7.2 `final_price` will not be calling `price` anymore. You may want to additionally define `final_price` to preserve the current behavior. (called from tap at <internal:kernel>:90)
DEPRECATION WARNING: Immo::Promo::Lot model aliases `price` and has a method called `price=` defined. Starting in Rails 7.2 `final_price=` will not be calling `price=` anymore. You may want to additionally define `final_price=` to preserve the current behavior. (called from tap at <internal:kernel>:90)
    creates a valid instance
  space factory
    creates a valid instance
  user_group_membership factory
    creates a valid instance
  project_workflow_step factory
    creates a valid instance
  basket factory
    creates a valid instance
  search_query factory
    creates a valid instance
  authorization factory
    creates a valid instance
  workflow_step factory
    creates a valid instance
  user_group factory
    creates a valid instance
  immo_promo_reservation factory
    creates a valid instance
  immo_promo_permit factory
    creates a valid instance
  organization factory
    creates a valid instance
  immo_promo_risk factory
DEPRECATION WARNING: Immo::Promo::Risk model aliases `owner`, but `owner` is not an attribute. Starting in Rails 7.2, alias_attribute with non-attribute targets will raise. Use `alias_method :identified_by, :owner` or define the method manually. (called from block (4 levels) in <main> at /app/spec/factories_spec.rb:14)
DEPRECATION WARNING: Immo::Promo::Risk model aliases `owner`, but `owner` is not an attribute. Starting in Rails 7.2, alias_attribute with non-attribute targets will raise. Use `alias_method :assigned_to, :owner` or define the method manually. (called from block (4 levels) in <main> at /app/spec/factories_spec.rb:14)
    creates a valid instance
  immo_promo_phase_dependency factory
    creates a valid instance
  immo_promo_budget_line factory
DEPRECATION WARNING: Immo::Promo::BudgetLine model aliases `planned_amount_cents` and has a method called `planned_amount_cents=` defined. Starting in Rails 7.2 `amount_cents=` will not be calling `planned_amount_cents=` anymore. You may want to additionally define `amount_cents=` to preserve the current behavior. (called from block (4 levels) in <main> at /app/spec/factories_spec.rb:14)
DEPRECATION WARNING: Immo::Promo::BudgetLine model aliases `actual_amount_cents` and has a method called `actual_amount_cents=` defined. Starting in Rails 7.2 `spent_amount_cents=` will not be calling `actual_amount_cents=` anymore. You may want to additionally define `spent_amount_cents=` to preserve the current behavior. (called from block (4 levels) in <main> at /app/spec/factories_spec.rb:14)
    creates a valid instance
  workflow factory
    creates a valid instance
  folder factory
    creates a valid instance
  immo_promo_contract factory
    creates a valid instance
  link factory
    creates a valid instance
  immo_promo_progress_report factory
    creates a valid instance
  immo_promo_task factory
    creates a valid instance
  pdf_document factory
    creates a valid instance
  immo_promo_certification factory
    creates a valid instance
  immo_promo_project factory
    creates a valid instance
  image_document factory
    creates a valid instance
  immo_promo_phase factory
    creates a valid instance
  immo_promo_task_dependency factory
    creates a valid instance
  immo_promo_time_log factory
    creates a valid instance
  validation_request factory
    creates a valid instance
  metadata_field factory
    creates a valid instance
  document factory
    creates a valid instance
  document_tag factory
    creates a valid instance
  immo_promo_lot factory
    creates a valid instance

Link
  add some examples to (or delete) /app/spec/models/link_spec.rb (PENDING: Not yet implemented)

HomeController
  GET #index
    when user is not authenticated
      redirects to sign in page
    when user is authenticated
      returns http success
      loads without error

User Authentication
  User resets password (FAILED - 291)
  User signs in successfully (FAILED - 292)
  User fails to sign in with wrong password (FAILED - 293)
  User signs out (FAILED - 294)

AiClassificationService
  #classify
    with invoice document
      classifies as invoice (FAILED - 295)
    with PDF document
      classifies as contract based on title (FAILED - 296)
  #suggest_tags
    suggests relevant tags based on content (FAILED - 297)
    limits number of suggested tags (FAILED - 298)
    returns unique tags (FAILED - 299)
  #extract_entities
    extracts dates (FAILED - 300)
    extracts references (FAILED - 301)
    extracts amounts (FAILED - 302)
    extracts phone numbers (FAILED - 303)
    extracts emails (FAILED - 304)
  private methods
    #extract_amounts
      extracts monetary amounts (FAILED - 305)
    #classify_by_keywords
      returns contract for contract keywords (FAILED - 306)
      returns report for report keywords (FAILED - 307)
      returns other for unmatched content (FAILED - 308)
    #extract_dates
      extracts date formats (FAILED - 309)
    #extract_phone_numbers
      extracts various phone formats (FAILED - 310)
    #extract_emails
      extracts valid email addresses (FAILED - 311)
  #confidence_score
    calculates confidence based on title match (FAILED - 312)
    increases confidence with content match (FAILED - 313)

Ui::DropdownComponent
  positions dropdown to the left when specified
  renders with trigger icon
  positions dropdown to the right by default
  renders with trigger text
  has proper data attributes for interaction
  renders dropdown content

Navigation::NavbarComponent
  hides admin links for regular users
  renders notifications link (FAILED - 314)
================================================================================
<nav class="bg-white shadow-sm border-b border-gray-200">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <!-- Logo et navigation principale -->
      <div class="flex">
        <div class="flex-shrink-0 flex items-center">
          <a href="{:class=&gt;" text-xl font-bold text-primary-600>/</a>        </div>
        
        <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
            <a href="{:class=&gt;" border-primary-500 text-gray-900 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium>/</a>            <a href="{:class=&gt;" border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium>/ged</a>            <a href="{:class=&gt;" border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium>/baskets</a>            <a href="{:class=&gt;" border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium>/tags</a>            <a href="{:class=&gt;" border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium>/search</a>        </div>
      </div>

      <!-- Barre de recherche -->
      <div class="flex-1 flex items-center justify-center px-2 lg:ml-6 lg:justify-end">
        <div class="max-w-lg w-full lg:max-w-xs">
          <div class="relative" data-controller="search-autocomplete" data-search-autocomplete-url-value="/search/suggestions">
            <form action="/search" method="get" data-search-autocomplete-target="form" data-action="submit-&gt;search-autocomplete#submitForm"></form>            
            <!-- Dropdown des suggestions -->
            <div class="hidden absolute z-50 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm max-h-60" data-search-autocomplete-target="suggestions">
              <!-- Les suggestions seront insérées ici par JavaScript -->
            </div>
          </div>
        </div>
      </div>

      <!-- Menu utilisateur -->
      <div class="hidden sm:ml-6 sm:flex sm:items-center">
          <!-- Notifications -->
          <a href="{:class=&gt;" relative bg-white p-1 rounded-full text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500>/notifications</a>
          <!-- Menu déroulant utilisateur -->
          <div class="ml-3 relative" data-controller="dropdown">
            <div>
              <button type="button" class="max-w-xs bg-white flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500" id="user-menu-button" data-action="click-&gt;dropdown#toggle">
                <span class="sr-only">Ouvrir le menu utilisateur</span>
                <div class="h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center">
                  <span class="text-sm font-medium text-primary-700">
                    A
                  </span>
                </div>
              </button>
            </div>

            <div class="hidden origin-top-right absolute right-0 mt-2 w-48 rounded-md shadow-lg py-1 bg-white ring-1 ring-black ring-opacity-5 focus:outline-none" data-dropdown-target="menu" role="menu" aria-orientation="vertical" aria-labelledby="user-menu-button">
                <a href="{:class=&gt;" block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 :role="">"menuitem", :method=&gt;nil}"&gt;/users/edit</a>                <a href="{:class=&gt;" block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 :role="">"menuitem", :method=&gt;nil}"&gt;/notifications</a>                <a href="{:class=&gt;" block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 :role="">"menuitem", :method=&gt;nil}"&gt;/users/edit</a>                <a href="{:class=&gt;" block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 :role="">"menuitem", :method=&gt;:delete}"&gt;/users/sign_out</a>            </div>
          </div>
      </div>

      <!-- Menu mobile -->
      <div class="flex items-center sm:hidden">
        <button type="button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-primary-500" data-controller="mobile-menu" data-action="click-&gt;mobile-menu#toggle">
          <span class="sr-only">Ouvrir le menu principal</span>
          <svg class="block h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Menu mobile étendu -->
  <div class="sm:hidden hidden" data-mobile-menu-target="menu">
    <!-- Barre de recherche mobile -->
    <div class="px-4 pt-2 pb-3">
      <div class="relative" data-controller="search-autocomplete" data-search-autocomplete-url-value="/search/suggestions">
        <form action="/search" method="get" data-search-autocomplete-target="form" data-action="submit-&gt;search-autocomplete#submitForm"></form>        
        <!-- Dropdown des suggestions -->
        <div class="hidden absolute z-50 mt-1 w-full bg-white shadow-lg rounded-md py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm max-h-60" data-search-autocomplete-target="suggestions">
          <!-- Les suggestions seront insérées ici par JavaScript -->
        </div>
      </div>
    </div>
    
    <div class="pt-2 pb-3 space-y-1">
        <a href="{:class=&gt;" bg-primary-50 border-primary-500 text-primary-700 block pl-3 pr-4 py-2 border-l-4 text-base font-medium>/</a>        <a href="{:class=&gt;" border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium>/ged</a>        <a href="{:class=&gt;" border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium>/baskets</a>        <a href="{:class=&gt;" border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium>/tags</a>        <a href="{:class=&gt;" border-transparent text-gray-600 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-800 block pl-3 pr-4 py-2 border-l-4 text-base font-medium>/search</a>    </div>
  </div>
</nav>
================================================================================
  renders navigation bar (FAILED - 315)
  shows admin links for admin users (FAILED - 316)
  highlights active page (FAILED - 317)
  renders mobile menu toggle
  renders user menu when authenticated
  renders search bar (FAILED - 318)
  shows user menu items (FAILED - 319)
  renders main navigation links (FAILED - 320)
  with notifications
    shows notification count when user has unread notifications (FAILED - 321)
  when user is not signed in
    shows login links
    does not show user menu

Organization Management
  Admin configures organization settings (FAILED - 322)
  Admin exports organization data (FAILED - 323)
  Admin manages metadata templates (FAILED - 324)
  Admin manages organization billing (FAILED - 325)
  Admin manages user groups (FAILED - 326)
  Admin views organization statistics (FAILED - 327)
  Admin configures workflows (FAILED - 328)
  Admin manages spaces (FAILED - 329)
  Admin creates a new user (FAILED - 330)

BaseCardComponent
  #card_classes
    excludes shadow class when shadow is false
    includes border class when border is true
    includes padding class when padding is true
    excludes padding class when padding is false
    excludes border class when border is false
    includes shadow class when shadow is true
    includes base classes
    includes rounded class when rounded is true
    excludes rounded class when rounded is false
    excludes hover classes when hover is false
    includes hover classes when hover is true
  #initialize
    sets default options
    accepts custom options
  #render_card_header
    renders header with title only
    renders header with actions only
    renders header with both title and actions
    returns nil when no title or actions provided
  #call
    renders a div with card classes
    applies custom classes based on options
  #render_card_footer
    renders footer with content
  #render_card_content
    returns content by default

BasketPolicy
  .scope
    allows admins to see all baskets in their organization
    includes shared baskets that are accessible
    returns baskets for the current user only
    allows super admins to see all baskets
  destroy?
    allows admins to delete baskets in their organization
    allows users to delete their own baskets
    denies users from deleting other's baskets
    allows super admins to delete any basket
  show?
    grants access to super admins
    denies access to other users for private baskets
    grants access to admins in same organization
    grants access to shared baskets
    grants access to the basket owner
  update?
    allows users to update their own baskets
    denies users from updating other's baskets
    allows super admins to update any basket
    allows admins to update baskets in their organization
  remove_item?
    denies users from removing items from other's baskets
    allows users to remove items from shared baskets if not expired
    allows users to remove items from their own baskets
    allows admins to remove items from baskets in their organization
  download?
    denies users from downloading private baskets of others
    allows users to download their own baskets
    allows users to download shared baskets
  unshare?
    denies users from unsharing other's baskets
    allows super admins to unshare any basket
    allows users to unshare their own baskets
    allows admins to unshare baskets in their organization
  create?
    grants creation to authenticated users
    denies creation to unauthenticated users
  index?
    grants access to authenticated users
    denies access to unauthenticated users
  add_item?
    allows admins to add items to baskets in their organization
    denies users from adding items to other's baskets
    allows users to add items to shared baskets if not expired
    allows users to add items to their own baskets
  private helper methods
    #basket_belongs_to_user?
      returns true for own basket
      returns false for other user basket
    #can_modify_basket?
      returns false for private basket of others
      returns true for basket owner
      returns true for shared basket
    #basket_is_shared_and_active?
      returns true for shared basket
      returns false for private basket
  share?
    allows super admins to share any basket
    allows users to share their own baskets
    denies users from sharing other's baskets
    allows admins to share baskets in their organization

Ui::ProgressBarComponent
  applies auto color based on percentage
  renders with custom label text
  hides label when disabled
  calculates percentage from value and max
  applies explicit color when specified
  renders progress bar with percentage
  shows label when enabled
  handles zero max value gracefully
  renders with different sizes

Documents::DocumentGridComponent
  actions
    can hide actions (FAILED - 331)
    shows actions by default (FAILED - 332)
  preview availability
    indicates preview available for PDFs (FAILED - 333)
    indicates no preview for other file types (FAILED - 334)
    indicates preview available for images (FAILED - 335)
  basic rendering
    renders all documents (FAILED - 336)
    renders documents in grid view by default (FAILED - 337)
  accessibility
    includes role attributes for interactive elements (FAILED - 338)
    includes proper ARIA labels for actions (FAILED - 339)
  document metadata
    displays document tags (FAILED - 340)
    displays document created date (FAILED - 341)
    displays document owner (FAILED - 342)
  empty state
    shows empty state when no documents (FAILED - 343)
  view modes
    renders in grid view (FAILED - 344)
    renders in compact view (FAILED - 345)
    renders in list view (FAILED - 346)
  selection
    does not show checkboxes by default (FAILED - 347)
    shows checkboxes when selectable (FAILED - 348)
    includes data attributes for selection handling (FAILED - 349)
  custom classes
    accepts custom wrapper classes (FAILED - 350)
  document icons
    shows appropriate icon for Excel files (FAILED - 351)
    shows appropriate icon for PowerPoint files (FAILED - 352)
    shows appropriate icon for PDF files
    shows default icon for unknown file types (FAILED - 353)
    shows appropriate icon for image files (FAILED - 354)
    shows appropriate icon for Word documents (FAILED - 355)
  responsive behavior
    applies responsive grid columns (FAILED - 356)
  file size indicators
    shows yellow for medium files (FAILED - 357)
    shows red for very large files (FAILED - 358)
    shows orange for large files (FAILED - 359)
    shows green for small files
  stimulus integration
    includes data attributes for document actions (FAILED - 360)
    includes data attributes for selection when selectable (FAILED - 361)

Authorization
  validations
    requires either user or user_group
    validates expiry date in future
    validates presence of permission_level
    validates uniqueness of user_id scoped to authorizable and permission
    validates inclusion of permission_level
  #revoke!
    marks authorization as revoked
  #extend_expiry!
    extends the expiry date
  associations
    is expected to belong to user optional: true
    is expected to belong to granted_by optional: true
    is expected to belong to user_group optional: true
    is expected to belong to revoked_by optional: true
    is expected to belong to authorizable required: true
  #active?
    returns false for expired authorization
    returns false for revoked authorization
    returns true for non-expired, non-revoked authorization
  scopes
    filters active authorizations
    filters by user
    filters by group

Document Upload Workflow
  drag and drop upload
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222303.png
    allows file upload via drag and drop (FAILED - 362)
  complete upload workflow
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222303.png
    shows validation errors for invalid form submission (FAILED - 363)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222303.png
    allows user to upload a document from dashboard to viewing it (FAILED - 364)

Ui::ChartComponent
  data formatting
    accepts formatter function for tooltip (FAILED - 365)
  chart types
    renders area chart (FAILED - 366)
    configures donut chart with center label (FAILED - 367)
    renders pie chart (FAILED - 368)
    renders bar chart (FAILED - 369)
    renders donut chart (FAILED - 370)
    configures pie chart specific options (FAILED - 371)
    renders line chart (FAILED - 372)
  accessibility
    includes proper ARIA attributes for chart region (FAILED - 373)
  responsive design
    has responsive wrapper classes
  stimulus integration
    includes data attributes for stimulus controller (FAILED - 374)
  empty state
    handles empty data gracefully
  chart height
    accepts custom height
    applies default height
  loading state
    shows loading skeleton (FAILED - 375)
  multiple series
    handles multiple data series (FAILED - 376)
  basic rendering
    renders with subtitle
    generates unique chart ID (FAILED - 377)
    renders with title
    renders chart container with required attributes (FAILED - 378)
  custom configuration
    merges custom config options (FAILED - 379)
  custom colors
    accepts custom color palette (FAILED - 380)

ProjectWorkflowStep
  add some examples to (or delete) /app/spec/models/project_workflow_step_spec.rb (PENDING: Not yet implemented)

Folder Management
  folder navigation and creation

📸 Screenshot: /app/tmp/screenshots/failure_20250609222313.png
    handles folder permissions correctly (FAILED - 381)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222324.png
    allows user to navigate through folders and create subfolders (FAILED - 382)
  folder operations
    allows deletion of empty folders (PENDING: Temporarily skipped with xit)
    prevents deletion of non-empty folders (PENDING: Temporarily skipped with xit)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222324.png
    allows moving folders (FAILED - 383)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222324.png
    allows renaming folders (FAILED - 384)
  folder tree view

📸 Screenshot: /app/tmp/screenshots/failure_20250609222335.png
    displays folder hierarchy in tree view (FAILED - 385)
  bulk operations
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222335.png
    allows bulk deletion with confirmation (FAILED - 386)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222335.png
    allows selecting and moving multiple items (FAILED - 387)

Ui::OptimizedImageComponent
  accessibility
    handles empty alt text for decorative images
    requires alt text
  noscript fallback
    includes noscript fallback for lazy loaded images
    does not include noscript for non-lazy images
  dimensions
    applies full size classes when no dimensions specified
    accepts width and height
  placeholder options
    shows no placeholder when specified
    shows blur placeholder by default
    shows color placeholder
    shows skeleton placeholder
  custom classes and attributes
    accepts custom wrapper classes
    passes through additional attributes
    accepts custom image classes
  aspect ratios
    works without aspect ratio
    applies custom aspect ratio
    applies square aspect ratio (1:1)
    applies video aspect ratio (16:9)
  responsive images
    accepts sizes attribute
    accepts srcset attribute
  basic rendering
    can disable lazy loading
    renders image with required attributes
    uses lazy loading by default (FAILED - 388)
  object fit options
    applies object-none class
    applies object-cover class
    applies object-scale-down class
    defaults to object-cover
    applies object-fill class
    applies object-contain class
  stimulus integration
    includes lazy load controller when lazy loading enabled
  loading and decoding attributes
    sets decoding='async' by default
    sets loading='lazy' by default
    allows custom loading attribute

RegulatoryComplianceService
  #check_gdpr_compliance
    without personal data
      passes GDPR compliance (FAILED - 389)
    with personal data
      detects personal data violations (FAILED - 390)
  #check_real_estate_compliance
    with construction document
      checks for required permits and documentation (FAILED - 391)
  private helper methods
    #contains_personal_data?
      detects email addresses (FAILED - 392)
      detects phone numbers (FAILED - 393)
      detects social security patterns (FAILED - 394)
      returns false for non-personal content (FAILED - 395)
    #get_severity
      returns correct severity levels (FAILED - 396)
    #calculate_overall_score
      calculates weighted average of compliance scores (FAILED - 397)
    #extract_amounts
      extracts monetary amounts from text (FAILED - 398)
  #check_financial_compliance
    with large transaction amounts
      detects AML violations for large cash transactions (FAILED - 399)
    with transaction verification
      passes financial compliance with proper verification (FAILED - 400)
  #check_compliance
    includes all compliance categories (FAILED - 401)
    returns compliance report with all checks (FAILED - 402)
  #check_contractual_compliance
    with complete contract
      passes contractual compliance with complete terms (FAILED - 403)
    with missing contract elements
      detects missing essential contract terms (FAILED - 404)
  #check_environmental_compliance
    with environmental terms
      detects environmental compliance requirements (FAILED - 405)

DocumentValidationPolicy
  approve?
    when user is the validator and validation is pending
      grants access
    when validation is not pending
      denies access even to validator
    when user is not the validator
      denies access
    when user is nil
      denies access
  Scope
    returns empty scope for nil user
    returns only validations for the user
  reject?
    when validation is not pending
      denies access even to validator
    when user is nil
      denies access
    when user is not the validator
      denies access
    when user is the validator and validation is pending
      grants access
  index?
    denies access to nil user
    grants access to authenticated user

Mobile Responsive Design
  performance on mobile

📸 Screenshot: /app/tmp/screenshots/failure_20250609222336.png
    lazy loads images (FAILED - 406)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222337.png
    implements infinite scroll on mobile (FAILED - 407)
  offline capabilities
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222337.png
    shows offline indicator (FAILED - 408)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222337.png
    queues actions for sync when offline (FAILED - 409)
  responsive tables and data

📸 Screenshot: /app/tmp/screenshots/failure_20250609222337.png
    transforms complex tables for mobile (FAILED - 410)
  responsive layouts

📸 Screenshot: /app/tmp/screenshots/failure_20250609222347.png
    shows optimized document cards on mobile (FAILED - 411)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222348.png
    adjusts grid layouts for different screen sizes (FAILED - 412)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222348.png
    adapts tables to mobile view (FAILED - 413)
  mobile navigation

📸 Screenshot: /app/tmp/screenshots/failure_20250609222358.png
    adapts search interface for mobile (FAILED - 414)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222409.png
    shows hamburger menu on mobile (FAILED - 415)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222409.png
    handles swipe gestures (FAILED - 416)
  mobile forms and modals
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222409.png
    displays full-screen modals on mobile (FAILED - 417)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222409.png
    handles file upload on mobile (FAILED - 418)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222410.png
    optimizes form inputs for mobile (FAILED - 419)
  touch interactions

📸 Screenshot: /app/tmp/screenshots/failure_20250609222410.png
    provides swipeable image gallery (FAILED - 420)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222430.png
    supports touch-friendly interactions (FAILED - 421)

Documents::DocumentFormComponent
  renders with edit mode for existing document
  renders form component

SearchController
  GET #suggestions
    returns JSON suggestions
    includes required fields in suggestions
    finds documents by title
    finds documents by tag
    limits suggestions to 10
    finds documents by metadata
    returns empty suggestions for short queries
  GET #index
    returns http success
    without search query
      returns no documents
    with search query
      finds documents by description
      returns empty results for no matches
      finds documents by title

Documents::DocumentCardComponent
  renders action buttons based on permissions
  renders document title
  shows document status
  hides actions for users without permissions
  renders document metadata
  renders document actions dropdown
  with tags
    displays document tags (FAILED - 422)
  dropdown menu
    includes all action links

Search Functionality
  search suggestions and corrections

📸 Screenshot: /app/tmp/screenshots/failure_20250609222441.png
    suggests spelling corrections (FAILED - 423)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222452.png
    suggests related searches (FAILED - 424)
  faceted search

📸 Screenshot: /app/tmp/screenshots/failure_20250609222502.png
    updates facet counts dynamically (FAILED - 425)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222513.png
    filters results using facets (FAILED - 426)
  quick search from navbar

📸 Screenshot: /app/tmp/screenshots/failure_20250609222523.png
    shows 'see all results' option (FAILED - 427)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222533.png
    navigates search results with keyboard (FAILED - 428)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222544.png
    searches documents with autocomplete (FAILED - 429)
  advanced search page

📸 Screenshot: /app/tmp/screenshots/failure_20250609222554.png
    performs multi-criteria search (FAILED - 430)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222604.png
    exports search results (FAILED - 431)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222615.png
    saves and loads search queries (FAILED - 432)
  search performance indicators

📸 Screenshot: /app/tmp/screenshots/failure_20250609222626.png
    displays search performance metrics (FAILED - 433)
  search within results

📸 Screenshot: /app/tmp/screenshots/failure_20250609222636.png
    refines search results (FAILED - 434)
  search history and recent searches

📸 Screenshot: /app/tmp/screenshots/failure_20250609222647.png
    tracks and displays search history (FAILED - 435)

Document Validation Workflow
  edge cases and error handling
    handles concurrent validation attempts gracefully (FAILED - 436)
    prevents duplicate validation requests from same validator (FAILED - 437)
    handles validation request without validators
  notification system integration
    creates actual notification records (FAILED - 438)
    sends notifications throughout the validation process (FAILED - 439)
  complete validation workflow
    with rejection (any rejection is definitive)
      rejects the validation request immediately on first rejection (FAILED - 440)
    with successful validation (2 out of 3 required)
      completes the validation process successfully (FAILED - 441)
    with mixed responses but insufficient approvals
      keeps the request pending until minimum approvals are reached (FAILED - 442)
  authorization system integration
    respects authorization permissions for validation (FAILED - 443)
    tracks authorization grant and revocation

API V1 Documents
  POST /api/v1/documents/:id/versions
    creates a new version (FAILED - 444)
    maintains version history (FAILED - 445)
  GET /api/v1/documents/:id/download
    downloads the document file (FAILED - 446)
    tracks download activity (FAILED - 447)
    respects download permissions (FAILED - 448)
  GET /api/v1/documents/:id
    returns 404 for non-existent document (FAILED - 449)
    returns 403 for unauthorized document (FAILED - 450)
    includes metadata and tags (FAILED - 451)
    returns document details (FAILED - 452)
  PATCH /api/v1/documents/:id
    updates tags (FAILED - 453)
    updates the document (FAILED - 454)
    requires appropriate permissions (FAILED - 455)
  POST /api/v1/documents
    creates a new document (FAILED - 456)
    creates document with metadata (FAILED - 457)
    returns validation errors (FAILED - 458)
    handles file upload errors (FAILED - 459)
  POST /api/v1/documents/bulk
    handles partial failures (FAILED - 460)
    creates multiple documents (FAILED - 461)
  GET /api/v1/documents
    paginates results (FAILED - 462)
    filters by space (FAILED - 463)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/documents_spec.rb:68)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/requests/api/v1/documents_spec.rb:68)
    requires authentication (FAILED - 464)
    returns a list of documents (FAILED - 465)
    searches by query (FAILED - 466)
  DELETE /api/v1/documents/:id
    deletes the document (FAILED - 467)
    requires ownership (FAILED - 468)
  POST /api/v1/documents/:id/share
    creates public share link (FAILED - 469)
    creates document shares (FAILED - 470)
    sends notification to recipients (FAILED - 471)

Share
  add some examples to (or delete) /app/spec/models/share_spec.rb (PENDING: Not yet implemented)

Advanced Search
  Performing advanced searches
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:133)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:133)
    filters by space (FAILED - 472)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:145)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:145)
    filters by tags (FAILED - 473)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:184)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:184)
    sorts results (FAILED - 474)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:157)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:157)
    filters by date range (FAILED - 475)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:121)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:121)
    searches with text query (FAILED - 476)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:170)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:170)
    combines multiple filters (FAILED - 477)
  File type filtering
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:218)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:218)
    filters by PDF files (FAILED - 478)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:229)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:229)
    filters by Word files (FAILED - 479)
  Empty states
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:276)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:276)
    shows no results message with applied filters (FAILED - 480)
  Advanced search form
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
    populates user dropdown (FAILED - 481)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
    displays all filter options (FAILED - 482)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:39)
    populates space dropdown (FAILED - 483)
  Navigation to advanced search
    shows advanced search link when no results (FAILED - 484)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:21)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:21)
    provides link from regular search page (FAILED - 485)
  Help section
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:288)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:288)
    displays search tips (FAILED - 486)
  Search result display
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
    allows modifying filters (FAILED - 487)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
    allows resetting filters (FAILED - 488)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
    shows advanced search indicator (FAILED - 489)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/advanced_search_spec.rb:244)
    maintains advanced filters form (FAILED - 490)

WorkflowManageable
  WorkflowManageable is tested through the models that include it (Immo::Promo::Permit, Phase, Task) (PENDING: Not yet implemented)

Document
  document locking functionality
    associations
      is expected to belong to locked_by class_name => User optional: true
    #lock_document!
      when user can lock
        sets scheduled unlock time
        locks the document with user and reason
      when user cannot lock
        returns false if document is already locked
    #editable_by?
      when document is locked
        returns true for the user who locked it
        returns false for other users even with write permission
      when document is not locked
        returns true for users with write permission
    #can_unlock?
      when document is not locked
        returns false
      when document is locked
        returns true for the user who locked it
        returns true for admin
        returns false for other users
        returns true for document owner
    #can_lock?
      when document is not locked
        returns true for owner
        returns true for admin
        returns true for user with write permission
        returns false for user without permission
      when document is locked
        returns false even for owner
    lock state transitions
      when document is locked
        can be unlocked
        clears lock fields when unlocking
      when document is published
        can be locked
        sets locked_at when locking
    #lock_expired?
      when document is not locked
        returns false
      when document is locked
        returns false when scheduled unlock is in future
        returns true when scheduled unlock is in past
        returns false when no scheduled unlock
    #unlock_document!
      when user can unlock
        unlocks the document when requested by lock owner
        unlocks the document when requested by admin
      when user cannot unlock
        returns false for other users
    #locked_by_user?
      returns false when locked by different user
      returns false when not locked
      returns true when locked by the specified user

SearchQuery
  validations
    is expected to validate that :query cannot be empty/falsy (FAILED - 491)
    validates query length (FAILED - 492)
    is expected to validate that :user cannot be empty/falsy (FAILED - 493)
  instance methods
    #normalized_query
      returns downcased and stripped query (FAILED - 494)
  associations
    is expected to belong to user required: true
  scopes
    .recent
      returns queries from last 30 days (FAILED - 495)
    .popular
      returns most frequent queries (FAILED - 496)
  callbacks
    normalizes query before save (FAILED - 497)

Workflow
  factory
    creates a valid workflow
    with_steps trait
      creates a workflow with steps
    status traits
      creates completed workflows
      creates cancelled workflows
      creates active workflows
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :description cannot be empty/falsy
  workflow management
    #progress_percentage
      calculates progress based on completed steps
    #can_be_activated?
      returns false for workflows without steps
      returns true for draft workflows with steps
  state machine
    starts in draft state
    transitions
      can transition from paused to active
      can transition from draft to active
      can transition from active to paused
      can transition from active to completed
      can transition to cancelled from any state
  associations
    is expected to have many workflow_steps dependent => destroy
    is expected to have many workflow_submissions dependent => destroy
    is expected to belong to organization required: true

API V1 Search
  GET /api/v1/search/suggestions
    provides search suggestions based on partial input (FAILED - 498)
    limits number of suggestions (FAILED - 499)
    includes recent searches (FAILED - 500)
    includes tag suggestions (FAILED - 501)
  GET /api/v1/search/history
    returns search history (FAILED - 502)
    clears search history (FAILED - 503)
  GET /api/v1/search/export
    exports with selected columns (FAILED - 504)
    exports search results (FAILED - 505)
    limits export size (FAILED - 506)
  GET /api/v1/search/saved
    executes a saved search (FAILED - 507)
    returns user's saved searches (FAILED - 508)
  GET /api/v1/search/facets
    returns search facets (FAILED - 509)
    updates facets based on current filters (FAILED - 510)
  GET /api/v1/search
    supports fuzzy search (FAILED - 511)
    searches across multiple fields (FAILED - 512)
    searches documents by title (FAILED - 513)
    highlights matching terms (FAILED - 514)
  POST /api/v1/search/advanced
    filters by metadata conditions (FAILED - 515)
    filters by tags with OR operator (FAILED - 516)
    combines multiple filter conditions (FAILED - 517)
    filters by tags with AND operator (FAILED - 518)
    performs advanced multi-criteria search (FAILED - 519)
  POST /api/v1/search/save
    saves a search query (FAILED - 520)
    validates saved search parameters (FAILED - 521)

Addressable
  #coordinates
    returns nil when longitude is missing
    returns coordinates array when latitude and longitude are present
    returns nil when latitude is missing
    returns nil when both coordinates are missing
  private methods
    #address_required?
      returns true by default
  #full_address
    handles missing optional fields gracefully
    returns the full address as a formatted string
    returns empty string when no address fields are set
  #full_address_changed?
    returns true when city has changed
    returns true when postal_code has changed
    returns true when country has changed
    returns true when address fields have changed
  included module behavior
    adds scopes to the class
    adds addressable methods to the class
    adds validations when address is required
  #distance_to
    calculates distance between two addressable objects
    returns nil when both objects have no coordinates
    returns nil when current object has no coordinates
    returns nil when other object has no coordinates
  scopes
    .in_city
      filters by city
    .in_postal_code
      filters by postal code
    .near_location
      accepts custom distance parameter
      finds objects near a location

Document Bulk Operations
  Bulk deletion
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:207)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:207)
    marks multiple documents for deletion (FAILED - 522)
  Bulk compliance check
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:275)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:275)
    checks compliance for multiple documents (FAILED - 523)
  Bulk selection
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:29)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:29)
    allows selecting multiple documents (FAILED - 524)
  Bulk locking/unlocking
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:135)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:135)
    locks multiple documents (FAILED - 525)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:162)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:162)
    unlocks multiple documents (FAILED - 526)
  Bulk download
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:230)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:230)
    downloads multiple documents as a zip file (FAILED - 527)
  Bulk archiving
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:180)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:180)
    archives multiple documents (FAILED - 528)
  Bulk moving
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:106)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:106)
    moves multiple documents to another folder (FAILED - 529)
  Permission checks
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:308)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:308)
    restricts bulk actions based on permissions (FAILED - 530)
  Error handling
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:329)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:329)
    handles partial failures gracefully (FAILED - 531)
  Bulk AI classification
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:249)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:249)
    triggers AI classification for multiple documents (FAILED - 532)
  Bulk tagging
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:52)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:52)
    adds tags to multiple documents (FAILED - 533)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:81)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_bulk_operations_spec.rb:81)
    removes tags from multiple documents (FAILED - 534)

Validatable
  #validation_rejected?
    returns false when no validation request or not rejected
    returns true when current validation request is rejected
  #can_be_validated_by?
    returns false when no pending validation
    returns false when user already validated
    returns true when user is assigned as validator for pending request
    returns false when user is not assigned as validator
  #validation_history
    returns all validation requests ordered by creation date
  scopes
    .rejected
      returns documents with rejected validation requests
    .pending_validation
      returns documents with pending validation requests
    .validated
      returns documents with approved validation requests
  #request_validation
    sets default values when not provided
    returns false if validation is already pending
    creates a validation request with validators
  #validation_pending?
    returns true when there is a pending validation request
    returns false when no validation requests
    returns false when validation is completed
  #validate_by!
    raises error when user is not assigned as validator
    approves validation by user
    rejects validation by user
    checks validation request completion
  #current_validators
    returns validators for current validation request
    returns empty array when no current validation request
  #validation_progress
    calculates validation progress percentage
    returns 0 when no current validation request
  #validation_status
    returns "approved" when no current validation request exists
    returns "none" when no validation requests
    returns current validation request status
  #current_validation_request
    returns the most recent pending or in_progress validation request
    returns nil when no pending validation requests
  #validated?
    returns false when no approved validations
    returns false when approved validation is older than last update
    returns true when recently approved validation exists
  #cancel_validation!
    returns false when no pending validation
    cancels pending validation request
  included module behavior
    adds validation associations
    adds validation methods
    adds validation scopes to the class

User Management
  Admin access
    displays users in the navigation (FAILED - 535)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:79)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:79)
    allows editing a user (FAILED - 536)
    validates user creation (FAILED - 537)
    allows searching users
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:96)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:96)
    allows deleting a user (FAILED - 538)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:108)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:108)
    prevents deleting own account (FAILED - 539)
    allows creating a new user (FAILED - 540)
    allows viewing all users
  User groups management
    displays all groups
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:164)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:164)
    allows creating a new group (FAILED - 541)
    allows adding members to a group
    allows removing members from a group (FAILED - 542)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:210)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:210)
    allows editing group permissions (FAILED - 543)
  User profile display
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:241)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/user_management_spec.rb:241)
    shows user details and groups (FAILED - 544)
  Regular user access
    does not show user management links in navigation
    denies access to users index
    denies access to create user

Document Validation System
  Validation workflow
    allows validators to reject documents (FAILED - 545)
    allows validators to approve documents (FAILED - 546)
    shows validation progress to requester (FAILED - 547)
  Validation notifications
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_validation_system_spec.rb:298)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_validation_system_spec.rb:298)
    sends notifications throughout the validation process (FAILED - 548)
  Document versioning
    allows creating and managing document versions (FAILED - 549)
  AI classification integration

📸 Screenshot: /app/tmp/screenshots/failure_20250609222705.png
    automatically classifies documents on upload (FAILED - 550)
  Document upload and validation request
    allows a user to upload a document and request validation (FAILED - 551)
  Compliance checking
    shows compliance warnings for non-compliant documents (FAILED - 552)
  Document locking during validation
    prevents editing locked documents during validation (FAILED - 553)
  Bulk validation operations
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_validation_system_spec.rb:136)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from block (3 levels) in <main> at /app/spec/system/document_validation_system_spec.rb:136)
    allows requesting validation for multiple documents (FAILED - 554)

Layout::CardGridComponent
  renders grid with default columns
  renders with custom columns
  renders nested content
  renders with custom gap

Uploadable
  #download_url
    generates download URL with expiration
    accepts custom expiration time
    returns nil when no file attached
  #scan_for_virus!
    initiates virus scan when supported
    returns false when no file attached
    returns false when virus_scan_status not supported
  #should_reprocess?
    returns true when processing status changed to pending_reprocess
    returns false when no file attached
    returns false when processing status not changed
  included module behavior
    adds upload methods
    adds scopes to the class
  #extract_content!
    returns false when content attribute not supported
    returns false when no file attached
    initiates content extraction when supported
  #generate_thumbnail!
    returns false when thumbnail method not available
    generates thumbnail for variable image
    generates thumbnail for previewable file
    returns false when no file attached
  scopes
    .without_files
      returns only records without attached files
    .by_file_size
      filters by minimum file size
      filters by maximum file size
      filters by size range
    .with_files
      returns only records with attached files
    .by_content_type
      filters by content type
  class methods
    .supports_file_types
      sets supported file types
    .max_file_size
      sets maximum file size
      has default maximum file size
  #mark_for_reprocessing!
    updates processing status when supported
    does nothing when processing status not supported
  #replace_file!
    purges old file and attaches new one
    tracks file replacement when supported
  #has_file_attached?
    returns true when file is attached
    returns false when no file attached
  #file_size_valid?
    returns false for file exceeding size limit
    returns true when no file attached
    returns true for file within size limit
  callbacks
    enqueues processing job after create when file attached
    enqueues reprocessing job after update when should reprocess
  #file_size_human
    returns nil when no file attached
    returns human readable file size
  #file_metadata
    returns empty hash when no file attached
    returns file metadata when file attached
  #file_extension
    handles files without extension
    extracts file extension
    returns nil when no file attached
  #supported_file_type?
    returns false when no file attached and types configured
    returns false for unsupported file type
    returns true when no supported types configured
    returns true for supported file type
  #generate_preview!
    returns false when no file attached
    generates preview for previewable file
    returns false when preview method not available

Demo Smoke Test
  Login and Navigation

📸 Screenshot: /app/tmp/screenshots/failure_20250609222716.png
    can login successfully (FAILED - 555)
  UI Components
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222716.png
    displays modern UI components (FAILED - 556)
  Document Upload
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222716.png
    can upload a document (FAILED - 557)
  ImmoPromo Access
    can access ImmoPromo projects
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222716.png
    can create a project (FAILED - 558)
  GED Basic Operations
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222717.png
    can access GED dashboard (FAILED - 559)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222717.png
    can create a space (FAILED - 560)

ValidationRequest
  add some examples to (or delete) /app/spec/models/validation_request_spec.rb (PENDING: Not yet implemented)

User
  associations
    is expected to have many workflow_submissions dependent => destroy
    is expected to have many authorizations dependent => destroy
    is expected to have many documents dependent => destroy
    is expected to have many baskets dependent => destroy
    is expected to have many user_groups through user_group_memberships
    is expected to belong to organization required: true
    is expected to have many user_group_memberships dependent => destroy
    is expected to have many validation_requests dependent => destroy
    is expected to have many notifications dependent => destroy
    is expected to have many document_validations dependent => destroy
    is expected to have many search_queries dependent => destroy
  traits
    manager trait
      creates a manager user
    with_documents trait
      creates a user with documents
    admin trait
      creates an admin user
  instance methods
    #display_name
      when user has no names
        returns the email
      when user has first and last name
        returns the full name
    #full_name
      returns the concatenated first and last name
  validations
    is expected to validate that :first_name cannot be empty/falsy
    is expected to validate that :last_name cannot be empty/falsy
    is expected to validate that :email is case-insensitively unique
    is expected to validate that :password cannot be empty/falsy
    is expected to validate that :email cannot be empty/falsy

Folder
  associations
    is expected to belong to space required: true
    is expected to have many documents dependent => destroy
  validations
    is expected to validate that :name is case-sensitively unique within the scope of :space_id et :parent_id
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :slug is case-sensitively unique within the scope of :space_id
  scopes
    .in_space
      returns folders in the specified space
  includes
    includes Treeable concern
  factory
    creates a valid folder
    with_children trait
      creates a folder with children
    with_documents trait
      creates a folder with documents
  callbacks
    slug generation
      when slug is present
        does not override existing slug
      when slug is blank
        generates slug from name
  hierarchy methods from Treeable
    #parent_folders
      returns the parent hierarchy
    #root?
      returns false for child folder
      returns true for root folder
    #full_path
      returns the complete path

Ui::EmptyStateComponent
  renders action slot content
  renders with all options
  renders with title only
  renders with title and description
  renders with custom icon

HomeHelper
  add some examples to (or delete) /app/spec/helpers/home_helper_spec.rb (PENDING: Not yet implemented)

Storable
  #breadcrumb_path
    includes space in breadcrumb
    includes folder hierarchy in breadcrumb
    returns empty array when no space
  #storage_path
    uses slug when available
    returns root path when no space
    includes space in path
    includes folder hierarchy in path
  #restore!
    clears archived_at timestamp
  #total_storage_size
    returns storage size for leaf items
    includes children sizes when applicable
  class methods
    .find_by_path
      finds record by storage path
    .within_path
      finds records within a path
    .allow_orphaned_storage
      configures orphaned storage setting
  #archive!
    archives children when applicable
    sets archived_at timestamp
  #storage_size
    returns 0 when no file attached
    returns file size when file attached
  #can_be_moved_by?
    checks write permissions on space
    checks write permissions on parent folder
    checks write permissions on object
    returns false for nil user
  #copy_to
    raises error for invalid destination
    creates copy in different space
    creates copy in different folder
  #move_to
    moves to root when destination is nil
    moves to different space
    raises error for invalid destination
    moves to different folder
  #storage_parent
    returns space when no folder
    returns folder when present
  scopes
    .root_items
      returns items not in any folder
    .in_folder
      returns items in specific folder
    .orphaned
      returns items without space
    .in_space
      returns items in specific space
  callbacks
    updates storage path before save
  #display_name
    uses title when available
    uses name when title not available
    falls back to class name
  private methods
    #allow_orphaned_storage?
      delegates to class method
    #storage_depth
      returns 0 for root items
      returns folder depth + 1
  included module behavior
    adds storage methods
    adds scopes to the class
    validates folder belongs to space
    adds space and folder associations
    validates space presence unless orphaned storage allowed
  #storage_stats
    returns comprehensive storage statistics
  #siblings
    returns siblings in same folder
    returns siblings in same space root

Basket
  basket management
    #document_count
      returns the number of documents in the basket
    #remove_document
      removes a document from the basket
    #empty?
      returns true when basket has no documents
      returns false when basket has documents
    #add_document
      adds a document to the basket
      does not add the same document twice
  factory
    creates a valid basket
    with_documents trait
      creates a basket with documents
  associations
    is expected to belong to user required: true
    is expected to have many basket_items dependent => destroy
  validations
    is expected to validate that :name cannot be empty/falsy

Homes
  GET /index
    renders the index template
    returns http success

Layout::PageHeaderComponent
  renders action slot content
  hides actions section when show_actions is false
  renders with title and description
  renders with title only

Ui::NotificationComponent
  renders info notification by default
  renders dismissible notification
  renders non-dismissible notification
  renders different notification types
  renders appropriate icons for each type
  renders with title

Tag
  factory
    creates a valid tag
    with_documents trait
      creates a tag with documents
  validations
    is expected to validate that :name is case-insensitively unique within the scope of :organization_id
    is expected to validate that :name cannot be empty/falsy
  scopes and methods
    usage statistics
      tracks document count correctly
  associations
    is expected to have many document_tags dependent => destroy
    is expected to have many documents through document_tags

BasketsController
  PATCH #update
    with invalid parameters
      renders edit template
      does not update the basket
    with valid parameters
      updates the requested basket
      redirects to the basket
  GET #edit
    returns a success response
    assigns the requested basket
  GET #index
    assigns current user baskets
    returns a success response
    only shows current user baskets
  POST #add_document
    prevents adding inaccessible documents
    returns success response for JSON
    adds document to basket
  GET #show
    assigns basket items
    returns a success response
    prevents access to other users baskets
    assigns the requested basket
  DELETE #remove_document
    redirects to basket show page for HTML
    returns success response for JSON
    removes document from basket
  GET #download_all
    redirects with future feature message
  GET #new
    assigns a new basket
    returns a success response
  authentication
    redirects to login for show
    redirects to login for index
  DELETE #destroy
    redirects to the baskets list
    destroys the requested basket
  POST #create
    with valid parameters
      redirects to the created basket
      creates a new Basket
      assigns the basket to current user
    with invalid parameters
      renders new template
      does not create a new Basket
  POST #share
    redirects to basket show page
    marks basket as shared

Notification
  #formatted_data
    when data is a hash
      returns the hash
    when data is invalid
      returns empty hash
    when data is a JSON string
      parses JSON string
  enums
    defines notification types
  class methods
    .notification_types_by_category
      returns correct types for projects category
      returns correct types for documents category
    .notify_user
      creates a notification for user (FAILED - 561)
    .urgent_types
      returns urgent notification types
    .categories
      returns all categories
    .mark_all_as_read_for
      marks all unread notifications as read for user
  scopes
    .today
      returns notifications from today
    .read
      returns only read notifications
    .by_category
      filters by project category
      filters by document category
    .unread
      returns only unread notifications
    .urgent
      returns urgent notifications
  instance methods
    #category
      returns correct category for document notifications
      returns correct category for project notifications
    #color_class
      returns appropriate color class
    #mark_as_read!
      marks notification as read
      does not update already read notification
    #urgent?
      returns false for non-urgent notification types
      returns true for urgent notification types
    #read?
      returns true when read_at is present
      returns false when read_at is nil
    #unread?
      returns opposite of read?
    #immo_promo_related?
      returns true for ImmoPromo categories
      returns false for non-ImmoPromo categories
    #icon
      returns correct icon for each notification type
  associations
    is expected to belong to notifiable optional: true
    is expected to belong to user required: true
  validations
    is expected to validate that :title cannot be empty/falsy
    is expected to validate that :notification_type cannot be empty/falsy

Document Management
  User deletes a document (FAILED - 562)
  User edits document metadata (FAILED - 563)
  User searches documents by title (FAILED - 564)
  User moves document to another folder (FAILED - 565)
  User exports document list (FAILED - 566)
  User creates a new version of document (FAILED - 567)
  User filters documents by date (FAILED - 568)
  User views document activity log (FAILED - 569)
  User uploads a new document (FAILED - 570)
  User manages document permissions (FAILED - 571)
  User downloads a document (FAILED - 572)

Ui::StatCardComponent
  custom classes and attributes
    accepts custom CSS classes
    preserves additional options
  as link
    includes hover effects for links
    renders as anchor tag when href provided
  loading state
    shows skeleton loader when loading
  trends
    renders upward trend
    renders downward trend
    renders neutral trend
  basic rendering
    renders as div by default
    renders with subtitle
    renders with required attributes
  with icon
    applies correct icon color based on variant
    renders icon when provided
  accessibility
    link variant has proper focus states
    has proper semantic structure
  responsive design
    applies responsive classes
  variants
    renders with primary variant
    renders with success variant
    renders with warning variant
    renders with default variant
    renders with danger variant

Linkable
  #linked_from?
    checks specific link type
    returns false when not linked from
    returns true when linked from
  convenience methods
    #referencing_objects
      returns objects that reference this
    #related_objects
      returns objects with related link type
    #referenced_objects
      returns objects with reference link type
    #parent_objects
      returns objects that link to this with child type
    #child_objects
      returns objects with child link type
  #link_to_target and #link_from_source
    finds specific link from source
    finds specific link to target
  #update_link_metadata
    updates link metadata
    returns false if link not found
  #unlink_from
    removes all links when no type specified
    removes specific link type
  #unlink_with
    removes bidirectional links
  #link_chain
    respects max depth
    follows link chain forward
    handles circular references
    follows link chain backward
  #linked_to?
    checks specific link type
    returns true when linked
    returns false when not linked
  scopes
    .linked_to
      finds objects linked to target
    .linked_from
      finds objects linked from source
  #shortest_path_to
    returns empty array when target is same as source
    finds shortest path between objects
    returns empty array when no path exists
  #linked_targets
    returns all linked targets
    filters by link type
  #linked_sources
    filters by link type
    returns all linked sources
  #link_with
    prevents linking with self
    creates bidirectional links
    is transactional
  #link_to
    creates a link to another object
    allows same target with different link type
    accepts metadata
    prevents linking to self
    prevents duplicate links
    accepts custom link type
  #link_stats
    returns comprehensive link statistics
  parent-child relationship methods
    #set_parent
      creates parent relationship
    #add_reference
      creates reference relationship
    #add_child
      creates child relationship
  #linked_with?
    returns true when bidirectionally linked
    returns false when only unidirectionally linked
  #links_by_type
    groups links by type
  #all_linked_objects
    returns objects linked in both directions
    returns unique objects
  included module behavior
    adds link associations
    adds linking methods
    adds scopes to the class

NotificationService
  .mark_notification_as_read
    marks specific notification as read
    raises error for notification not belonging to user
  .notify_validation_requested
    creates correct notification content (FAILED - 573)
    creates notifications for all validators (FAILED - 574)
  .bulk_delete_notifications
    only affects user notifications
    deletes multiple notifications
  .notify_system_announcement
    creates correct notification content
    creates notifications for all users
  .bulk_mark_as_read
    marks multiple notifications as read
    only affects user notifications
  .notification_stats_for_user
    returns comprehensive stats (FAILED - 575)
  .notify_document_shared
    creates notification for shared user (FAILED - 576)
    creates correct notification (FAILED - 577)
  .unread_count_for_user
    returns correct unread count
  .recent_notifications_for_user
    returns recent notifications in correct order
    respects limit parameter
  .mark_all_read_for_user
    marks all user notifications as read
  ImmoPromo notifications
    .notify_budget_exceeded
      creates urgent notification (FAILED - 578)
      creates notifications for project stakeholders (FAILED - 579)
    .notify_project_created
      creates notifications for stakeholders (FAILED - 580)
    .notify_stakeholder_assigned
      creates notification for assigned stakeholder (FAILED - 581)
  .notifications_by_category_for_user
    respects limit parameter
    filters notifications by category
  .delete_notification
    raises error for notification not belonging to user
    deletes the notification
  .urgent_notifications_for_user
    returns only unread urgent notifications

FolderPolicy
  Scope
    returns only folders from user organization spaces
    returns empty scope for nil user
  show?, create?, update? et destroy?
    when folder is in user organization
      grants access
    when folder is in different organization
      denies access
    when user is nil
      denies access

Forms::FormErrorsComponent
  renders errors in a list
  displays error icon
  does not render when no errors
  uses singular form for one error
  renders when model has errors

Space
  callbacks
    slug generation
      when slug is present
        does not override existing slug
      when slug is blank
        generates slug from name
  associations
    is expected to have many documents dependent => destroy
    is expected to belong to organization required: true
    is expected to have many folders dependent => destroy
  validations
    is expected to validate that :name cannot be empty/falsy
    is expected to validate that :slug is case-sensitively unique within the scope of :organization_id
  factory
    creates a valid space
    with_folders trait
      creates a space with folders
    with_documents trait
      creates a space with documents

DocumentShare
  callbacks
    before_create
      generates an access token
  validations
    is expected to validate that :access_level is either ‹"read"›, ‹"write"›, or ‹"admin"›
    when email is present
      is expected not to validate that :shared_with cannot be empty/falsy
    when shared_with is not present
      is expected to validate that :email cannot be empty/falsy
    when shared_with is present
      is expected not to validate that :email cannot be empty/falsy
    when email is not present
      is expected to validate that :shared_with cannot be empty/falsy
  instance methods
    #expired?
      when expires_at is nil
        returns false
      when expires_at is in the future
        returns false
      when expires_at is in the past
        returns true
    #revoke!
      sets is_active to false
    #active?
      when is_active is true and not expired
        returns true
      when is_active is true but expired
        returns false
      when is_active is false
        returns false
  scopes
    .active
      returns only active shares that are not expired
    .expired
      returns only expired shares
  associations
    is expected to belong to shared_by class_name => User required: true
    is expected to belong to document required: true

DocumentValidation
  scopes
    filters pending validations
    filters by validator
    filters completed validations
  validations
    does not require comment for approved validations
    validates uniqueness of validator per document and request
    validates status values are limited to enum
    is expected to validate that :status cannot be empty/falsy
    requires comment for rejected validations
  #reject!
    sets status to rejected with required comment
  associations
    is expected to belong to validator required: true
    is expected to belong to document required: true
    is expected to belong to validation_request required: true
  #approve!
    sets status to approved and sets validated_at

DocumentProcessingJob
  #perform
    queues metadata extraction and auto-tagging
    queues preview and thumbnail generation
    reindexes document for search
    runs content extraction
    marks document as processing
    runs virus scan first
    when document does not need OCR
      marks as completed
    when processing fails
      marks document as failed
    when document needs OCR
      does not mark as completed immediately
      queues OCR processing
    when virus is detected
      stops processing after virus scan
    when document is already processing
      does not process again

MetadataTemplate
  scopes
    .active
      returns only active templates (FAILED - 582)
  validations
    validates uniqueness of name scoped to organization
    is expected to validate that :organization cannot be empty/falsy (FAILED - 583)
    is expected to validate that :name cannot be empty/falsy
  instance methods
    #activate!
      sets active to true (FAILED - 584)
    #deactivate!
      sets active to false (FAILED - 585)
    #field_names
      returns array of field names (FAILED - 586)
  associations
    is expected to have many metadata_fields dependent => destroy
    is expected to have many documents (FAILED - 587)
    is expected to belong to organization required: true

Layout::PageWrapperComponent
  renders with navbar by default (FAILED - 588)
  renders with default max width (FAILED - 589)
  renders with custom max width (FAILED - 590)
  renders without navbar when specified

TagsController
  DELETE #destroy
    destroys the requested tag
    redirects to the tags list
    when tag has associated documents
      removes tag from documents
    with AJAX request
      returns success JSON response (PENDING: Temporarily skipped with xcontext)
  PATCH #update
    with invalid parameters
      does not update the tag
      renders edit template
    with valid parameters
      updates the requested tag
      redirects to the tag
      with AJAX request
        returns success JSON response (PENDING: Temporarily skipped with xcontext)
  GET #usage_stats
    returns usage statistics (PENDING: Temporarily skipped with xdescribe)
    with JSON format
      returns JSON statistics (PENDING: Temporarily skipped with xdescribe)
  authentication
    redirects to login for index
    redirects to login for show
  GET #index
    assigns all tags
    returns a success response
    with format JSON
      returns JSON response (PENDING: Temporarily skipped with xcontext)
      includes tag suggestions (PENDING: Temporarily skipped with xcontext)
    with search parameter
      filters tags by name
  POST #create
    with valid parameters
      redirects to the created tag
      creates a new Tag
      with AJAX request
        returns JSON response (PENDING: Temporarily skipped with xcontext)
        includes tag data in response (PENDING: Temporarily skipped with xcontext)
    with duplicate tag name
      does not create duplicate tag
    with invalid parameters
      renders new template
      does not create a new Tag
      with AJAX request
        returns error response (PENDING: Temporarily skipped with xcontext)
  GET #edit
    assigns the requested tag
    returns a success response
  GET #show
    assigns the requested tag
    assigns tagged documents
    returns a success response
  POST #merge
    merges tags successfully (PENDING: Temporarily skipped with xdescribe)
    transfers document associations (PENDING: Temporarily skipped with xdescribe)
    with AJAX request
      returns JSON response (PENDING: Temporarily skipped with xcontext)
  GET #new
    returns a success response
    assigns a new tag

NotificationsController
  GET #urgent
    assigns only urgent notifications
    returns successful response
    JSON request
      returns urgent notifications
  DELETE #bulk_destroy
    redirects with count message
    destroys selected notifications
    JSON request
      returns count in response
  PATCH #mark_as_read
    redirects back
    marks notification as read
    JSON request
      returns JSON response
  GET #dropdown
    assigns recent notifications and unread count
    returns successful response
    JSON request
      returns notifications and count
  GET #stats
    JSON request
      returns user stats
  GET #show
    returns successful response
    does not mark already read notification
    marks notification as read
    JSON request
      returns JSON response
    when notification belongs to other user
      raises not found error
  PATCH #mark_all_as_read
    redirects with success message
    marks all notifications as read
    JSON request
      returns success response
  DELETE #destroy
    destroys notification
    redirects with success message
    JSON request
      returns success response
  when user is not authenticated
    redirects to login
  GET #index
    assigns user notifications
    returns successful response
    assigns categories and stats
    with unread_only filter
      shows only unread notifications
    with category filter
      filters by category
    JSON request
      returns JSON response
  PATCH #bulk_mark_as_read
    marks selected notifications as read
    redirects with count message
    JSON request
      returns count in response

ContentExtractionJob
  #perform
    with text file
      extracts text directly
    with Office document
      extracts text using LibreOffice
    when extraction fails
      handles errors gracefully
      does not update content
    with unsupported file type
      does not update content
    with PDF file
      adds extraction method metadata
      adds metadata for word count
      extracts text from PDF

Search Autocomplete
  search bar in navbar
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222722.png
    highlights matching text in suggestions (FAILED - 591)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222723.png
    supports keyboard navigation (FAILED - 592)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222723.png
    shows suggestions when typing (FAILED - 593)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222723.png
    hides suggestions when clicking outside (FAILED - 594)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222723.png
    shows search input in navbar (FAILED - 595)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222723.png
    navigates to document when clicking suggestion (FAILED - 596)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/debug_exceptions.rb:43)
DEPRECATION WARNING: Setting action_dispatch.show_exceptions to false is deprecated. Set to :none instead. (called from rescue in call at /usr/local/bundle/gems/actionpack-7.1.5.1/lib/action_dispatch/middleware/show_exceptions.rb:39)

📸 Screenshot: /app/tmp/screenshots/failure_20250609222724.png
    submits search form on Enter (FAILED - 597)
  search results page
    highlights search terms in results
    displays search results
    shows no results message

Pending: (Failures listed here are expected and do not affect your suite's status)

  1) Metadatum add some examples to (or delete) /app/spec/models/metadatum_spec.rb
     # Not yet implemented
     # ./spec/models/metadatum_spec.rb:4

  2) UserGroupMembership add some examples to (or delete) /app/spec/models/user_group_membership_spec.rb
     # Not yet implemented
     # ./spec/models/user_group_membership_spec.rb:4

  3) ProjectWorkflowTransition add some examples to (or delete) /app/spec/models/project_workflow_transition_spec.rb
     # Not yet implemented
     # ./spec/models/project_workflow_transition_spec.rb:4

  4) UserGroup add some examples to (or delete) /app/spec/models/user_group_spec.rb
     # Not yet implemented
     # ./spec/models/user_group_spec.rb:4

  5) Document Sharing Workflow external sharing sends document by email
     # Temporarily skipped with xit
     # ./spec/system/document_sharing_workflow_spec.rb:182

  6) home/index.html.tailwindcss add some examples to (or delete) /app/spec/views/home/index.html.tailwindcss_spec.rb
     # Not yet implemented
     # ./spec/views/home/index.html.tailwindcss_spec.rb:4

  7) Link add some examples to (or delete) /app/spec/models/link_spec.rb
     # Not yet implemented
     # ./spec/models/link_spec.rb:4

  8) ProjectWorkflowStep add some examples to (or delete) /app/spec/models/project_workflow_step_spec.rb
     # Not yet implemented
     # ./spec/models/project_workflow_step_spec.rb:4

  9) Folder Management folder operations allows deletion of empty folders
     # Temporarily skipped with xit
     # ./spec/system/folder_management_spec.rb:159

  10) Folder Management folder operations prevents deletion of non-empty folders
     # Temporarily skipped with xit
     # ./spec/system/folder_management_spec.rb:142

  11) Share add some examples to (or delete) /app/spec/models/share_spec.rb
     # Not yet implemented
     # ./spec/models/share_spec.rb:4

  12) WorkflowManageable WorkflowManageable is tested through the models that include it (Immo::Promo::Permit, Phase, Task)
     # Not yet implemented
     # ./spec/models/concerns/workflow_manageable_spec.rb:8

  13) ValidationRequest add some examples to (or delete) /app/spec/models/validation_request_spec.rb
     # Not yet implemented
     # ./spec/models/validation_request_spec.rb:4

  14) HomeHelper add some examples to (or delete) /app/spec/helpers/home_helper_spec.rb
     # Not yet implemented
     # ./spec/helpers/home_helper_spec.rb:14

  15) TagsController DELETE #destroy with AJAX request returns success JSON response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:219

  16) TagsController PATCH #update with valid parameters with AJAX request returns success JSON response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:179

  17) TagsController GET #usage_stats returns usage statistics
     # Temporarily skipped with xdescribe
     # ./spec/controllers/tags_controller_spec.rb:298

  18) TagsController GET #usage_stats with JSON format returns JSON statistics
     # Temporarily skipped with xdescribe
     # ./spec/controllers/tags_controller_spec.rb:305

  19) TagsController GET #index with format JSON returns JSON response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:36

  20) TagsController GET #index with format JSON includes tag suggestions
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:42

  21) TagsController POST #create with valid parameters with AJAX request returns JSON response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:100

  22) TagsController POST #create with valid parameters with AJAX request includes tag data in response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:106

  23) TagsController POST #create with invalid parameters with AJAX request returns error response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:130

  24) TagsController POST #merge merges tags successfully
     # Temporarily skipped with xdescribe
     # ./spec/controllers/tags_controller_spec.rb:254

  25) TagsController POST #merge transfers document associations
     # Temporarily skipped with xdescribe
     # ./spec/controllers/tags_controller_spec.rb:264

  26) TagsController POST #merge with AJAX request returns JSON response
     # Temporarily skipped with xcontext
     # ./spec/controllers/tags_controller_spec.rb:276

Failures:

  1) Document API GET /ged/documents/:id/status (Polling status) returns current processing status
     Failure/Error: ocr_performed: @document.ocr_performed,

     NoMethodError:
       undefined method `ocr_performed' for an instance of Document
     # ./app/controllers/ged_controller.rb:99:in `document_status'
     # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
     # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
     # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
     # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
     # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
     # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
     # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
     # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
     # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
     # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
     # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
     # ./spec/requests/document_api_spec.rb:110:in `block (3 levels) in <main>'

  2) Document API GET /ged/documents/:id/status (Polling status) includes completion percentage
     Failure/Error:
       document.update!(
         processing_status: 'completed',
         ocr_performed: true,
         virus_scan_status: 'clean'
       )

     ActiveModel::UnknownAttributeError:
       unknown attribute 'ocr_performed' for Document.
     # ./spec/requests/document_api_spec.rb:121:in `block (3 levels) in <main>'

  3) Document API DELETE /ged/documents/:id as non-owner denies access
     Failure/Error: delete ged_document_path(document), headers: valid_headers

     ActionController::RoutingError:
       No route matches [DELETE] "/ged/documents/20726"
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
     # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
     # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
     # ./spec/requests/document_api_spec.rb:157:in `block (5 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:156:in `block (4 levels) in <main>'

  4) Document API DELETE /ged/documents/:id as document owner deletes the document
     Failure/Error: delete ged_document_path(document), headers: valid_headers

     ActionController::RoutingError:
       No route matches [DELETE] "/ged/documents/20727"
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
     # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
     # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
     # ./spec/requests/document_api_spec.rb:141:in `block (5 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:140:in `block (4 levels) in <main>'

  5) Document API POST /ged/documents (AJAX upload) with valid parameters creates a document and returns success
     Failure/Error: Rack::Test::UploadedFile.new(Rails.root.join(path), mime_type)

     RuntimeError:
       /app/test_document.pdf file does not exist
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:87:in `initialize_from_file_path'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:39:in `initialize'
     # ./spec/support/fixture_file_helpers.rb:3:in `new'
     # ./spec/support/fixture_file_helpers.rb:3:in `fixture_file_upload'
     # ./spec/requests/document_api_spec.rb:25:in `block (3 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:33:in `block (5 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:32:in `block (4 levels) in <main>'

  6) Document API POST /ged/documents (AJAX upload) with valid parameters enqueues processing jobs
     Failure/Error: Rack::Test::UploadedFile.new(Rails.root.join(path), mime_type)

     RuntimeError:
       /app/test_document.pdf file does not exist
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:87:in `initialize_from_file_path'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:39:in `initialize'
     # ./spec/support/fixture_file_helpers.rb:3:in `new'
     # ./spec/support/fixture_file_helpers.rb:3:in `fixture_file_upload'
     # ./spec/requests/document_api_spec.rb:25:in `block (3 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:50:in `block (5 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:49:in `block (4 levels) in <main>'

  7) Document API POST /ged/documents (AJAX upload) with file size validation rejects files larger than limit
     Failure/Error: expect(response).to have_http_status(:unprocessable_entity)
       expected the response to have status code :unprocessable_entity (422) but it was :ok (200)
     # ./spec/requests/document_api_spec.rb:96:in `block (4 levels) in <main>'

  8) Document API POST /ged/documents (AJAX upload) with invalid parameters returns error response
     Failure/Error: params.require(:document).permit(:title, :description, :file, :space_id, :folder_id)

     ActionDispatch::Http::Parameters::ParseError:
       Error occurred while parsing request parameters
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/request.rb:107:in `fetch'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/request.rb:107:in `fetch_header'
     # ./app/controllers/ged_controller.rb:339:in `document_params'
     # ./app/controllers/ged_controller.rb:66:in `upload_document'
     # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
     # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
     # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
     # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
     # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
     # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
     # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
     # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:43:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
     # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
     # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
     # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
     # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
     # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
     # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
     # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
     # ./spec/requests/document_api_spec.rb:67:in `block (5 levels) in <main>'
     # ./spec/requests/document_api_spec.rb:66:in `block (4 levels) in <main>'
     # ------------------
     # --- Caused by: ---
     # JSON::ParserError:
     #   unexpected character: 'document[title]=&document[space_' at line 1 column 1
     #   /usr/local/bundle/gems/json-2.12.2/lib/json/common.rb:338:in `parse'

  9) Ui::AlertComponent dismissible alerts shows dismiss button when dismissible
     Failure/Error: expect(page).to have_css("[data-controller='alert']")
       expected to find css "[data-controller='alert']" but there were no matches
     # ./spec/components/ui/alert_component_spec.rb:156:in `block (3 levels) in <main>'

  10) Ui::AlertComponent stimulus integration includes alert controller for dismissible alerts
      Failure/Error: expect(page).to have_css("[data-controller='alert']")
        expected to find css "[data-controller='alert']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:240:in `block (3 levels) in <main>'

  11) Ui::AlertComponent accessibility has proper ARIA live region for non-critical alerts
      Failure/Error: expect(page).to have_css("[aria-live='polite']")
        expected to find css "[aria-live='polite']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:220:in `block (3 levels) in <main>'

  12) Ui::AlertComponent accessibility has proper ARIA live region for important alerts
      Failure/Error: expect(page).to have_css("[aria-live='assertive']")
        expected to find css "[aria-live='assertive']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:211:in `block (3 levels) in <main>'

  13) Ui::AlertComponent accessibility has proper ARIA role
      Failure/Error: expect(page).to have_css("[role='alert']")
        expected to find css "[role='alert']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:202:in `block (3 levels) in <main>'

  14) Ui::AlertComponent accessibility dismiss button has ARIA label
      Failure/Error: expect(page).to have_css("button[aria-label='Dismiss alert']")
        expected to find css "button[aria-label='Dismiss alert']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:229:in `block (3 levels) in <main>'

  15) Ui::AlertComponent custom styling has rounded corners and overflow hidden
      Failure/Error: expect(page).to have_css("[class*='rounded']")
        expected to find css "[class*='rounded']" but there were no matches
      # ./spec/components/ui/alert_component_spec.rb:264:in `block (3 levels) in <main>'

  16) Tag Management Viewing tags displays tags in the navigation
      Got 1 failure and 1 other error:

      16.1) Failure/Error: expect(page).to have_link('Tags')
              expected to find link "Tags" but there were no matches
            # ./spec/system/tag_management_spec.rb:20:in `block (3 levels) in <main>'

      16.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  17) Tag Management Viewing tags shows tag details
      Got 0 failures and 2 other errors:

      17.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:46:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      17.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  18) Tag Management Viewing tags allows searching tags
      Got 1 failure and 1 other error:

      18.1) Failure/Error: expect(page).to have_content('Important')
              expected to find text "Important" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur R Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Tags Gérez les tags pour organiser vos documents important 0 document". (However, it was found 1 time using a case insensitive search.)
            # ./spec/system/tag_management_spec.rb:38:in `block (3 levels) in <main>'

      18.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  19) Tag Management Viewing tags shows all organization tags
      Got 1 failure and 1 other error:

      19.1) Failure/Error: expect(page).to have_content('Important')
              expected to find text "Important" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur B Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Tags Gérez les tags pour organiser vos documents archive 0 document important 0 document". (However, it was found 1 time using a case insensitive search.)
            # ./spec/system/tag_management_spec.rb:27:in `block (3 levels) in <main>'

      19.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  20) Tag Management Tag usage in documents shows documents with specific tag
      Got 0 failures and 2 other errors:

      20.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:204:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      20.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  21) Tag Management Tag usage in documents allows navigating to document from tag view
      Got 0 failures and 2 other errors:

      21.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:216:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      21.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  22) Tag Management Tag autocomplete returns matching tags
      Got 0 failures and 2 other errors:

      22.1) Failure/Error: visit tags_autocomplete_path(q: 'Imp')

            NoMethodError:
              undefined method `tags_autocomplete_path' for #<RSpec::ExampleGroups::TagManagement::TagAutocomplete:0x0000ffff95d52df8>
            # ./spec/system/tag_management_spec.rb:180:in `block (3 levels) in <main>'

      22.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  23) Tag Management Empty states shows empty state when tag has no documents
      Got 0 failures and 2 other errors:

      23.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:241:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      23.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  24) Tag Management Managing tags as regular user allows creating tags with permission
      Got 0 failures and 2 other errors:

      24.1) Failure/Error: ], @tag.tag_type),

            ActionView::Template::Error:
              undefined method `tag_type' for an instance of Tag
            # ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'
            # ./app/views/tags/new.html.erb:16:in `_app_views_tags_new_html_erb___1575949056362965510_102020'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:158:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `tag_type' for an instance of Tag
            #   ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'

      24.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  25) Tag Management Managing tags as admin allows creating a new tag
      Got 0 failures and 2 other errors:

      25.1) Failure/Error: ], @tag.tag_type),

            ActionView::Template::Error:
              undefined method `tag_type' for an instance of Tag
            # ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'
            # ./app/views/tags/new.html.erb:16:in `_app_views_tags_new_html_erb___1575949056362965510_102020'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
            # ./spec/system/tag_management_spec.rb:62:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `tag_type' for an instance of Tag
            #   ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'

      25.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  26) Tag Management Managing tags as admin allows editing a tag
      Got 0 failures and 2 other errors:

      26.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:90:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      26.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  27) Tag Management Managing tags as admin allows deleting a tag
      Got 0 failures and 2 other errors:

      27.1) Failure/Error: <% if @tag.description.present? %>

            ActionView::Template::Error:
              undefined method `description' for an instance of Tag
            # ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:119:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `description' for an instance of Tag
            #   ./app/views/tags/show.html.erb:17:in `_app_views_tags_show_html_erb___4058115679936993426_100140'

      27.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  28) Tag Management Managing tags as admin shows warning when editing tag with documents
      Got 0 failures and 2 other errors:

      28.1) Failure/Error: ], @tag.tag_type),

            ActionView::Template::Error:
              undefined method `tag_type' for an instance of Tag
            # ./app/views/tags/edit.html.erb:64:in `block in _app_views_tags_edit_html_erb__1826738594223474484_102580'
            # ./app/views/tags/edit.html.erb:16:in `_app_views_tags_edit_html_erb__1826738594223474484_102580'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:110:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `tag_type' for an instance of Tag
            #   ./app/views/tags/edit.html.erb:64:in `block in _app_views_tags_edit_html_erb__1826738594223474484_102580'

      28.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  29) Tag Management Managing tags as admin shows edit and delete options in tag grid
      Got 0 failures and 2 other errors:

      29.1) Failure/Error:
              within(find('.relative.flex', text: 'Editable')) do
                find('[data-action="click->dropdown#toggle"]').click
                
                expect(page).to have_link('Modifier')
                expect(page).to have_link('Supprimer')
              end

            Capybara::ElementNotFound:
              Unable to find visible css ".relative.flex" with text "Editable"
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `find'
            # ./spec/system/tag_management_spec.rb:135:in `block (3 levels) in <main>'

      29.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  30) Tag Management Managing tags as admin validates tag creation
      Got 0 failures and 2 other errors:

      30.1) Failure/Error: ], @tag.tag_type),

            ActionView::Template::Error:
              undefined method `tag_type' for an instance of Tag
            # ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'
            # ./app/views/tags/new.html.erb:16:in `_app_views_tags_new_html_erb___1575949056362965510_102020'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/tag_management_spec.rb:79:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `tag_type' for an instance of Tag
            #   ./app/views/tags/new.html.erb:66:in `block in _app_views_tags_new_html_erb___1575949056362965510_102020'

      30.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  31) Ui::ButtonComponent with dropdown renders dropdown button
      Failure/Error: expect(page).to have_css('[data-controller="dropdown"]')
        expected to find css "[data-controller=\"dropdown\"]" but there were no matches
      # ./spec/components/ui/button_component_spec.rb:94:in `block (3 levels) in <main>'

  32) Document Locking Workflow Authorization checks user without write permission does not show lock button
      Got 1 failure and 1 other error:

      32.1) Failure/Error: expect(page).not_to have_button('Verrouiller')
              expected not to find visible button "Verrouiller" that is not disabled, found 1 match: ""
            # ./spec/system/document_locking_workflow_spec.rb:141:in `block (4 levels) in <main>'

      32.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  33) Document Locking Workflow Locking a document allows locking document with reason
      Got 1 failure and 1 other error:

      33.1) Failure/Error: expect(page).not_to have_button('Verrouiller')
              expected not to find visible button "Verrouiller" that is not disabled, found 1 match: ""
            # ./spec/system/document_locking_workflow_spec.rb:34:in `block (3 levels) in <main>'

      33.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  34) Document Locking Workflow Viewing locked document as another user shows lock information but no unlock button
      Got 1 failure and 1 other error:

      34.1) Failure/Error: expect(page).not_to have_button('Verrouiller')
              expected not to find visible button "Verrouiller" that is not disabled, found 1 match: ""
            # ./spec/system/document_locking_workflow_spec.rb:82:in `block (4 levels) in <main>'

      34.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  35) Document Locking Workflow Viewing locked document as admin shows unlock button for admin
      Got 1 failure and 1 other error:

      35.1) Failure/Error: expect(page).to have_button('Déverrouiller')
              expected to find button "Déverrouiller" that is not disabled but there were no matches
            # ./spec/system/document_locking_workflow_spec.rb:94:in `block (4 levels) in <main>'

      35.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  36) Ui::UserAvatarComponent renders with different sizes
      Failure/Error: expect(rendered_sm).to have_css('.h-8.w-8')
        expected to find css ".h-8.w-8" but there were no matches
      # ./spec/components/ui/user_avatar_component_spec.rb:17:in `block (2 levels) in <main>'

  37) Ui::UserAvatarComponent shows tooltip when enabled
      Failure/Error: expect(rendered).to have_css('[title="John Doe"]')
        expected to find css "[title=\"John Doe\"]" but there were no matches
      # ./spec/components/ui/user_avatar_component_spec.rb:24:in `block (2 levels) in <main>'

  38) DocumentProcessingService private helper methods #extract_pdf_text extracts text from PDF using PDF reader
      Failure/Error: allow(service).to receive(:read_pdf_content).and_return('Extracted text from PDF')
        #<DocumentProcessingService:0x0000ffff958838b8 @document=#<Document id: 20840, title: "Harum accusamus in", description: "Et rerum sit. Nemo in et. Et et eum.", folder_id: nil, space_id: 12527, parent_id: nil, uploaded_by_id: 53489, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Ut cupiditate ut. Ut aut aspernatur. Perferendis f...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.310868000 +0200", updated_at: "2025-06-10 00:21:34.313372000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil>> does not implement: read_pdf_content
      # ./spec/services/document_processing_service_spec.rb:174:in `block (4 levels) in <main>'

  39) DocumentProcessingService private helper methods #extract_ocr_text uses Tesseract for OCR
      Failure/Error: allow(service).to receive(:tesseract_ocr).and_return('OCR result text')
        #<DocumentProcessingService:0x0000ffff9cff8650 @document=#<Document id: 20841, title: "Nostrum aperiam maxime", description: "Voluptas perferendis ea. Molestias vero repudianda...", folder_id: nil, space_id: 12528, parent_id: nil, uploaded_by_id: 53490, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Similique sed voluptatem. Molestiae dignissimos se...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.324544000 +0200", updated_at: "2025-06-10 00:21:34.329938000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil>> does not implement: tesseract_ocr
      # ./spec/services/document_processing_service_spec.rb:185:in `block (4 levels) in <main>'

  40) DocumentProcessingService private helper methods #suggest_tags_from_content suggests tags based on content keywords
      Failure/Error: expect(tags).to include('construction', 'contract', 'architecture')
        expected ["contract"] to include "construction" and "architecture"
      # ./spec/services/document_processing_service_spec.rb:207:in `block (4 levels) in <main>'

  41) DocumentProcessingService private helper methods #needs_ocr? returns true for image files
      Failure/Error: allow(document).to receive(:file_content_type).and_return('image/jpeg')
        #<Document id: 20844, title: "Voluptatem ab placeat", description: "Dolor saepe quia. Deserunt natus sed. Non voluptat...", folder_id: nil, space_id: 12531, parent_id: nil, uploaded_by_id: 53493, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Voluptatem earum perferendis. Eaque voluptas conse...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.373658000 +0200", updated_at: "2025-06-10 00:21:34.376180000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:220:in `block (4 levels) in <main>'

  42) DocumentProcessingService private helper methods #needs_ocr? returns false for text-based files
      Failure/Error: allow(document).to receive(:file_content_type).and_return('application/pdf')
        #<Document id: 20845, title: "Pariatur nam corporis", description: "Quia aut incidunt. Eum ut excepturi. Atque ut saep...", folder_id: nil, space_id: 12532, parent_id: nil, uploaded_by_id: 53494, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Quia sequi impedit. Quas facilis blanditiis. Dolor...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.388052000 +0200", updated_at: "2025-06-10 00:21:34.390443000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:225:in `block (4 levels) in <main>'

  43) DocumentProcessingService#apply_auto_tagging applies automatic tags based on content
      Failure/Error: document.tags << tag unless document.tags.include?(tag)

      ActiveRecord::RecordInvalid:
        La validation a échoué : Organization doit exister
      # ./app/services/document_processing_service.rb:77:in `block in apply_auto_tagging'
      # ./app/services/document_processing_service.rb:75:in `each'
      # ./app/services/document_processing_service.rb:75:in `apply_auto_tagging'
      # ./spec/services/document_processing_service_spec.rb:156:in `block (3 levels) in <main>'

  44) DocumentProcessingService#apply_auto_tagging does not duplicate existing tags
      Failure/Error: document.tags.create!(name: 'contract')

      ActiveRecord::RecordInvalid:
        La validation a échoué : Organization doit exister
      # ./spec/services/document_processing_service_spec.rb:162:in `block (3 levels) in <main>'

  45) DocumentProcessingService#extract_text with Word document extracts text from Word document
      Failure/Error: allow(document).to receive(:file_content_type).and_return('application/vnd.openxmlformats-officedocument.wordprocessingml.document')
        #<Document id: 20849, title: "Aut ab expedita", description: "Ut quod aliquam. Itaque et sint. Cum et distinctio...", folder_id: nil, space_id: 12536, parent_id: nil, uploaded_by_id: 53498, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Delectus expedita nemo. Aut voluptas non. Ut volup...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.455948000 +0200", updated_at: "2025-06-10 00:21:34.458485000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:73:in `block (4 levels) in <main>'

  46) DocumentProcessingService#extract_text with image file uses OCR for text extraction
      Failure/Error: allow(document).to receive(:file_content_type).and_return('image/jpeg')
        #<Document id: 20850, title: "Cumque quo hic", description: "Est modi atque. Cumque sed ratione. Tempore dolori...", folder_id: nil, space_id: 12537, parent_id: nil, uploaded_by_id: 53499, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Ut praesentium illo. Et voluptas voluptate. Laboru...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.470624000 +0200", updated_at: "2025-06-10 00:21:34.472987000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:59:in `block (4 levels) in <main>'

  47) DocumentProcessingService#extract_text with PDF file extracts text from PDF
      Failure/Error: allow(document).to receive(:file_content_type).and_return('application/pdf')
        #<Document id: 20851, title: "Delectus nobis ipsum", description: "Sed maxime modi. Corporis et rem. Suscipit ratione...", folder_id: nil, space_id: 12538, parent_id: nil, uploaded_by_id: 53500, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Ea vel aut. Non voluptatem a. Perspiciatis consequ...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.484084000 +0200", updated_at: "2025-06-10 00:21:34.486489000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:44:in `block (4 levels) in <main>'

  48) DocumentProcessingService#run_virus_scan scans document for viruses
      Failure/Error: expect(document.virus_scan_status).to eq('clean')

        expected: #<Encoding:UTF-8> "clean"
             got: #<Encoding:US-ASCII> "scan_clean"

        (compared using ==)
      # ./spec/services/document_processing_service_spec.rb:137:in `block (3 levels) in <main>'

  49) DocumentProcessingService#run_virus_scan quarantines infected files
      Failure/Error: document.quarantined = true

      NoMethodError:
        undefined method `quarantined=' for an instance of Document
      # ./app/services/document_processing_service.rb:66:in `run_virus_scan'
      # ./spec/services/document_processing_service_spec.rb:143:in `block (3 levels) in <main>'

  50) DocumentProcessingService#generate_thumbnail with PDF file generates thumbnail for PDF
      Failure/Error: allow(document).to receive(:file_content_type).and_return('application/pdf')
        #<Document id: 20854, title: "Quia animi ut", description: "Qui commodi enim. Dolorem beatae iste. Dolor accus...", folder_id: nil, space_id: 12541, parent_id: nil, uploaded_by_id: 53503, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Enim facilis est. Sunt dolores quidem. Dicta venia...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.533200000 +0200", updated_at: "2025-06-10 00:21:34.535806000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:120:in `block (4 levels) in <main>'

  51) DocumentProcessingService#generate_thumbnail with image file generates thumbnail for image
      Failure/Error: allow(document).to receive(:file_content_type).and_return('image/jpeg')
        #<Document id: 20855, title: "Aut libero dolores", description: "Voluptatum occaecati natus. Est ut quia. Quia erro...", folder_id: nil, space_id: 12542, parent_id: nil, uploaded_by_id: 53504, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Et facere aliquid. Quod eveniet incidunt. Minima r...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:21:34.547564000 +0200", updated_at: "2025-06-10 00:21:34.550380000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
      # ./spec/services/document_processing_service_spec.rb:108:in `block (4 levels) in <main>'

  52) DocumentProcessingService#extract_metadata extracts file metadata
      Failure/Error: document.content_hash = calculate_content_hash(document.file.download)

      NoMethodError:
        undefined method `content_hash=' for an instance of Document
      # ./app/services/document_processing_service.rb:47:in `extract_metadata'
      # ./spec/services/document_processing_service_spec.rb:91:in `block (3 levels) in <main>'

  53) DocumentProcessingService#extract_metadata calculates content hash
      Failure/Error: document.content_hash = calculate_content_hash(document.file.download)

      NoMethodError:
        undefined method `content_hash=' for an instance of Document
      # ./app/services/document_processing_service.rb:47:in `extract_metadata'
      # ./spec/services/document_processing_service_spec.rb:99:in `block (3 levels) in <main>'

  54) Navigation::BreadcrumbComponent truncation truncates long breadcrumbs by default
      Failure/Error: expect(page).to have_text("...")
        expected to find text "..." in "Home Level 1 Level 4 Level 5 Retour"
      # ./spec/components/navigation/breadcrumb_component_spec.rb:123:in `block (3 levels) in <main>'

  55) Documents::AiInsightsComponent rendering when document is AI processed renders the component
      Failure/Error: <% if document.ai_summary.present? %>

      NoMethodError:
        undefined method `ai_summary' for #<Document:0x0000ffff954030e0>
      # ./app/components/documents/ai_insights_component.html.erb:81:in `call'
      # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
      # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
      # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
      # ./spec/components/documents/ai_insights_component_spec.rb:137:in `block (4 levels) in <main>'

  56) Ui::IconComponent basic rendering applies default stroke width
      Failure/Error: expect(page).to have_css("svg[stroke-width='2']")
        expected to find css "svg[stroke-width='2']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:27:in `block (3 levels) in <main>'

  57) Ui::IconComponent basic rendering applies custom stroke width
      Failure/Error: expect(page).to have_css("svg[stroke-width='3']")
        expected to find css "svg[stroke-width='3']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:33:in `block (3 levels) in <main>'

  58) Ui::IconComponent accessibility includes aria-hidden by default
      Failure/Error: expect(page).to have_css("svg[aria-hidden='true']")
        expected to find css "svg[aria-hidden='true']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:175:in `block (3 levels) in <main>'

  59) Ui::IconComponent SVG attributes sets aria-hidden for decorative icons
      Failure/Error: expect(page).to have_css("svg[aria-hidden='true']")
        expected to find css "svg[aria-hidden='true']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:138:in `block (3 levels) in <main>'

  60) Ui::IconComponent viewbox customization uses default viewbox
      Failure/Error: expect(page).to have_css("svg[viewBox='0 0 24 24']")
        expected to find css "svg[viewBox='0 0 24 24']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:113:in `block (3 levels) in <main>'

  61) Ui::IconComponent viewbox customization accepts custom viewbox
      Failure/Error: expect(page).to have_css("svg[viewBox='0 0 32 32']")
        expected to find css "svg[viewBox='0 0 32 32']" but there were no matches
      # ./spec/components/ui/icon_component_spec.rb:122:in `block (3 levels) in <main>'

  62) WorkflowStep scopes .ordered returns steps ordered by position
      Failure/Error: expect(WorkflowStep.ordered).to eq([step1, step2, step3])

      NoMethodError:
        undefined method `ordered' for class WorkflowStep
      # ./spec/models/workflow_step_spec.rb:35:in `block (4 levels) in <main>'

  63) WorkflowStep scopes .manual returns only manual steps
      Failure/Error: let!(:manual_step) { create(:workflow_step, step_type: 'manual', workflow: workflow) }

      ActiveRecord::RecordNotUnique:
        PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_workflow_steps_on_workflow_id_and_position"
        DETAIL:  Key (workflow_id, "position")=(1113, 1) already exists.
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:15:in `create'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:12:in `block in result'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
      # ./spec/models/workflow_step_spec.rb:40:in `block (4 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::UniqueViolation:
      #   ERROR:  duplicate key value violates unique constraint "index_workflow_steps_on_workflow_id_and_position"
      #   DETAIL:  Key (workflow_id, "position")=(1113, 1) already exists.
      #   /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:15:in `create'

  64) WorkflowStep associations is expected to belong to assignee class_name => User optional: true
      Failure/Error: it { should belong_to(:assignee).class_name('User').optional }
        Expected WorkflowStep to have a belongs_to association called assignee (no association called assignee)
      # ./spec/models/workflow_step_spec.rb:8:in `block (3 levels) in <main>'

  65) WorkflowStep associations is expected to have many workflow_submissions
      Failure/Error: it { should have_many(:workflow_submissions) }
        Expected WorkflowStep to have a has_many association called workflow_submissions (no association called workflow_submissions)
      # ./spec/models/workflow_step_spec.rb:9:in `block (3 levels) in <main>'

  66) WorkflowStep validations validates step_type inclusion
      Failure/Error: should validate_inclusion_of(:step_type).in_array(%w[manual automatic conditional parallel])

        Expected WorkflowStep to validate that :step_type is either ‹"manual"›,
        ‹"automatic"›, ‹"conditional"›, or ‹"parallel"›, but this could not be
        proved.
          After setting :step_type to ‹"Shoulda::Matchers::ExampleClass"›, the
          matcher expected the WorkflowStep to be invalid, placing a validation
          error on :step_type. The Example was invalid, but it had errors
          involving other attributes:

          * workflow: ["doit exister"]
          * name: ["ne peut pas être vide"]
          * position: ["ne peut pas être vide"]
      # ./spec/models/workflow_step_spec.rb:19:in `block (3 levels) in <main>'

  67) WorkflowStep validations is expected to validate that :step_type cannot be empty/falsy
      Failure/Error: it { should validate_presence_of(:step_type) }

        Expected WorkflowStep to validate that :step_type cannot be empty/falsy,
        but this could not be proved.
          After setting :step_type to ‹""›, the matcher expected the
          WorkflowStep to be invalid, placing a validation error on :step_type.
          The Example was invalid, but it had errors involving other attributes:

          * workflow: ["doit exister"]
          * name: ["ne peut pas être vide"]
          * position: ["ne peut pas être vide"]
      # ./spec/models/workflow_step_spec.rb:15:in `block (3 levels) in <main>'

  68) WorkflowStep validations validates position uniqueness scoped to workflow
      Failure/Error: should validate_uniqueness_of(:position).scoped_to(:workflow_id)

        Expected WorkflowStep to validate that :position is case-sensitively
        unique within the scope of :workflow_id, but this could not be proved.
          Expected the validation to be scoped to :workflow_id, but it was not
          scoped to anything.
      # ./spec/models/workflow_step_spec.rb:24:in `block (3 levels) in <main>'

  69) WorkflowStep validations is expected to validate that :workflow cannot be empty/falsy
      Failure/Error: it { should validate_presence_of(:workflow) }

        Expected WorkflowStep to validate that :workflow cannot be empty/falsy,
        but this could not be proved.
          After setting :workflow to ‹nil›, the matcher expected the
          WorkflowStep to be invalid and to produce the validation error "ne
          peut pas être vide" on :workflow. The record was indeed invalid, but
          it produced these validation errors instead:

          * workflow: ["doit exister"]
          * name: ["ne peut pas être vide"]
          * position: ["ne peut pas être vide"]

          You're getting this error because ActiveRecord is configured to add a
          presence validation to all `belongs_to` associations, and this
          includes yours. *This* presence validation doesn't use "can't be
          blank", the usual validation message, but "must exist" instead.

          With that said, did you know that the `belong_to` matcher can test
          this validation for you? Instead of using `validate_presence_of`, try
          the following instead:

              it { should belong_to(:workflow) }
      # ./spec/models/workflow_step_spec.rb:14:in `block (3 levels) in <main>'

  70) WorkflowStep instance methods #next_step returns nil for last step
      Failure/Error: expect(step2.next_step).to be_nil

      NoMethodError:
        undefined method `next_step' for an instance of WorkflowStep
      # ./spec/models/workflow_step_spec.rb:62:in `block (4 levels) in <main>'

  71) WorkflowStep instance methods #next_step returns the next step in sequence
      Failure/Error: expect(step1.next_step).to eq(step2)

      NoMethodError:
        undefined method `next_step' for an instance of WorkflowStep
      # ./spec/models/workflow_step_spec.rb:58:in `block (4 levels) in <main>'

  72) WorkflowStep instance methods #estimated_duration_in_hours returns estimated duration divided by 3600
      Failure/Error: step.update(estimated_duration: 7200) # 2 hours in seconds

      ActiveModel::UnknownAttributeError:
        unknown attribute 'estimated_duration' for WorkflowStep.
      # ./spec/models/workflow_step_spec.rb:100:in `block (4 levels) in <main>'

  73) WorkflowStep instance methods #estimated_duration_in_hours returns 0 if no estimated duration
      Failure/Error: step.update(estimated_duration: nil)

      ActiveModel::UnknownAttributeError:
        unknown attribute 'estimated_duration' for WorkflowStep.
      # ./spec/models/workflow_step_spec.rb:105:in `block (4 levels) in <main>'

  74) WorkflowStep instance methods #can_be_completed_by? returns true if step is unassigned
      Failure/Error: let(:unassigned_step) { create(:workflow_step, assignee: nil, workflow: workflow) }

      NoMethodError:
        undefined method `assignee=' for an instance of WorkflowStep
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
      # ./spec/models/workflow_step_spec.rb:82:in `block (4 levels) in <main>'
      # ./spec/models/workflow_step_spec.rb:89:in `block (4 levels) in <main>'

  75) WorkflowStep instance methods #can_be_completed_by? returns true if user is assignee
      Failure/Error: let(:assigned_step) { create(:workflow_step, assignee: user, workflow: workflow) }

      NoMethodError:
        undefined method `assignee=' for an instance of WorkflowStep
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
      # ./spec/models/workflow_step_spec.rb:81:in `block (4 levels) in <main>'
      # ./spec/models/workflow_step_spec.rb:85:in `block (4 levels) in <main>'

  76) WorkflowStep instance methods #can_be_completed_by? returns false if user is not assignee
      Failure/Error: let(:assigned_step) { create(:workflow_step, assignee: user, workflow: workflow) }

      NoMethodError:
        undefined method `assignee=' for an instance of WorkflowStep
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
      # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
      # ./spec/models/workflow_step_spec.rb:81:in `block (4 levels) in <main>'
      # ./spec/models/workflow_step_spec.rb:94:in `block (4 levels) in <main>'

  77) WorkflowStep instance methods #previous_step returns nil for first step
      Failure/Error: expect(step1.previous_step).to be_nil

      NoMethodError:
        undefined method `previous_step' for an instance of WorkflowStep
      # ./spec/models/workflow_step_spec.rb:75:in `block (4 levels) in <main>'

  78) WorkflowStep instance methods #previous_step returns the previous step in sequence
      Failure/Error: expect(step2.previous_step).to eq(step1)

      NoMethodError:
        undefined method `previous_step' for an instance of WorkflowStep
      # ./spec/models/workflow_step_spec.rb:71:in `block (4 levels) in <main>'

  79) Document AI and Compliance Features Regulatory Compliance Financial compliance flags high-value transactions
      Got 0 failures and 2 other errors:

      79.1) Failure/Error: click_button 'Vérifier la conformité'

            Capybara::ElementNotFound:
              Unable to find button "Vérifier la conformité" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:215:in `block (4 levels) in <main>'

      79.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  80) Document AI and Compliance Features Regulatory Compliance GDPR compliance detects GDPR compliance issues
      Got 0 failures and 2 other errors:

      80.1) Failure/Error: click_button 'Vérifier la conformité'

            Capybara::ElementNotFound:
              Unable to find button "Vérifier la conformité" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:149:in `block (4 levels) in <main>'

      80.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  81) Document AI and Compliance Features Regulatory Compliance Contract compliance checks for mandatory contract clauses
      Got 0 failures and 2 other errors:

      81.1) Failure/Error: click_button 'Vérifier la conformité'

            Capybara::ElementNotFound:
              Unable to find button "Vérifier la conformité" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:189:in `block (4 levels) in <main>'

      81.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  82) Document AI and Compliance Features Regulatory Compliance Environmental compliance checks for environmental impact assessment
      Got 0 failures and 2 other errors:

      82.1) Failure/Error: click_button 'Vérifier la conformité'

            Capybara::ElementNotFound:
              Unable to find button "Vérifier la conformité" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:241:in `block (4 levels) in <main>'

      82.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  83) Document AI and Compliance Features AI Classification automatic classification on upload classifies an invoice document
      Got 0 failures and 2 other errors:

      83.1) Failure/Error: click_button 'Nouveau document'

            Capybara::ElementNotFound:
              Unable to find button "Nouveau document" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:59:in `block (4 levels) in <main>'

      83.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  84) Document AI and Compliance Features AI Classification automatic classification on upload extracts entities from documents
      Got 0 failures and 2 other errors:

      84.1) Failure/Error:
              within '.extracted-entities' do
                expect(page).to have_content('Entités extraites')
                expect(page).to have_content('Email: jean.dupont@example.com')
                expect(page).to have_content('Téléphone: 01 23 45 67 89')
                expect(page).to have_content('Référence: CTR-2024-001')
              end

            Capybara::ElementNotFound:
              Unable to find css ".extracted-entities"
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
            # ./spec/system/document_ai_compliance_spec.rb:101:in `block (4 levels) in <main>'

      84.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  85) Document AI and Compliance Features AI Classification automatic classification on upload classifies a contract document
      Got 0 failures and 2 other errors:

      85.1) Failure/Error: click_button 'Nouveau document'

            Capybara::ElementNotFound:
              Unable to find button "Nouveau document" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:19:in `block (4 levels) in <main>'

      85.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  86) Document AI and Compliance Features AI Classification manual classification allows manual AI classification trigger
      Got 0 failures and 2 other errors:

      86.1) Failure/Error: click_button 'Classifier (IA)'

            Capybara::ElementNotFound:
              Unable to find button "Classifier (IA)" that is not disabled
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
            # ./spec/system/document_ai_compliance_spec.rb:119:in `block (4 levels) in <main>'

      86.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  87) Document AI and Compliance Features Compliance Dashboard shows compliance overview
      Got 0 failures and 2 other errors:

      87.1) Failure/Error: Par <%= document.user.display_name %>

            ActionView::Template::Error:
              undefined method `user' for an instance of Document
            # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/document_ai_compliance_spec.rb:272:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `user' for an instance of Document
            #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

      87.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  88) Document AI and Compliance Features Compliance Integration with Validation shows compliance warnings during validation
      Got 0 failures and 2 other errors:

      88.1) Failure/Error: @document.tags << Tag.find_or_create_by(name: 'compliance:compliant')

            ActiveRecord::RecordInvalid:
              La validation a échoué : Organization doit exister
            # ./app/services/regulatory_compliance_service.rb:392:in `store_compliance_results'
            # ./app/services/regulatory_compliance_service.rb:136:in `check_compliance'
            # ./app/services/regulatory_compliance_service.rb:148:in `check_document_compliance'
            # ./spec/system/document_ai_compliance_spec.rb:312:in `block (3 levels) in <main>'

      88.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  89) Document AI and Compliance Features Batch Compliance Operations generates compliance report for multiple documents
      Got 0 failures and 2 other errors:

      89.1) Failure/Error: Par <%= document.user.display_name %>

            ActionView::Template::Error:
              undefined method `user' for an instance of Document
            # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
            # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
            # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
            # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
            # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
            # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
            # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
            # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
            # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
            # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
            # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
            # ./spec/system/document_ai_compliance_spec.rb:352:in `block (3 levels) in <main>'
            # ------------------
            # --- Caused by: ---
            # NoMethodError:
            #   undefined method `user' for an instance of Document
            #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

      89.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

            Capybara::NotSupportedByDriverError:
              Capybara::Driver::Base#save_screenshot
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
            # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
            # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  90) Authorizable#authorize_user accepts optional parameters
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20930, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.060884, 2025-06-09 22:21:36.060884, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20930, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.060884, 2025-06-09 22:21:36.060884, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  91) Authorizable#authorize_user creates a user authorization
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20931, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.06558, 2025-06-09 22:21:36.06558, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20931, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.06558, 2025-06-09 22:21:36.06558, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  92) Authorizable included module behavior adds authorizations association
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20932, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.07011, 2025-06-09 22:21:36.07011, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20932, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.07011, 2025-06-09 22:21:36.07011, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  93) Authorizable included module behavior adds authorization methods
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20933, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.07622, 2025-06-09 22:21:36.07622, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20933, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.07622, 2025-06-09 22:21:36.07622, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  94) Authorizable included module behavior adds scopes to the class
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20934, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.080578, 2025-06-09 22:21:36.080578, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20934, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.080578, 2025-06-09 22:21:36.080578, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  95) Authorizable#readable_by? returns true for user with write permission
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20935, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.084794, 2025-06-09 22:21:36.084794, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20935, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.084794, 2025-06-09 22:21:36.084794, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  96) Authorizable#readable_by? returns true for user with admin permission
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20936, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.08924, 2025-06-09 22:21:36.08924, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20936, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.08924, 2025-06-09 22:21:36.08924, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  97) Authorizable#readable_by? returns true for user with read permission
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20937, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.096076, 2025-06-09 22:21:36.096076, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20937, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.096076, 2025-06-09 22:21:36.096076, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  98) Authorizable#readable_by? returns true for super admin
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20938, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.101304, 2025-06-09 22:21:36.101304, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20938, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.101304, 2025-06-09 22:21:36.101304, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  99) Authorizable#readable_by? returns false for user without permission
      Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

      ActiveRecord::NotNullViolation:
        PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
        DETAIL:  Failing row contains (20939, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.106654, 2025-06-09 22:21:36.106654, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
      # ------------------
      # --- Caused by: ---
      # PG::NotNullViolation:
      #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
      #   DETAIL:  Failing row contains (20939, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.106654, 2025-06-09 22:21:36.106654, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
      #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  100) Authorizable#readable_by? returns true for owner when owned_by? is true
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20940, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.111254, 2025-06-09 22:21:36.111254, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20940, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.111254, 2025-06-09 22:21:36.111254, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  101) Authorizable#revoke_authorization revokes user authorization
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20941, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.116217, 2025-06-09 22:21:36.116217, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20941, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.116217, 2025-06-09 22:21:36.116217, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  102) Authorizable#revoke_authorization accepts revocation comment
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20942, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.120513, 2025-06-09 22:21:36.120513, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20942, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.120513, 2025-06-09 22:21:36.120513, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  103) Authorizable#authorized_for? checks group permissions
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20943, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.124806, 2025-06-09 22:21:36.124806, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20943, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.124806, 2025-06-09 22:21:36.124806, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  104) Authorizable#authorized_for? returns false for nil user
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20944, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.129375, 2025-06-09 22:21:36.129375, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20944, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.129375, 2025-06-09 22:21:36.129375, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  105) Authorizable#authorized_for? checks direct user permissions
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20945, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.134699, 2025-06-09 22:21:36.134699, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20945, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.134699, 2025-06-09 22:21:36.134699, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  106) Authorizable#permissions_for returns unique permissions
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20946, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.138874, 2025-06-09 22:21:36.138874, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20946, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.138874, 2025-06-09 22:21:36.138874, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  107) Authorizable#permissions_for returns combined permissions from user and groups
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20947, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.143087, 2025-06-09 22:21:36.143087, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20947, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.143087, 2025-06-09 22:21:36.143087, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  108) Authorizable#writable_by? returns true for user with write permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20948, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.149957, 2025-06-09 22:21:36.149957, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20948, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.149957, 2025-06-09 22:21:36.149957, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  109) Authorizable#writable_by? returns true for super admin
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20949, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.155596, 2025-06-09 22:21:36.155596, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20949, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.155596, 2025-06-09 22:21:36.155596, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  110) Authorizable#writable_by? returns true for user with admin permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20950, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.160661, 2025-06-09 22:21:36.160661, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20950, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.160661, 2025-06-09 22:21:36.160661, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  111) Authorizable#writable_by? returns true for owner when owned_by? is true
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20951, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.165347, 2025-06-09 22:21:36.165347, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20951, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.165347, 2025-06-09 22:21:36.165347, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  112) Authorizable#writable_by? returns false for user with only read permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20952, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.16983, 2025-06-09 22:21:36.16983, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20952, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.16983, 2025-06-09 22:21:36.16983, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  113) Authorizable#admin_by? returns true for user with admin permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20953, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.174156, 2025-06-09 22:21:36.174156, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20953, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.174156, 2025-06-09 22:21:36.174156, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  114) Authorizable#admin_by? returns false for user with read or write permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20954, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.178448, 2025-06-09 22:21:36.178448, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20954, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.178448, 2025-06-09 22:21:36.178448, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  115) Authorizable#admin_by? returns true for super admin
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20955, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.183617, 2025-06-09 22:21:36.183617, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20955, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.183617, 2025-06-09 22:21:36.183617, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  116) Authorizable#admin_by? returns true for owner when owned_by? is true
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20956, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.187885, 2025-06-09 22:21:36.187885, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20956, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.187885, 2025-06-09 22:21:36.187885, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  117) Authorizable#grant_permission grants permission to group
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20957, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.192068, 2025-06-09 22:21:36.192068, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20957, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.192068, 2025-06-09 22:21:36.192068, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  118) Authorizable#grant_permission grants permission to user
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20958, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.196154, 2025-06-09 22:21:36.196154, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20958, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.196154, 2025-06-09 22:21:36.196154, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  119) Authorizable#grant_permission raises error for invalid subject
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20959, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.202785, 2025-06-09 22:21:36.202785, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20959, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.202785, 2025-06-09 22:21:36.202785, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  120) Authorizable#revoke_permission revokes permission from user
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20960, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.208556, 2025-06-09 22:21:36.208556, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20960, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.208556, 2025-06-09 22:21:36.208556, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  121) Authorizable#can_validate? returns false for user with only read permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20961, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.213554, 2025-06-09 22:21:36.213554, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20961, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.213554, 2025-06-09 22:21:36.213554, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  122) Authorizable#can_validate? returns true for owner when owned_by? is true
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20962, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.218232, 2025-06-09 22:21:36.218232, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20962, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.218232, 2025-06-09 22:21:36.218232, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  123) Authorizable#can_validate? returns true for super admin
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20963, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.222513, 2025-06-09 22:21:36.222513, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20963, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.222513, 2025-06-09 22:21:36.222513, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  124) Authorizable#can_validate? returns true for user with validate permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20964, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.226902, 2025-06-09 22:21:36.226902, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20964, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.226902, 2025-06-09 22:21:36.226902, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  125) Authorizable#can_validate? returns true for user with admin permission
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20965, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.231242, 2025-06-09 22:21:36.231242, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20965, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.231242, 2025-06-09 22:21:36.231242, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  126) Authorizable#authorize_group creates a group authorization
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20966, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.244865, 2025-06-09 22:21:36.244865, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20966, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.244865, 2025-06-09 22:21:36.244865, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  127) Authorizable#authorized_groups filters by permission level
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20967, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.257654, 2025-06-09 22:21:36.257654, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20967, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.257654, 2025-06-09 22:21:36.257654, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  128) Authorizable#authorized_groups returns all authorized groups when no permission specified
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20968, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.274011, 2025-06-09 22:21:36.274011, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20968, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.274011, 2025-06-09 22:21:36.274011, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  129) Authorizable alias methods provides alias methods for permission checks
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20969, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.309186, 2025-06-09 22:21:36.309186, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20969, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.309186, 2025-06-09 22:21:36.309186, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  130) Authorizable#authorized_users filters by permission level
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20970, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.31628, 2025-06-09 22:21:36.31628, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20970, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.31628, 2025-06-09 22:21:36.31628, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  131) Authorizable#authorized_users returns all authorized users when no permission specified
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20971, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.321974, 2025-06-09 22:21:36.321974, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20971, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.321974, 2025-06-09 22:21:36.321974, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  132) Authorizable private #owned_by? returns false when user is not the owner
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20972, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.326633, 2025-06-09 22:21:36.326633, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20972, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.326633, 2025-06-09 22:21:36.326633, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  133) Authorizable private #owned_by? returns true when object has user attribute matching the user
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20973, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.331504, 2025-06-09 22:21:36.331504, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20973, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.331504, 2025-06-09 22:21:36.331504, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  134) Authorizable private #owned_by? returns true when object has project_manager attribute matching the user
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20974, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.335877, 2025-06-09 22:21:36.335877, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20974, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.335877, 2025-06-09 22:21:36.335877, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  135) Authorizable scope methods readable_by scope returns items user can read
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20975, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.340575, 2025-06-09 22:21:36.340575, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20975, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.340575, 2025-06-09 22:21:36.340575, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  136) Authorizable scope methods writable_by scope returns items user can write
       Failure/Error: authorizable_instance.save! if authorizable_instance.respond_to?(:save!)

       ActiveRecord::NotNullViolation:
         PG::NotNullViolation: ERROR:  null value in column "title" of relation "documents" violates not-null constraint
         DETAIL:  Failing row contains (20976, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.346214, 2025-06-09 22:21:36.346214, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       # ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # PG::NotNullViolation:
       #   ERROR:  null value in column "title" of relation "documents" violates not-null constraint
       #   DETAIL:  Failing row contains (20976, null, null, null, null, null, null, null, draft, {}, null, null, null, null, f, null, null, f, 0, 0, pending, pending, null, null, null, 2025-06-09 22:21:36.346214, 2025-06-09 22:21:36.346214, null, null, null, {}, null, null, null, null, null, null, null, null, null, {}, null, null, null, null, null).
       #   ./spec/models/concerns/authorizable_spec.rb:27:in `block (2 levels) in <main>'

  137) Ui::CardComponent renders with actions slot
       Failure/Error: expect(page).to have_css('.card-actions')
         expected to find css ".card-actions" but there were no matches
       # ./spec/components/ui/card_component_spec.rb:41:in `block (2 levels) in <main>'

  138) Ui::CardComponent renders with variant styles
       Failure/Error: expect(page).to have_css('.card.card-primary')
         expected to find css ".card.card-primary" but there were no matches
       # ./spec/components/ui/card_component_spec.rb:59:in `block (2 levels) in <main>'

  139) Ui::CardComponent loading state shows skeleton loader when loading
       Failure/Error: expect(page).to have_css('.card.card-loading')
         expected to find css ".card.card-loading" but there were no matches
       # ./spec/components/ui/card_component_spec.rb:84:in `block (3 levels) in <main>'

  140) Ui::CardComponent clickable cards renders as clickable with link
       Failure/Error: expect(page).to have_css('.card.card-clickable')
         expected to find css ".card.card-clickable" but there were no matches
       # ./spec/components/ui/card_component_spec.rb:96:in `block (3 levels) in <main>'

  141) Ui::ModalComponent custom content allows action buttons in footer
       Failure/Error:
         content_tag(:div, class: "flex gap-2") do
           safe_join([
             content_tag(:button, "Cancel", class: "btn btn-secondary"),
             content_tag(:button, "Confirm", class: "btn btn-primary")
           ])
         end

       NoMethodError:
         undefined method `content_tag' for #<RSpec::ExampleGroups::UiModalComponent::CustomContent:0x0000ffff95983fb0>
       # ./spec/components/ui/modal_component_spec.rb:322:in `block (5 levels) in <main>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:77:in `to_s'
       # ./app/components/ui/modal_component.html.erb:39:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/modal_component_spec.rb:319:in `block (3 levels) in <main>'

  142) Ui::ModalComponent custom content allows complex content in body
       Failure/Error:
         content_tag(:form) do
           content_tag(:input, nil, type: "text", placeholder: "Enter name")
         end

       NoMethodError:
         undefined method `content_tag' for #<RSpec::ExampleGroups::UiModalComponent::CustomContent:0x0000ffff95df7d08>
       # ./spec/components/ui/modal_component_spec.rb:308:in `block (5 levels) in <main>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:77:in `to_s'
       # ./app/components/ui/modal_component.html.erb:30:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/modal_component_spec.rb:306:in `block (3 levels) in <main>'

  143) Ui::ModalComponent close button close button has proper aria label
       Failure/Error: expect(page).to have_css("button[aria-label='Close modal']")
         expected to find css "button[aria-label='Close modal']" but there were no matches
       # ./spec/components/ui/modal_component_spec.rb:136:in `block (3 levels) in <main>'

  144) Ui::ModalComponent accessibility has aria-labelledby when title is present
       Failure/Error: expect(page).to have_css("[aria-labelledby='test-modal-title']")
         expected to find css "[aria-labelledby='test-modal-title']" but there were no matches
       # ./spec/components/ui/modal_component_spec.rb:223:in `block (3 levels) in <main>'

  145) Ui::ModalComponent accessibility has proper role attribute
       Failure/Error: expect(page).to have_css("[role='dialog']")
         expected to find css "[role='dialog']" but there were no matches
       # ./spec/components/ui/modal_component_spec.rb:204:in `block (3 levels) in <main>'

  146) Ui::ModalComponent accessibility has aria-modal attribute
       Failure/Error: expect(page).to have_css("[aria-modal='true']")
         expected to find css "[aria-modal='true']" but there were no matches
       # ./spec/components/ui/modal_component_spec.rb:212:in `block (3 levels) in <main>'

  147) Schedulable private methods #end_date_after_start_date does not add error when dates are missing
       Failure/Error: schedulable_instance.start_date = nil

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:374:in `block (4 levels) in <main>'

  148) Schedulable private methods #end_date_after_start_date adds error when end_date is before start_date
       Failure/Error: schedulable_instance.start_date = tomorrow

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:358:in `block (4 levels) in <main>'

  149) Schedulable private methods #end_date_after_start_date does not add error when dates are valid
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:366:in `block (4 levels) in <main>'

  150) Schedulable#duration_in_hours returns duration in hours
       Failure/Error: schedulable_instance.start_date = 2.hours.ago

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:89:in `block (3 levels) in <main>'

  151) Schedulable#duration_in_hours returns nil when duration is nil
       Failure/Error: return nil unless start_date && end_date

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:24:in `duration'
       # ./app/models/concerns/schedulable.rb:34:in `duration_in_hours'
       # ./spec/models/concerns/schedulable_spec.rb:96:in `block (3 levels) in <main>'

  152) Schedulable#progress_percentage returns 0 for upcoming schedule
       Failure/Error: schedulable_instance.start_date = tomorrow

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:224:in `block (3 levels) in <main>'

  153) Schedulable#progress_percentage handles edge cases
       Failure/Error:
         travel_to(now) do
           # Schedule that started now
           schedulable_instance.start_date = now
           schedulable_instance.end_date = tomorrow
           
           expect(schedulable_instance.progress_percentage).to eq(0.0)
           
           # Schedule that ends now
           schedulable_instance.start_date = yesterday
           schedulable_instance.end_date = now

       NoMethodError:
         undefined method `travel_to' for #<RSpec::ExampleGroups::Schedulable::ProgressPercentage:0x0000ffff958025d8>
       # ./spec/models/concerns/schedulable_spec.rb:235:in `block (3 levels) in <main>'

  154) Schedulable#progress_percentage returns 0 when dates are missing
       Failure/Error: return 0 unless start_date && end_date && current?

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:61:in `progress_percentage'
       # ./spec/models/concerns/schedulable_spec.rb:231:in `block (3 levels) in <main>'

  155) Schedulable#progress_percentage calculates progress percentage for current schedule
       Failure/Error:
         travel_to(now) do
           schedulable_instance.start_date = 2.days.ago
           schedulable_instance.end_date = 2.days.from_now
           
           # Should be 50% complete (2 out of 4 days elapsed)
           expect(schedulable_instance.progress_percentage).to eq(50.0)
         end

       NoMethodError:
         undefined method `travel_to' for #<RSpec::ExampleGroups::Schedulable::ProgressPercentage:0x0000ffff95612868>
       # ./spec/models/concerns/schedulable_spec.rb:214:in `block (3 levels) in <main>'

  156) Schedulable#upcoming? returns false when start date is missing
       Failure/Error: return false unless start_date

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:44:in `upcoming?'
       # ./spec/models/concerns/schedulable_spec.rb:141:in `block (3 levels) in <main>'

  157) Schedulable#upcoming? returns true when start date is in the future
       Failure/Error: schedulable_instance.start_date = tomorrow

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:129:in `block (3 levels) in <main>'

  158) Schedulable#upcoming? returns false when start date is in the past
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:135:in `block (3 levels) in <main>'

  159) Schedulable scopes .starting_between returns items that start within the given date range
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff95960970>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  160) Schedulable scopes .between_dates returns items that overlap with the given date range
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff95a99300>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  161) Schedulable scopes .past returns items that have ended
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff95c75660>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  162) Schedulable scopes .current returns items that are currently active
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff95d3b040>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  163) Schedulable scopes .upcoming returns items that start in the future
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff95f07630>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  164) Schedulable scopes .ending_between returns items that end within the given date range
       Failure/Error: test_class.create!(start_date: yesterday, end_date: tomorrow)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'start_date' for #<Class:0x0000ffff9603b880>.
       # ./spec/models/concerns/schedulable_spec.rb:284:in `block (3 levels) in <main>'

  165) Schedulable#remaining_days calculates remaining days
       Failure/Error: schedulable_instance.end_date = 3.days.from_now

       NoMethodError:
         undefined method `end_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:272:in `block (3 levels) in <main>'

  166) Schedulable#remaining_days returns nil when remaining_time is nil
       Failure/Error: return nil unless end_date

       NameError:
         undefined local variable or method `end_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:70:in `remaining_time'
       # ./app/models/concerns/schedulable.rb:77:in `remaining_days'
       # ./spec/models/concerns/schedulable_spec.rb:278:in `block (3 levels) in <main>'

  167) Schedulable#past? returns true when end date is in the past
       Failure/Error: schedulable_instance.end_date = yesterday

       NoMethodError:
         undefined method `end_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:147:in `block (3 levels) in <main>'

  168) Schedulable#past? returns false when end date is missing
       Failure/Error: return false unless end_date

       NameError:
         undefined local variable or method `end_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:49:in `past?'
       # ./spec/models/concerns/schedulable_spec.rb:159:in `block (3 levels) in <main>'

  169) Schedulable#past? returns false when end date is in the future
       Failure/Error: schedulable_instance.end_date = tomorrow

       NoMethodError:
         undefined method `end_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:153:in `block (3 levels) in <main>'

  170) Schedulable included module behavior allows valid date range
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:41:in `block (3 levels) in <main>'

  171) Schedulable included module behavior adds schedule validation when required
       Failure/Error: schedulable_instance.start_date = nil

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:24:in `block (3 levels) in <main>'

  172) Schedulable included module behavior validates end_date is after start_date
       Failure/Error: schedulable_instance.start_date = tomorrow

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:33:in `block (3 levels) in <main>'

  173) Schedulable#current? returns true when current time is between start and end dates
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:102:in `block (3 levels) in <main>'

  174) Schedulable#current? returns false when current time is before start date
       Failure/Error: schedulable_instance.start_date = tomorrow

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:109:in `block (3 levels) in <main>'

  175) Schedulable#current? returns false when dates are missing
       Failure/Error: return false unless start_date && end_date

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:39:in `current?'
       # ./spec/models/concerns/schedulable_spec.rb:123:in `block (3 levels) in <main>'

  176) Schedulable#current? returns false when current time is after end date
       Failure/Error: schedulable_instance.start_date = 1.week.ago

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:116:in `block (3 levels) in <main>'

  177) Schedulable#remaining_time returns 0 for past schedule
       Failure/Error: schedulable_instance.end_date = yesterday

       NoMethodError:
         undefined method `end_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:260:in `block (3 levels) in <main>'

  178) Schedulable#remaining_time returns nil when end_date is missing
       Failure/Error: return nil unless end_date

       NameError:
         undefined local variable or method `end_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:70:in `remaining_time'
       # ./spec/models/concerns/schedulable_spec.rb:266:in `block (3 levels) in <main>'

  179) Schedulable#remaining_time calculates remaining time for current/future schedule
       Failure/Error: schedulable_instance.end_date = 2.days.from_now

       NoMethodError:
         undefined method `end_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:253:in `block (3 levels) in <main>'

  180) Schedulable#duration_in_days returns nil when duration is nil
       Failure/Error: return nil unless start_date && end_date

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:24:in `duration'
       # ./app/models/concerns/schedulable.rb:29:in `duration_in_days'
       # ./spec/models/concerns/schedulable_spec.rb:83:in `block (3 levels) in <main>'

  181) Schedulable#duration_in_days returns duration in days
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:76:in `block (3 levels) in <main>'

  182) Schedulable#duration calculates duration between start and end dates
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:59:in `block (3 levels) in <main>'

  183) Schedulable#duration returns nil when dates are missing
       Failure/Error: return nil unless start_date && end_date

       NameError:
         undefined local variable or method `start_date' for an instance of TestSchedulable
       # ./app/models/concerns/schedulable.rb:24:in `duration'
       # ./spec/models/concerns/schedulable_spec.rb:67:in `block (3 levels) in <main>'

  184) Schedulable#overlaps_with? handles edge case when schedules touch exactly
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  185) Schedulable#overlaps_with? returns true when schedules overlap
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  186) Schedulable#overlaps_with? returns false when dates are missing
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  187) Schedulable#overlaps_with? returns false when schedules do not overlap
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  188) Schedulable#overlaps_with? returns true when one schedule contains the other
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  189) Schedulable#overlaps_with? returns false when other object does not respond to date methods
       Failure/Error: schedulable_instance.start_date = yesterday

       NoMethodError:
         undefined method `start_date=' for an instance of TestSchedulable
       # ./spec/models/concerns/schedulable_spec.rb:167:in `block (3 levels) in <main>'

  190) Document Sharing Workflow internal sharing shares document with another user in organization
       Failure/Error: click_button "Partager"

       Capybara::ElementNotFound:
         Unable to find button "Partager" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_internal_sharing_shares_document_with_another_user_in_organization_130.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/document_sharing_workflow_spec.rb:28:in `block (3 levels) in <main>'

  191) Document Sharing Workflow internal sharing shares with user group
       Failure/Error: click_button "Partager"

       Capybara::ElementNotFound:
         Unable to find button "Partager" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_internal_sharing_shares_with_user_group_963.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/document_sharing_workflow_spec.rb:100:in `block (3 levels) in <main>'

  192) Document Sharing Workflow external sharing creates shareable link with password protection
       Failure/Error: click_button "Partager"

       Capybara::ElementNotFound:
         Unable to find button "Partager" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_external_sharing_creates_shareable_link_with_password_protection_44.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/document_sharing_workflow_spec.rb:132:in `block (3 levels) in <main>'

  193) Document Sharing Workflow share management modifies existing share permissions
       Failure/Error:
         let!(:share) { create(:document_share, 
           document: document,
           shared_by: owner,
           shared_with: recipient,
           permission: 'read'
         )}

       NoMethodError:
         undefined method `permission=' for an instance of DocumentShare

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_share_management_modifies_existing_share_permissions_735.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/document_sharing_workflow_spec.rb:215:in `block (3 levels) in <main>'

  194) Document Sharing Workflow share management tracks share access and downloads
       Failure/Error:
         let!(:share) { create(:document_share, 
           document: document,
           shared_by: owner,
           shared_with: recipient,
           permission: 'read'
         )}

       NoMethodError:
         undefined method `permission=' for an instance of DocumentShare

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_share_management_tracks_share_access_and_downloads_259.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/document_sharing_workflow_spec.rb:215:in `block (3 levels) in <main>'

  195) Document Sharing Workflow share management revokes document share
       Failure/Error:
         let!(:share) { create(:document_share, 
           document: document,
           shared_by: owner,
           shared_with: recipient,
           permission: 'read'
         )}

       NoMethodError:
         undefined method `permission=' for an instance of DocumentShare

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_share_management_revokes_document_share_226.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/document_sharing_workflow_spec.rb:215:in `block (3 levels) in <main>'

  196) Document Sharing Workflow bulk sharing shares multiple documents at once
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_bulk_sharing_shares_multiple_documents_at_once_706.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  197) Document Sharing Workflow share templates saves and reuses sharing configurations
       Failure/Error: click_button "Partager"

       Capybara::ElementNotFound:
         Unable to find button "Partager" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_sharing_workflow_share_templates_saves_and_reuses_sharing_configurations_434.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/document_sharing_workflow_spec.rb:366:in `block (3 levels) in <main>'

  198) API V1 Metadata PATCH /api/v1/metadata/templates/:id updates the template and fields
       Failure/Error: id: template.metadata_fields.first.id,

       NoMethodError:
         undefined method `id' for nil
       # ./spec/requests/api/v1/metadata_spec.rb:156:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:173:in `block (3 levels) in <main>'

  199) API V1 Metadata PATCH /api/v1/metadata/templates/:id prevents updating templates from other organizations
       Failure/Error: id: template.metadata_fields.first.id,

       NoMethodError:
         undefined method `id' for nil
       # ./spec/requests/api/v1/metadata_spec.rb:156:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:188:in `block (3 levels) in <main>'

  200) API V1 Metadata DELETE /api/v1/metadata/templates/:id deletes the template
       Failure/Error: delete "/api/v1/metadata/templates/#{template.id}", headers: valid_headers

       ActionController::RoutingError:
         No route matches [DELETE] "/api/v1/metadata/templates/576"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:200:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:199:in `block (3 levels) in <main>'

  201) API V1 Metadata DELETE /api/v1/metadata/templates/:id prevents deletion if template is in use
       Failure/Error: document.metadata_template = template

       NoMethodError:
         undefined method `metadata_template=' for an instance of Document
       # ./spec/requests/api/v1/metadata_spec.rb:208:in `block (3 levels) in <main>'

  202) API V1 Metadata GET /api/v1/metadata/templates returns all metadata templates
       Failure/Error:
         create(:metadata_template, 
           name: "Invoice Template",
           organization: organization,
           fields: [
             { name: "invoice_number", label: "Invoice Number", type: "string", required: true },
             { name: "amount", label: "Amount", type: "number", required: true },
             { name: "due_date", label: "Due Date", type: "date", required: false }
           ]
         ),

       NoMethodError:
         undefined method `fields=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/requests/api/v1/metadata_spec.rb:20:in `block (3 levels) in <main>'

  203) API V1 Metadata GET /api/v1/metadata/templates includes field definitions
       Failure/Error:
         create(:metadata_template, 
           name: "Invoice Template",
           organization: organization,
           fields: [
             { name: "invoice_number", label: "Invoice Number", type: "string", required: true },
             { name: "amount", label: "Amount", type: "number", required: true },
             { name: "due_date", label: "Due Date", type: "date", required: false }
           ]
         ),

       NoMethodError:
         undefined method `fields=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/requests/api/v1/metadata_spec.rb:20:in `block (3 levels) in <main>'

  204) API V1 Metadata POST /api/v1/metadata/bulk handles partial failures
       Failure/Error:
         post "/api/v1/metadata/bulk",
              params: bulk_params.to_json,
              headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/bulk"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:433:in `block (3 levels) in <main>'

  205) API V1 Metadata POST /api/v1/metadata/bulk applies metadata to multiple documents
       Failure/Error:
         post "/api/v1/metadata/bulk",
              params: bulk_params.to_json,
              headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/bulk"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:398:in `block (3 levels) in <main>'

  206) API V1 Metadata POST /api/v1/metadata/bulk replaces all metadata when mode is replace
       Failure/Error:
         post "/api/v1/metadata/bulk",
              params: replace_params.to_json,
              headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/bulk"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:420:in `block (3 levels) in <main>'

  207) API V1 Metadata GET /api/v1/metadata/fields/search returns values for a specific key
       Failure/Error:
         get "/api/v1/metadata/fields/search",
             params: { key: "department" },
             headers: valid_headers

       ActionController::RoutingError:
         No route matches [GET] "/api/v1/metadata/fields/search"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:359:in `block (3 levels) in <main>'

  208) API V1 Metadata GET /api/v1/metadata/fields/search returns unique metadata keys
       Failure/Error: get "/api/v1/metadata/fields/search", headers: valid_headers

       ActionController::RoutingError:
         No route matches [GET] "/api/v1/metadata/fields/search"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:350:in `block (3 levels) in <main>'

  209) API V1 Metadata GET /api/v1/metadata/fields/search autocompletes metadata values
       Failure/Error:
         get "/api/v1/metadata/fields/search",
             params: { key: "department", q: "Mar" },
             headers: valid_headers

       ActionController::RoutingError:
         No route matches [GET] "/api/v1/metadata/fields/search"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:369:in `block (3 levels) in <main>'

  210) API V1 Metadata PATCH /api/v1/documents/:id/metadata updates existing metadata
       Failure/Error:
         patch "/api/v1/documents/#{document.id}/metadata",
               params: update_params.to_json,
               headers: valid_headers

       ActionController::RoutingError:
         No route matches [PATCH] "/api/v1/documents/21028/metadata"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:304:in `block (3 levels) in <main>'

  211) API V1 Metadata PATCH /api/v1/documents/:id/metadata removes metadata fields when value is null
       Failure/Error:
         patch "/api/v1/documents/#{document.id}/metadata",
               params: update_params.to_json,
               headers: valid_headers

       ActionController::RoutingError:
         No route matches [PATCH] "/api/v1/documents/21029/metadata"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:325:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:324:in `block (3 levels) in <main>'

  212) API V1 Metadata POST /api/v1/metadata/templates creates a new metadata template
       Failure/Error: post "/api/v1/metadata/templates", params: valid_params.to_json, headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/templates"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:113:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:112:in `block (3 levels) in <main>'

  213) API V1 Metadata POST /api/v1/metadata/templates validates template uniqueness
       Failure/Error: post "/api/v1/metadata/templates", params: valid_params.to_json, headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/templates"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:126:in `block (3 levels) in <main>'

  214) API V1 Metadata POST /api/v1/metadata/templates validates field definitions
       Failure/Error: post "/api/v1/metadata/templates", params: invalid_params.to_json, headers: valid_headers

       ActionController::RoutingError:
         No route matches [POST] "/api/v1/metadata/templates"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/metadata_spec.rb:141:in `block (3 levels) in <main>'

  215) API V1 Metadata POST /api/v1/documents/:id/metadata applies metadata to document
       Failure/Error:
         let(:template) { create(:metadata_template, 
           organization: organization,
           fields: [
             { name: "client", label: "Client", type: "string", required: true },
             { name: "amount", label: "Amount", type: "number", required: true }
           ]
         )}

       NoMethodError:
         undefined method `fields=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/requests/api/v1/metadata_spec.rb:221:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:232:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:243:in `block (3 levels) in <main>'

  216) API V1 Metadata POST /api/v1/documents/:id/metadata validates field types
       Failure/Error:
         let(:template) { create(:metadata_template, 
           organization: organization,
           fields: [
             { name: "client", label: "Client", type: "string", required: true },
             { name: "amount", label: "Amount", type: "number", required: true }
           ]
         )}

       NoMethodError:
         undefined method `fields=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/requests/api/v1/metadata_spec.rb:221:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:232:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:271:in `block (3 levels) in <main>'

  217) API V1 Metadata POST /api/v1/documents/:id/metadata validates required fields
       Failure/Error:
         let(:template) { create(:metadata_template, 
           organization: organization,
           fields: [
             { name: "client", label: "Client", type: "string", required: true },
             { name: "amount", label: "Amount", type: "number", required: true }
           ]
         )}

       NoMethodError:
         undefined method `fields=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/requests/api/v1/metadata_spec.rb:221:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:232:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/metadata_spec.rb:258:in `block (3 levels) in <main>'

  218) Demo Critical Paths UI Components shows responsive navigation
       Got 1 failure and 1 other error:

       218.1) Failure/Error: expect(page).to have_css(".navbar")
                expected to find css ".navbar" but there were no matches
              # ./spec/system/demo_critical_paths_spec.rb:111:in `block (3 levels) in <main>'

       218.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  219) Demo Critical Paths UI Components displays dashboard with statistics
       Got 0 failures and 2 other errors:

       219.1) Failure/Error: visit ged_path

              NameError:
                undefined local variable or method `ged_path' for #<RSpec::ExampleGroups::DemoCriticalPaths::UIComponents:0x0000ffff8d460838>
              # ./spec/system/demo_critical_paths_spec.rb:99:in `block (3 levels) in <main>'

       219.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  220) Demo Critical Paths Document Integration can access documents from project
       Got 0 failures and 2 other errors:

       220.1) Failure/Error: click_link "Documents"

              ActionView::Template::Error:
                undefined method `new_immo_promo_project_document_path' for an instance of #<Class:0x0000ffff94fddc18>
              # ./engines/immo_promo/app/views/immo/promo/documents/index.html.erb:14:in `_engines_immo_promo_app_views_immo_promo_documents_index_html_erb___96035225742699104_240700'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `public_send'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `method_missing'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
              # ./spec/system/demo_critical_paths_spec.rb:88:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `new_immo_promo_project_document_path' for an instance of #<Class:0x0000ffff94fddc18>
              #   ./engines/immo_promo/app/views/immo/promo/documents/index.html.erb:14:in `_engines_immo_promo_app_views_immo_promo_documents_index_html_erb___96035225742699104_240700'

       220.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  221) Demo Critical Paths ImmoPromo Features can create a new project
       Got 0 failures and 2 other errors:

       221.1) Failure/Error: <%= render Immo::Promo::NavbarComponent.new(

              ActionView::Template::Error:
                No route matches {:action=>"show", :controller=>"immo/promo/projects", :id=>#<Immo::Promo::Project id: nil, name: nil, slug: nil, description: nil, organization_id: 65289, project_manager_id: nil, reference_number: nil, project_type: nil, status: "planning", address: nil, city: nil, postal_code: nil, country: nil, latitude: nil, longitude: nil, total_area: nil, land_area: nil, buildable_surface_area: nil, total_units: nil, start_date: nil, expected_completion_date: nil, actual_end_date: nil, building_permit_number: nil, total_budget_cents: nil, current_budget_cents: nil, metadata: {}, created_at: nil, updated_at: nil>}, possible unmatched constraints: [:id]
              # ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.rb:23:in `project_path'
              # ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.html.erb:10:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
              # ./engines/immo_promo/app/components/immo/promo/navbar_component.html.erb:10:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/layouts/immo_promo.html.erb:24:in `_app_views_layouts_immo_promo_html_erb___1734004488079686745_240500'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `public_send'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `method_missing'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
              # ./spec/system/demo_critical_paths_spec.rb:56:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # ActionController::UrlGenerationError:
              #   No route matches {:action=>"show", :controller=>"immo/promo/projects", :id=>#<Immo::Promo::Project id: nil, name: nil, slug: nil, description: nil, organization_id: 65289, project_manager_id: nil, reference_number: nil, project_type: nil, status: "planning", address: nil, city: nil, postal_code: nil, country: nil, latitude: nil, longitude: nil, total_area: nil, land_area: nil, buildable_surface_area: nil, total_units: nil, start_date: nil, expected_completion_date: nil, actual_end_date: nil, building_permit_number: nil, total_budget_cents: nil, current_budget_cents: nil, metadata: {}, created_at: nil, updated_at: nil>}, possible unmatched constraints: [:id]
              #   ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.rb:23:in `project_path'

       221.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  222) Demo Critical Paths ImmoPromo Features can view project details and phases
       Got 1 failure and 1 other error:

       222.1) Failure/Error: expect(page).to have_content("En cours")
                expected to find text "En cours" in "Immo::Promo Tableau de bord Projets / Projet 2 Modifier Nouveau projet Tableau de bord Projets Nouveau projet immobilier Nom du projet Référence Type de projet Résidentiel Commercial Mixte Industriel Date de début Date de fin prévisionnelle Description Créer le projet Annuler Projet 2 Référence: REF-0002 Modifier Documents Phases Budget Permis Intervenants Planning Budget Budget total: 5 000 000,00 € Dépensé: 0,00 € Utilisation: 0% Détails du projet Type: Residential Logements: 0 Surface totale: 0 m² Chef de projet: Albérade Lamy Planning Début: 10/06/2025 Fin prévue: 10/06/2027 Avancement: 0.0% Progression globale 0.0% complété Phases du projet Études 10/06/2025 - 10/09/2025 In progress Documents récents Voir tous les documents Aucun document ajouté pour l'instant."
              # ./spec/system/demo_critical_paths_spec.rb:79:in `block (3 levels) in <main>'

       222.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  223) Demo Critical Paths Core GED Features can create space and navigate
       Got 0 failures and 2 other errors:

       223.1) Failure/Error: visit ged_path

              NameError:
                undefined local variable or method `ged_path' for #<RSpec::ExampleGroups::DemoCriticalPaths::CoreGEDFeatures:0x0000ffff958ff418>
              # ./spec/system/demo_critical_paths_spec.rb:17:in `block (3 levels) in <main>'

       223.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  224) Demo Critical Paths Core GED Features can upload a document
       Got 0 failures and 2 other errors:

       224.1) Failure/Error: visit ged_path(space_id: space.id, folder_id: folder.id)

              NoMethodError:
                undefined method `ged_path' for #<RSpec::ExampleGroups::DemoCriticalPaths::CoreGEDFeatures:0x0000ffff97734758>
              # ./spec/system/demo_critical_paths_spec.rb:33:in `block (3 levels) in <main>'

       224.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  225) Demo Critical Paths Error Handling handles 404 gracefully
       Got 0 failures and 2 other errors:

       225.1) Failure/Error: visit "/nonexistent-page"

              ActionController::RoutingError:
                No route matches [GET] "/nonexistent-page"
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/demo_critical_paths_spec.rb:122:in `block (3 levels) in <main>'

       225.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  226) Basket Management Basket sharing allows sharing a basket
       Got 0 failures and 2 other errors:

       226.1) Failure/Error: <% if @basket.share_expires_at %>

              ActionView::Template::Error:
                undefined method `share_expires_at' for an instance of Basket
              # ./app/views/baskets/show.html.erb:100:in `_app_views_baskets_show_html_erb___53726747529453705_242260'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:64:in `block in process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:59:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
              # ./spec/system/basket_management_spec.rb:158:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `share_expires_at' for an instance of Basket
              #   ./app/views/baskets/show.html.erb:100:in `_app_views_baskets_show_html_erb___53726747529453705_242260'

       226.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  227) Basket Management Basket sharing displays shared baskets to other users
       Got 0 failures and 2 other errors:

       227.1) Failure/Error: <% if @shared_baskets.any? %>

              ActionView::Template::Error:
                PG::UndefinedColumn: ERROR:  column "share_expires_at" does not exist
                LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
                                                                             ^
              # ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/helpers/components_helper.rb:4:in `page_wrapper'
              # ./app/views/baskets/index.html.erb:1:in `_app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:170:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # PG::UndefinedColumn:
              #   ERROR:  column "share_expires_at" does not exist
              #   LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
              #                                                                ^
              #   ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'

       227.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  228) Basket Management Basket management allows deleting basket
       Got 0 failures and 2 other errors:

       228.1) Failure/Error:
                accept_confirm do
                  click_link 'Supprimer'
                end

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#accept_modal
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:139:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:850:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:670:in `accept_confirm'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `accept_confirm'
              # ./spec/system/basket_management_spec.rb:139:in `block (3 levels) in <main>'

       228.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  229) Basket Management Basket management allows removing documents from basket
       Got 0 failures and 2 other errors:

       229.1) Failure/Error:
                accept_confirm do
                  find('a[href*="remove_document"]').click
                end

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#accept_modal
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:139:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:850:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:670:in `accept_confirm'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `accept_confirm'
              # ./spec/system/basket_management_spec.rb:112:in `block (4 levels) in <main>'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:366:in `within'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
              # ./spec/system/basket_management_spec.rb:111:in `block (3 levels) in <main>'

       229.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  230) Basket Management Basket management displays basket contents
       Got 1 failure and 1 other error:

       230.1) Failure/Error: expect(page).to have_content('2 documents')
                expected to find text "2 documents" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur S Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Bannettes Test Basket Test Basket Description du panier 2 document Modifier Partager Télécharger tout First Document Product Management 317 Ajouté par Stéphane Jacob le 10 juin 00:22 Second Document Product Management 317 Ajouté par Stéphane Jacob le 10 juin 00:22"
              # ./spec/system/basket_management_spec.rb:103:in `block (3 levels) in <main>'

       230.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  231) Basket Management Basket creation validates basket name presence
       Got 1 failure and 1 other error:

       231.1) Failure/Error: expect(page).to have_content('Name doit être rempli(e)')
                expected to find text "Name doit être rempli(e)" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur M Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Nouvelle bannette 1 erreur empêchent l'enregistrement : Name ne peut pas être vide Nom de la bannette Description Couleur Annuler"
              # ./spec/system/basket_management_spec.rb:39:in `block (3 levels) in <main>'

       231.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  232) Basket Management Basket creation allows user to create a new basket
       Got 0 failures and 2 other errors:

       232.1) Failure/Error: <% if @shared_baskets.any? %>

              ActionView::Template::Error:
                PG::UndefinedColumn: ERROR:  column "share_expires_at" does not exist
                LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
                                                                             ^
              # ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/helpers/components_helper.rb:4:in `page_wrapper'
              # ./app/views/baskets/index.html.erb:1:in `_app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:17:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # PG::UndefinedColumn:
              #   ERROR:  column "share_expires_at" does not exist
              #   LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
              #                                                                ^
              #   ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'

       232.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  233) Basket Management Adding documents to basket prevents adding the same document twice
       Got 0 failures and 2 other errors:

       233.1) Failure/Error: <div class="w-8 h-8 <%= basket.color || 'bg-gray-100' %> rounded-lg flex items-center justify-center">

              ActionView::Template::Error:
                undefined method `color' for an instance of Basket
              # ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:290:in `block in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:289:in `_app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:68:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `color' for an instance of Basket
              #   ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'

       233.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  234) Basket Management Adding documents to basket allows adding a document to basket from document view
       Got 0 failures and 2 other errors:

       234.1) Failure/Error: <div class="w-8 h-8 <%= basket.color || 'bg-gray-100' %> rounded-lg flex items-center justify-center">

              ActionView::Template::Error:
                undefined method `color' for an instance of Basket
              # ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:290:in `block in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:289:in `_app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:47:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `color' for an instance of Basket
              #   ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'

       234.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  235) Basket Management Adding documents to basket shows option to create new basket when adding document
       Got 0 failures and 2 other errors:

       235.1) Failure/Error: <div class="w-8 h-8 <%= basket.color || 'bg-gray-100' %> rounded-lg flex items-center justify-center">

              ActionView::Template::Error:
                undefined method `color' for an instance of Basket
              # ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:290:in `block in _app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # ./app/views/ged/show_document.html.erb:289:in `_app_views_ged_show_document_html_erb__1067660716518934394_122180'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:81:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `color' for an instance of Basket
              #   ./app/views/ged/show_document.html.erb:293:in `block (2 levels) in _app_views_ged_show_document_html_erb__1067660716518934394_122180'

       235.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  236) Basket Management Basket list view displays all user baskets with document counts
       Got 0 failures and 2 other errors:

       236.1) Failure/Error: let!(:basket1) { create(:basket, user: user, name: 'Work Documents', color: 'bg-blue-100') }

              NoMethodError:
                undefined method `color=' for an instance of Basket
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
              # ./spec/system/basket_management_spec.rb:200:in `block (3 levels) in <main>'

       236.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  237) Basket Management Basket list view provides dropdown actions for each basket
       Got 0 failures and 2 other errors:

       237.1) Failure/Error: let!(:basket1) { create(:basket, user: user, name: 'Work Documents', color: 'bg-blue-100') }

              NoMethodError:
                undefined method `color=' for an instance of Basket
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
              # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
              # ./spec/system/basket_management_spec.rb:200:in `block (3 levels) in <main>'

       237.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  238) Basket Management Empty states shows empty state when no baskets exist
       Got 0 failures and 2 other errors:

       238.1) Failure/Error: <% if @shared_baskets.any? %>

              ActionView::Template::Error:
                PG::UndefinedColumn: ERROR:  column "share_expires_at" does not exist
                LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
                                                                             ^
              # ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/helpers/components_helper.rb:4:in `page_wrapper'
              # ./app/views/baskets/index.html.erb:1:in `_app_views_baskets_index_html_erb__152364687762672176_242800'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/basket_management_spec.rb:181:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # PG::UndefinedColumn:
              #   ERROR:  column "share_expires_at" does not exist
              #   LINE 1: ...M "baskets" WHERE "baskets"."is_shared" = $1 AND (share_expi...
              #                                                                ^
              #   ./app/views/baskets/index.html.erb:81:in `block in _app_views_baskets_index_html_erb__152364687762672176_242800'

       238.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  239) Metadata and Tagging document tagging suggests tags based on document content
       Failure/Error: create(:tag, name: "Juridique", organization: organization, usage_count: 50)

       NoMethodError:
         undefined method `usage_count=' for an instance of Tag

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_document_tagging_suggests_tags_based_on_document_content_796.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/metadata_and_tagging_spec.rb:79:in `block (3 levels) in <main>'

  240) Metadata and Tagging document tagging adds and removes tags from document
       Failure/Error:
         let(:document) { create(:document, 
           title: "Contrat Client ABC",
           space: space,
           user: user
         )}

       NoMethodError:
         undefined method `user=' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_document_tagging_adds_and_removes_tags_from_document_653.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/metadata_and_tagging_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/system/metadata_and_tagging_spec.rb:22:in `block (3 levels) in <main>'

  241) Metadata and Tagging document tagging manages tag colors and categories
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_document_tagging_manages_tag_colors_and_categories_964.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  242) Metadata and Tagging bulk metadata operations applies tags to multiple documents
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_bulk_metadata_operations_applies_tags_to_multiple_documents_947.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  243) Metadata and Tagging bulk metadata operations applies metadata template to multiple documents
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_bulk_metadata_operations_applies_metadata_template_to_multiple_documents_344.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  244) Metadata and Tagging search by tags and metadata searches by metadata values
       Failure/Error:
         let(:document) { create(:document, 
           title: "Contrat Client ABC",
           space: space,
           user: user
         )}

       NoMethodError:
         undefined method `user=' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_search_by_tags_and_metadata_searches_by_metadata_values_311.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/metadata_and_tagging_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/system/metadata_and_tagging_spec.rb:281:in `block (3 levels) in <main>'

  245) Metadata and Tagging search by tags and metadata filters documents by tags
       Failure/Error:
         let(:document) { create(:document, 
           title: "Contrat Client ABC",
           space: space,
           user: user
         )}

       NoMethodError:
         undefined method `user=' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_search_by_tags_and_metadata_filters_documents_by_tags_737.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/metadata_and_tagging_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/system/metadata_and_tagging_spec.rb:281:in `block (3 levels) in <main>'

  246) Metadata and Tagging metadata inheritance inherits metadata from parent folder
       Failure/Error: click_button "Propriétés du dossier"

       Capybara::ElementNotFound:
         Unable to find button "Propriétés du dossier" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_metadata_inheritance_inherits_metadata_from_parent_folder_454.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/metadata_and_tagging_spec.rb:451:in `block (3 levels) in <main>'

  247) Metadata and Tagging metadata management applies metadata template to document
       Failure/Error:
         metadata_template.metadata_fields.create!([
           { name: "client_name", label: "Nom du client", field_type: "string", required: true },
           { name: "contract_value", label: "Valeur du contrat", field_type: "number", required: true },
           { name: "start_date", label: "Date de début", field_type: "date", required: true },
           { name: "end_date", label: "Date de fin", field_type: "date", required: false },
           { name: "contract_type", label: "Type de contrat", field_type: "select", 
             options: ["Service", "Produit", "Maintenance"], required: true },
           { name: "auto_renewal", label: "Renouvellement automatique", field_type: "boolean", required: false }
         ])

       ActiveRecord::RecordInvalid:
         La validation a échoué : Field type n'est pas inclus(e) dans la liste

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_metadata_management_applies_metadata_template_to_document_373.png


       # ./spec/system/metadata_and_tagging_spec.rb:163:in `block (3 levels) in <main>'

  248) Metadata and Tagging metadata management creates custom metadata fields
       Failure/Error:
         metadata_template.metadata_fields.create!([
           { name: "client_name", label: "Nom du client", field_type: "string", required: true },
           { name: "contract_value", label: "Valeur du contrat", field_type: "number", required: true },
           { name: "start_date", label: "Date de début", field_type: "date", required: true },
           { name: "end_date", label: "Date de fin", field_type: "date", required: false },
           { name: "contract_type", label: "Type de contrat", field_type: "select", 
             options: ["Service", "Produit", "Maintenance"], required: true },
           { name: "auto_renewal", label: "Renouvellement automatique", field_type: "boolean", required: false }
         ])

       ActiveRecord::RecordInvalid:
         La validation a échoué : Field type n'est pas inclus(e) dans la liste

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_metadata_management_creates_custom_metadata_fields_17.png


       # ./spec/system/metadata_and_tagging_spec.rb:163:in `block (3 levels) in <main>'

  249) Metadata and Tagging metadata management validates required metadata fields
       Failure/Error:
         metadata_template.metadata_fields.create!([
           { name: "client_name", label: "Nom du client", field_type: "string", required: true },
           { name: "contract_value", label: "Valeur du contrat", field_type: "number", required: true },
           { name: "start_date", label: "Date de début", field_type: "date", required: true },
           { name: "end_date", label: "Date de fin", field_type: "date", required: false },
           { name: "contract_type", label: "Type de contrat", field_type: "select", 
             options: ["Service", "Produit", "Maintenance"], required: true },
           { name: "auto_renewal", label: "Renouvellement automatique", field_type: "boolean", required: false }
         ])

       ActiveRecord::RecordInvalid:
         La validation a échoué : Field type n'est pas inclus(e) dans la liste

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_metadata_and_tagging_metadata_management_validates_required_metadata_fields_337.png


       # ./spec/system/metadata_and_tagging_spec.rb:163:in `block (3 levels) in <main>'

  250) Ui::DataGridComponent responsive design can disable responsive wrapper
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:214:in `block (3 levels) in <main>'

  251) Ui::DataGridComponent responsive design applies responsive wrapper by default
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:206:in `block (3 levels) in <main>'

  252) Ui::DataGridComponent accessibility includes proper ARIA attributes for sortable columns
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:263:in `block (3 levels) in <main>'

  253) Ui::DataGridComponent accessibility has proper table structure
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:251:in `block (3 levels) in <main>'

  254) Ui::DataGridComponent stimulus integration includes data attributes for row click handling
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:273:in `block (3 levels) in <main>'

  255) Ui::DataGridComponent empty state shows empty state when no data
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:165:in `block (3 levels) in <main>'

  256) Ui::DataGridComponent basic rendering renders table with data
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:14:in `block (3 levels) in <main>'

  257) Ui::DataGridComponent basic rendering renders column headers
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:26:in `block (3 levels) in <main>'

  258) Ui::DataGridComponent loading state shows loading skeleton
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:154:in `block (3 levels) in <main>'

  259) Ui::DataGridComponent row selection renders checkboxes when selectable
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:178:in `block (3 levels) in <main>'

  260) Ui::DataGridComponent column configuration applies column alignment
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:91:in `block (3 levels) in <main>'

  261) Ui::DataGridComponent column configuration applies custom column width
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:103:in `block (3 levels) in <main>'

  262) Ui::DataGridComponent column configuration handles sortable columns
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:81:in `block (3 levels) in <main>'

  263) Ui::DataGridComponent table styling options applies hover effect by default
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:54:in `block (3 levels) in <main>'

  264) Ui::DataGridComponent table styling options can disable striping
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:46:in `block (3 levels) in <main>'

  265) Ui::DataGridComponent table styling options applies compact mode
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:70:in `block (3 levels) in <main>'

  266) Ui::DataGridComponent table styling options applies striped rows by default
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:38:in `block (3 levels) in <main>'

  267) Ui::DataGridComponent table styling options applies bordered styling
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:62:in `block (3 levels) in <main>'

  268) Ui::DataGridComponent custom CSS classes accepts custom wrapper classes
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:224:in `block (3 levels) in <main>'

  269) Ui::DataGridComponent custom CSS classes accepts custom column classes
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:235:in `block (3 levels) in <main>'

  270) Ui::DataGridComponent data formatting formats with custom proc
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:139:in `block (3 levels) in <main>'

  271) Ui::DataGridComponent data formatting formats currency values
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:116:in `block (3 levels) in <main>'

  272) Ui::DataGridComponent data formatting formats boolean values
       Failure/Error: classes << "cursor-pointer select-none hover:text-gray-700" if column[:sortable]

       NoMethodError:
         undefined method `[]' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `public_send'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slot.rb:105:in `method_missing'
       # ./app/components/ui/data_grid_component.rb:58:in `header_cell_classes'
       # ./app/components/ui/data_grid_component.html.erb:16:in `block in call'
       # ./app/components/ui/data_grid_component.html.erb:14:in `each'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:130:in `block (3 levels) in <main>'

  273) Ui::DataGridComponent row actions renders action buttons for each row
       Failure/Error:
         grid.with_actions do |item|
           link_to "Edit", "#edit-#{item[:id]}", class: "text-blue-600"
         end

       NoMethodError:
         undefined method `map' for nil
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:170:in `block in renders_many'
       # ./spec/components/ui/data_grid_component_spec.rb:194:in `block (4 levels) in <main>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/ui/data_grid_component_spec.rb:192:in `block (3 levels) in <main>'

  274) Performance and Accessibility accessibility compliance ensures sufficient color contrast
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)
       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  275) Performance and Accessibility accessibility compliance announces dynamic content changes
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_announces_dynamic_content_changes_541.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  276) Performance and Accessibility accessibility compliance supports keyboard navigation
       Got 0 failures and 2 other errors:

       276.1) Failure/Error:
                active_element = page.evaluate_script <<-JS
                  const el = document.activeElement;
                  ({
                    tag: el.tagName,
                    type: el.type,
                    role: el.getAttribute('role'),
                    label: el.getAttribute('aria-label') || el.textContent.trim().substring(0, 20)
                  })
                JS

              Selenium::WebDriver::Error::JavascriptError:
                javascript error: Unexpected token 'const'
                  (Session info: chrome-headless-shell=124.0.6367.78)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_supports_keyboard_navigation_343.png


              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:132:in `evaluate_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:621:in `evaluate_script'
              # ./spec/system/performance_and_accessibility_spec.rb:281:in `block (4 levels) in <main>'
              # ./spec/system/performance_and_accessibility_spec.rb:278:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # Selenium::WebDriver::Error::WebDriverError:
              #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


       276.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_supports_keyboard_navigation_343.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  277) Performance and Accessibility accessibility compliance supports screen readers
       Got 0 failures and 2 other errors:

       277.1) Failure/Error:
                aria_elements = page.evaluate_script <<-JS
                  const elements = document.querySelectorAll('[aria-label], [aria-describedby], [aria-labelledby]');
                  Array.from(elements).map(el => ({
                    tag: el.tagName,
                    label: el.getAttribute('aria-label'),
                    describedby: el.getAttribute('aria-describedby'),
                    labelledby: el.getAttribute('aria-labelledby')
                  }));
                JS

              Selenium::WebDriver::Error::JavascriptError:
                javascript error: Unexpected token 'const'
                  (Session info: chrome-headless-shell=124.0.6367.78)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_supports_screen_readers_225.png


              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:132:in `evaluate_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:621:in `evaluate_script'
              # ./spec/system/performance_and_accessibility_spec.rb:385:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # Selenium::WebDriver::Error::WebDriverError:
              #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


       277.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_supports_screen_readers_225.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  278) Performance and Accessibility accessibility compliance passes WCAG 2.1 AA standards
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_passes_wcag_2_1_aa_standards_115.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  279) Performance and Accessibility accessibility compliance provides alternative text for images
       Failure/Error:
         document.images.attach(
           io: File.open(Rails.root.join("spec/fixtures/test_image.jpg")),
           filename: "test_image.jpg"
         )

       NoMethodError:
         undefined method `images' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_provides_alternative_text_for_images_635.png


       # ./spec/system/performance_and_accessibility_spec.rb:355:in `block (3 levels) in <main>'

  280) Performance and Accessibility accessibility compliance provides proper heading hierarchy
       Got 1 failure and 1 other error:

       280.1) Failure/Error: expect(h1_count).to eq(1)

                expected: 1
                     got: 0

                (compared using ==)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_provides_proper_heading_hierarchy_300.png


              # ./spec/system/performance_and_accessibility_spec.rb:212:in `block (3 levels) in <main>'

       280.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_provides_proper_heading_hierarchy_300.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  281) Performance and Accessibility accessibility compliance provides skip links
       Got 1 failure and 1 other error:

       281.1) Failure/Error: expect(skip_link).to be true

                expected true
                     got false

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_provides_skip_links_39.png


              # ./spec/system/performance_and_accessibility_spec.rb:323:in `block (3 levels) in <main>'

       281.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_accessibility_compliance_provides_skip_links_39.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  282) Performance and Accessibility memory management prevents memory leaks with proper cleanup
       Failure/Error:
         initial_memory = page.evaluate_script <<-JS
           if (performance.memory) {
             performance.memory.usedJSHeapSize / 1048576; // Convert to MB
           } else {
             0;
           }
         JS

       Selenium::WebDriver::Error::JavascriptError:
         javascript error: Unexpected token 'if'
           (Session info: chrome-headless-shell=124.0.6367.78)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_memory_management_prevents_memory_leaks_with_proper_cleanup_587.png


       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:132:in `evaluate_script'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:621:in `evaluate_script'
       # ./spec/system/performance_and_accessibility_spec.rb:457:in `block (3 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # Selenium::WebDriver::Error::WebDriverError:
       #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


  283) Performance and Accessibility memory management removes event listeners on navigation
       Got 0 failures and 2 other errors:

       283.1) Failure/Error:
                initial_listeners = page.evaluate_script <<-JS
                  if (window.getEventListeners) {
                    Object.values(getEventListeners(document)).flat().length;
                  } else {
                    // Fallback: compter les éléments avec data-action (Stimulus)
                    document.querySelectorAll('[data-action]').length;
                  }
                JS

              Selenium::WebDriver::Error::JavascriptError:
                javascript error: Unexpected token 'if'
                  (Session info: chrome-headless-shell=124.0.6367.78)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_memory_management_removes_event_listeners_on_navigation_334.png


              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:132:in `evaluate_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:621:in `evaluate_script'
              # ./spec/system/performance_and_accessibility_spec.rb:492:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # Selenium::WebDriver::Error::WebDriverError:
              #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


       283.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_memory_management_removes_event_listeners_on_navigation_334.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  284) Performance and Accessibility page load performance implements progressive loading
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_page_load_performance_implements_progressive_loading_403.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  285) Performance and Accessibility page load performance loads dashboard within acceptable time
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_page_load_performance_loads_dashboard_within_acceptable_time_423.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  286) Performance and Accessibility page load performance caches resources effectively
       Got 0 failures and 2 other errors:

       286.1) Failure/Error:
                first_load_metrics = page.evaluate_script <<-JS
                  const entries = performance.getEntriesByType('resource');
                  return entries.map(e => ({
                    name: e.name,
                    duration: e.duration,
                    transferSize: e.transferSize
                  }));
                JS

              Selenium::WebDriver::Error::JavascriptError:
                javascript error: Unexpected token 'const'
                  (Session info: chrome-headless-shell=124.0.6367.78)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_page_load_performance_caches_resources_effectively_473.png


              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
              # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:132:in `evaluate_script'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:621:in `evaluate_script'
              # ./spec/system/performance_and_accessibility_spec.rb:81:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # Selenium::WebDriver::Error::WebDriverError:
              #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


       286.2) Failure/Error:
                renders_many :actions, lambda { |item, **options, &block|
                  content_tag(:div, class: "flex items-center space-x-2") do
                    block.call(item)
                  end
                }

              ActionView::Template::Error:
                wrong number of arguments (given 0, expected 1)

              [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_page_load_performance_caches_resources_effectively_473.png


              # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
              # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
              # ./app/components/ui/data_grid_component.html.erb:14:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
              # ./app/components/ui/card_component.rb:102:in `with_header?'
              # ./app/components/ui/card_component.html.erb:5:in `block in call'
              # ./app/components/ui/card_component.html.erb:1:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
              # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   wrong number of arguments (given 0, expected 1)
              #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  287) Performance and Accessibility error handling and recovery provides timeout handling
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_error_handling_and_recovery_provides_timeout_handling_990.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  288) Performance and Accessibility error handling and recovery handles network errors gracefully
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_error_handling_and_recovery_handles_network_errors_gracefully_249.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  289) Performance and Accessibility search performance provides fast search results
       Failure/Error: fill_in "q", with: "keyword5"

       Capybara::ElementNotFound:
         Unable to find field "q" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_search_performance_provides_fast_search_results_105.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:91:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `fill_in'
       # ./spec/system/performance_and_accessibility_spec.rb:124:in `block (4 levels) in <main>'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # ./spec/system/performance_and_accessibility_spec.rb:123:in `block (3 levels) in <main>'

  290) Performance and Accessibility search performance implements search debouncing
       Failure/Error: search_input = find('.navbar input[name="search"]')

       Capybara::ElementNotFound:
         Unable to find css ".navbar input[name=\"search\"]"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_performance_and_accessibility_search_performance_implements_search_debouncing_488.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `find'
       # ./spec/system/performance_and_accessibility_spec.rb:144:in `block (3 levels) in <main>'

  291) User Authentication User resets password
       Failure/Error: click_link "Mot de passe oublié?"

       Capybara::ElementNotFound:
         Unable to find link "Mot de passe oublié?"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
       # ./spec/features/user_authentication_spec.rb:74:in `block (2 levels) in <main>'

  292) User Authentication User signs in successfully
       Failure/Error:
         within "#new_user" do
           fill_in "Email", with: user.email
           fill_in "Mot de passe", with: "password123"
           check "Se souvenir de moi"
         end

       Capybara::ElementNotFound:
         Unable to find css "#new_user"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/features/user_authentication_spec.rb:13:in `block (2 levels) in <main>'

  293) User Authentication User fails to sign in with wrong password
       Failure/Error:
         within "#new_user" do
           fill_in "Email", with: user.email
           fill_in "Mot de passe", with: "wrongpassword"
         end

       Capybara::ElementNotFound:
         Unable to find css "#new_user"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/features/user_authentication_spec.rb:35:in `block (2 levels) in <main>'

  294) User Authentication User signs out
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::UserAuthentication:0x0000ffff8d6c0dd0>
       # ./spec/features/user_authentication_spec.rb:52:in `block (2 levels) in <main>'

  295) AiClassificationService#classify with invoice document classifies as invoice
       Failure/Error: expect(result[:classification]).to eq('invoice')

       NoMethodError:
         undefined method `[]' for false
       # ./spec/services/ai_classification_service_spec.rb:29:in `block (4 levels) in <main>'

  296) AiClassificationService#classify with PDF document classifies as contract based on title
       Failure/Error: allow(document).to receive(:file_content_type).and_return('application/pdf')
         #<Document id: 21445, title: "Sed quo sunt", description: "Sapiente perferendis suscipit. Delectus fuga volup...", folder_id: nil, space_id: 12736, parent_id: nil, uploaded_by_id: 54270, document_type: nil, status: "draft", metadata: {}, file_size: nil, content_type: nil, file_name: nil, archived_at: nil, is_template: false, external_id: nil, expires_at: nil, is_public: false, download_count: 0, view_count: 0, processing_status: "pending", virus_scan_status: "scan_pending", content: "Eligendi repellendus unde. Exercitationem quae ips...", ai_processed_at: nil, ai_category: nil, created_at: "2025-06-10 00:23:01.487595000 +0200", updated_at: "2025-06-10 00:23:01.490478000 +0200", processing_started_at: nil, processing_completed_at: nil, processing_error: nil, processing_metadata: {}, extracted_content: nil, locked_by_id: nil, locked_at: nil, unlock_scheduled_at: nil, lock_reason: nil, documentable_type: nil, documentable_id: nil, document_category: nil, ai_confidence: nil, ai_entities: {}, storage_path: nil, current_version_number: nil, virus_scan_result: nil, ai_processing_started_at: nil, extracted_text: nil> does not implement: file_content_type
       # ./spec/services/ai_classification_service_spec.rb:10:in `block (4 levels) in <main>'

  297) AiClassificationService#suggest_tags suggests relevant tags based on content
       Failure/Error: tags = service.suggest_tags

       NoMethodError:
         undefined method `suggest_tags' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:75:in `block (3 levels) in <main>'

  298) AiClassificationService#suggest_tags limits number of suggested tags
       Failure/Error: tags = service.suggest_tags

       NoMethodError:
         undefined method `suggest_tags' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:85:in `block (3 levels) in <main>'

  299) AiClassificationService#suggest_tags returns unique tags
       Failure/Error: tags = service.suggest_tags

       NoMethodError:
         undefined method `suggest_tags' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:80:in `block (3 levels) in <main>'

  300) AiClassificationService#extract_entities extracts dates
       Failure/Error: result = service.extract_entities

       NoMethodError:
         private method `extract_entities' called for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:58:in `block (3 levels) in <main>'

  301) AiClassificationService#extract_entities extracts references
       Failure/Error: result = service.extract_entities

       NoMethodError:
         private method `extract_entities' called for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:63:in `block (3 levels) in <main>'

  302) AiClassificationService#extract_entities extracts amounts
       Failure/Error: result = service.extract_entities

       NoMethodError:
         private method `extract_entities' called for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:53:in `block (3 levels) in <main>'

  303) AiClassificationService#extract_entities extracts phone numbers
       Failure/Error: result = service.extract_entities

       NoMethodError:
         private method `extract_entities' called for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:48:in `block (3 levels) in <main>'

  304) AiClassificationService#extract_entities extracts emails
       Failure/Error: result = service.extract_entities

       NoMethodError:
         private method `extract_entities' called for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:43:in `block (3 levels) in <main>'

  305) AiClassificationService private methods #extract_amounts extracts monetary amounts
       Failure/Error: amounts = service.send(:extract_amounts, text)

       NoMethodError:
         undefined method `extract_amounts' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:142:in `block (4 levels) in <main>'

  306) AiClassificationService private methods #classify_by_keywords returns contract for contract keywords
       Failure/Error: classification = service.send(:classify_by_keywords, 'contract agreement terms')

       NoMethodError:
         undefined method `classify_by_keywords' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:108:in `block (4 levels) in <main>'

  307) AiClassificationService private methods #classify_by_keywords returns report for report keywords
       Failure/Error: classification = service.send(:classify_by_keywords, 'analysis report findings')

       NoMethodError:
         undefined method `classify_by_keywords' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:113:in `block (4 levels) in <main>'

  308) AiClassificationService private methods #classify_by_keywords returns other for unmatched content
       Failure/Error: classification = service.send(:classify_by_keywords, 'random text content')

       NoMethodError:
         undefined method `classify_by_keywords' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:118:in `block (4 levels) in <main>'

  309) AiClassificationService private methods #extract_dates extracts date formats
       Failure/Error: dates = service.send(:extract_dates, text)

       NoMethodError:
         undefined method `extract_dates' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:150:in `block (4 levels) in <main>'

  310) AiClassificationService private methods #extract_phone_numbers extracts various phone formats
       Failure/Error: phones = service.send(:extract_phone_numbers, text)

       NoMethodError:
         undefined method `extract_phone_numbers' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:134:in `block (4 levels) in <main>'

  311) AiClassificationService private methods #extract_emails extracts valid email addresses
       Failure/Error: emails = service.send(:extract_emails, text)

       NoMethodError:
         undefined method `extract_emails' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:126:in `block (4 levels) in <main>'

  312) AiClassificationService#confidence_score calculates confidence based on title match
       Failure/Error: confidence = service.send(:confidence_score, 'contract', document.title, '')

       NoMethodError:
         undefined method `confidence_score' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:93:in `block (3 levels) in <main>'

  313) AiClassificationService#confidence_score increases confidence with content match
       Failure/Error: confidence = service.send(:confidence_score, 'contract', document.title, document.extracted_text)

       NoMethodError:
         undefined method `confidence_score' for an instance of AiClassificationService
       # ./spec/services/ai_classification_service_spec.rb:100:in `block (3 levels) in <main>'

  314) Navigation::NavbarComponent renders notifications link
       Failure/Error: expect(rendered).to have_link(href: '/notifications')
         expected to find link with href "/notifications" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:67:in `block (2 levels) in <main>'

  315) Navigation::NavbarComponent renders navigation bar
       Failure/Error: expect(rendered).to have_link('Docusphere', href: '/')
         expected to find link "Docusphere" with href "/" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:21:in `block (2 levels) in <main>'

  316) Navigation::NavbarComponent shows admin links for admin users
       Failure/Error: expect(rendered).to have_link('Utilisateurs', href: '/users')
         expected to find link "Utilisateurs" with href "/users" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:53:in `block (2 levels) in <main>'

  317) Navigation::NavbarComponent highlights active page
       Failure/Error: expect(rendered).to have_css('a', text: 'GED')
         expected to find visible css "a" with text "GED" but there were no matches. Also found "/", "/", "/ged", "/baskets", "/tags", "/search", "/notifications", "\"menuitem\", :method=>nil}\">/users/edit", "\"menuitem\", :method=>nil}\">/notifications", "\"menuitem\", :method=>nil}\">/users/edit", "\"menuitem\", :method=>:delete}\">/users/sign_out", "/", "/ged", "/baskets", "/tags", "/search", which matched the selector but not all filters. 
       # ./spec/components/navigation/navbar_component_spec.rb:90:in `block (2 levels) in <main>'

  318) Navigation::NavbarComponent renders search bar
       Failure/Error: expect(rendered).to have_css('input[placeholder="Rechercher un document..."]')
         expected to find css "input[placeholder=\"Rechercher un document...\"]" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:35:in `block (2 levels) in <main>'

  319) Navigation::NavbarComponent shows user menu items
       Failure/Error: expect(rendered).to have_link('Mon profil', href: '/users/edit')
         expected to find link "Mon profil" with href "/users/edit" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:73:in `block (2 levels) in <main>'

  320) Navigation::NavbarComponent renders main navigation links
       Failure/Error: expect(rendered).to have_link('Tableau de bord', href: '/')
         expected to find link "Tableau de bord" with href "/" but there were no matches
       # ./spec/components/navigation/navbar_component_spec.rb:41:in `block (2 levels) in <main>'

  321) Navigation::NavbarComponent with notifications shows notification count when user has unread notifications
       Failure/Error: expect(rendered).to have_css('span', text: '3')
         expected to find visible css "span" with text "3" but there were no matches. Also found "Ouvrir le menu utilisateur", "\n                    J\n                  ", "Ouvrir le menu principal", which matched the selector but not all filters. 
       # ./spec/components/navigation/navbar_component_spec.rb:137:in `block (3 levels) in <main>'

  322) Organization Management Admin configures organization settings
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8cb78ae0>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  323) Organization Management Admin exports organization data
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d092300>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  324) Organization Management Admin manages metadata templates
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d0f1a58>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  325) Organization Management Admin manages organization billing
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d1021c8>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  326) Organization Management Admin manages user groups
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d12b190>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  327) Organization Management Admin views organization statistics
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d146b98>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  328) Organization Management Admin configures workflows
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d19fdd8>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  329) Organization Management Admin manages spaces
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d1b9300>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  330) Organization Management Admin creates a new user
       Failure/Error: login_as(admin_user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::OrganizationManagement:0x0000ffff8d1c76d0>
       # ./spec/features/organization_management_spec.rb:8:in `block (2 levels) in <main>'

  331) Documents::DocumentGridComponent actions can hide actions
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:138:in `block (3 levels) in <main>'

  332) Documents::DocumentGridComponent actions shows actions by default
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:132:in `block (3 levels) in <main>'

  333) Documents::DocumentGridComponent preview availability indicates preview available for PDFs
       Failure/Error: return type.to_s if formats.include?(file.blob.content_type)
         #<Double (anonymous)> received unexpected message :blob with (no args)
       # ./app/models/document.rb:131:in `block in document_type'
       # ./app/models/document.rb:130:in `each'
       # ./app/models/document.rb:130:in `document_type'
       # ./app/components/documents/document_grid_component.rb:68:in `preview_available?'
       # ./app/components/documents/document_grid_component.html.erb:16:in `block (2 levels) in call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/documents/document_grid_component.html.erb:7:in `block in call'
       # ./app/components/documents/document_grid_component.html.erb:2:in `each'
       # ./app/components/documents/document_grid_component.html.erb:2:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/documents/document_grid_component_spec.rb:178:in `block (3 levels) in <main>'

  334) Documents::DocumentGridComponent preview availability indicates no preview for other file types
       Failure/Error: return type.to_s if formats.include?(file.blob.content_type)
         #<Double (anonymous)> received unexpected message :blob with (no args)
       # ./app/models/document.rb:131:in `block in document_type'
       # ./app/models/document.rb:130:in `each'
       # ./app/models/document.rb:130:in `document_type'
       # ./app/components/documents/document_grid_component.rb:68:in `preview_available?'
       # ./app/components/documents/document_grid_component.html.erb:16:in `block (2 levels) in call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/documents/document_grid_component.html.erb:7:in `block in call'
       # ./app/components/documents/document_grid_component.html.erb:2:in `each'
       # ./app/components/documents/document_grid_component.html.erb:2:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/documents/document_grid_component_spec.rb:187:in `block (3 levels) in <main>'

  335) Documents::DocumentGridComponent preview availability indicates preview available for images
       Failure/Error: return type.to_s if formats.include?(file.blob.content_type)
         #<Double (anonymous)> received unexpected message :blob with (no args)
       # ./app/models/document.rb:131:in `block in document_type'
       # ./app/models/document.rb:130:in `each'
       # ./app/models/document.rb:130:in `document_type'
       # ./app/components/documents/document_grid_component.rb:68:in `preview_available?'
       # ./app/components/documents/document_grid_component.html.erb:16:in `block (2 levels) in call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/documents/document_grid_component.html.erb:7:in `block in call'
       # ./app/components/documents/document_grid_component.html.erb:2:in `each'
       # ./app/components/documents/document_grid_component.html.erb:2:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/documents/document_grid_component_spec.rb:169:in `block (3 levels) in <main>'

  336) Documents::DocumentGridComponent basic rendering renders all documents
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:24:in `block (3 levels) in <main>'

  337) Documents::DocumentGridComponent basic rendering renders documents in grid view by default
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:14:in `block (3 levels) in <main>'

  338) Documents::DocumentGridComponent accessibility includes role attributes for interactive elements
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:260:in `block (3 levels) in <main>'

  339) Documents::DocumentGridComponent accessibility includes proper ARIA labels for actions
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:254:in `block (3 levels) in <main>'

  340) Documents::DocumentGridComponent document metadata displays document tags
       Failure/Error: expect(page).to have_text("Important")
         expected to find text "Important" in "Draft Tempora omnis repellat 21 octets moins d'une minute ago AM Agnès Menard"
       # ./spec/components/documents/document_grid_component_spec.rb:217:in `block (3 levels) in <main>'

  341) Documents::DocumentGridComponent document metadata displays document created date
       Failure/Error: expect(page).to have_text("2 days ago")
         expected to find text "2 days ago" in "Draft Facere tempora temporibus 21 octets moins d'une minute ago AM Alice Meyer"
       # ./spec/components/documents/document_grid_component_spec.rb:198:in `block (3 levels) in <main>'

  342) Documents::DocumentGridComponent document metadata displays document owner
       Failure/Error: user = create(:user, name: "John Doe")

       NoMethodError:
         undefined method `name=' for an instance of User
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:202:in `block (3 levels) in <main>'

  343) Documents::DocumentGridComponent empty state shows empty state when no documents
       Failure/Error:
         def initialize(title:, description: nil, icon: nil)
           @title = title
           @description = description
           @icon = icon
         end

       ArgumentError:
         unknown keywords: :action_text, :action_url
       # ./app/components/ui/empty_state_component.rb:2:in `initialize'
       # ./app/components/documents/document_grid_component.html.erb:199:in `new'
       # ./app/components/documents/document_grid_component.html.erb:199:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/documents/document_grid_component_spec.rb:224:in `block (3 levels) in <main>'

  344) Documents::DocumentGridComponent view modes renders in grid view
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:34:in `block (3 levels) in <main>'

  345) Documents::DocumentGridComponent view modes renders in compact view
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:48:in `block (3 levels) in <main>'

  346) Documents::DocumentGridComponent view modes renders in list view
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:41:in `block (3 levels) in <main>'

  347) Documents::DocumentGridComponent selection does not show checkboxes by default
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:152:in `block (3 levels) in <main>'

  348) Documents::DocumentGridComponent selection shows checkboxes when selectable
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:146:in `block (3 levels) in <main>'

  349) Documents::DocumentGridComponent selection includes data attributes for selection handling
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:158:in `block (3 levels) in <main>'

  350) Documents::DocumentGridComponent custom classes accepts custom wrapper classes
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:233:in `block (3 levels) in <main>'

  351) Documents::DocumentGridComponent document icons shows appropriate icon for Excel files
       Failure/Error: expect(page).to have_css(".text-green-500")
         expected to find css ".text-green-500" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:75:in `block (3 levels) in <main>'

  352) Documents::DocumentGridComponent document icons shows appropriate icon for PowerPoint files
       Failure/Error: expect(page).to have_css(".text-orange-500")
         expected to find css ".text-orange-500" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:82:in `block (3 levels) in <main>'

  353) Documents::DocumentGridComponent document icons shows default icon for unknown file types
       Failure/Error: expect(page).to have_css(".text-gray-400")
         expected to find css ".text-gray-400" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:96:in `block (3 levels) in <main>'

  354) Documents::DocumentGridComponent document icons shows appropriate icon for image files
       Failure/Error: expect(page).to have_css(".text-purple-500")
         expected to find css ".text-purple-500" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:89:in `block (3 levels) in <main>'

  355) Documents::DocumentGridComponent document icons shows appropriate icon for Word documents
       Failure/Error: expect(page).to have_css(".text-blue-500")
         expected to find css ".text-blue-500" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:68:in `block (3 levels) in <main>'

  356) Documents::DocumentGridComponent responsive behavior applies responsive grid columns
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:243:in `block (3 levels) in <main>'

  357) Documents::DocumentGridComponent file size indicators shows yellow for medium files
       Failure/Error: expect(page).to have_css(".text-yellow-600")
         expected to find css ".text-yellow-600" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:112:in `block (3 levels) in <main>'

  358) Documents::DocumentGridComponent file size indicators shows red for very large files
       Failure/Error: huge_doc = create(:document, file_size: 150.megabytes)

       ActiveRecord::RecordInvalid:
         La validation a échoué : File size doit être inférieur ou égal à 104857600
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:15:in `create'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:12:in `block in result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:123:in `block (3 levels) in <main>'

  359) Documents::DocumentGridComponent file size indicators shows orange for large files
       Failure/Error: expect(page).to have_css(".text-orange-600")
         expected to find css ".text-orange-600" but there were no matches
       # ./spec/components/documents/document_grid_component_spec.rb:119:in `block (3 levels) in <main>'

  360) Documents::DocumentGridComponent stimulus integration includes data attributes for document actions
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:268:in `block (3 levels) in <main>'

  361) Documents::DocumentGridComponent stimulus integration includes data attributes for selection when selectable
       Failure/Error: create(:document, name: "Report.pdf", document_type: "pdf", file_size: 500.kilobytes),

       NoMethodError:
         undefined method `name=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/components/documents/document_grid_component_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/components/documents/document_grid_component_spec.rb:274:in `block (3 levels) in <main>'

  362) Document Upload Workflow drag and drop upload allows file upload via drag and drop
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_upload_workflow_drag_and_drop_upload_allows_file_upload_via_drag_and_drop_574.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  363) Document Upload Workflow complete upload workflow shows validation errors for invalid form submission
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_upload_workflow_complete_upload_workflow_shows_validation_errors_for_invalid_form_submission_85.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  364) Document Upload Workflow complete upload workflow allows user to upload a document from dashboard to viewing it
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_upload_workflow_complete_upload_workflow_allows_user_to_upload_a_document_from_dashboard_to_viewing_it_572.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  365) Ui::ChartComponent data formatting accepts formatter function for tooltip
       Failure/Error: config = page.find('[data-chart-config]')['data-chart-config']

       Capybara::ElementNotFound:
         Unable to find css "[data-chart-config]"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/simple.rb:156:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # ./spec/components/ui/chart_component_spec.rb:148:in `block (3 levels) in <main>'

  366) Ui::ChartComponent chart types renders area chart
       Failure/Error: expect(page).to have_css("[data-chart-type='#{chart_type}']")
         expected to find css "[data-chart-type='area']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:65:in `block (4 levels) in <main>'

  367) Ui::ChartComponent chart types configures donut chart with center label
       Failure/Error: config = page.find('[data-chart-config]')['data-chart-config']

       Capybara::ElementNotFound:
         Unable to find css "[data-chart-config]"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/simple.rb:156:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # ./spec/components/ui/chart_component_spec.rb:89:in `block (3 levels) in <main>'

  368) Ui::ChartComponent chart types renders pie chart
       Failure/Error: expect(page).to have_css("[data-chart-type='#{chart_type}']")
         expected to find css "[data-chart-type='pie']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:65:in `block (4 levels) in <main>'

  369) Ui::ChartComponent chart types renders bar chart
       Failure/Error: expect(page).to have_css("[data-chart-type='#{chart_type}']")
         expected to find css "[data-chart-type='bar']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:65:in `block (4 levels) in <main>'

  370) Ui::ChartComponent chart types renders donut chart
       Failure/Error: expect(page).to have_css("[data-chart-type='#{chart_type}']")
         expected to find css "[data-chart-type='donut']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:65:in `block (4 levels) in <main>'

  371) Ui::ChartComponent chart types configures pie chart specific options
       Failure/Error: config = page.find('[data-chart-config]')['data-chart-config']

       Capybara::ElementNotFound:
         Unable to find css "[data-chart-config]"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/simple.rb:156:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # ./spec/components/ui/chart_component_spec.rb:77:in `block (3 levels) in <main>'

  372) Ui::ChartComponent chart types renders line chart
       Failure/Error: expect(page).to have_css("[data-chart-type='#{chart_type}']")
         expected to find css "[data-chart-type='line']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:65:in `block (4 levels) in <main>'

  373) Ui::ChartComponent accessibility includes proper ARIA attributes for chart region
       Failure/Error: expect(page).to have_css("[role='img']")
         expected to find css "[role='img']" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:195:in `block (3 levels) in <main>'

  374) Ui::ChartComponent stimulus integration includes data attributes for stimulus controller
       Failure/Error: expect(page).to have_css("[data-chart-config]")
         expected to find css "[data-chart-config]" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:240:in `block (3 levels) in <main>'

  375) Ui::ChartComponent loading state shows loading skeleton
       Failure/Error: expect(page).to have_css(".skeleton")
         expected to find css ".skeleton" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:121:in `block (3 levels) in <main>'

  376) Ui::ChartComponent multiple series handles multiple data series
       Failure/Error: expect(page).to have_css("[data-chart-config]")
         expected to find css "[data-chart-config]" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:215:in `block (3 levels) in <main>'

  377) Ui::ChartComponent basic rendering generates unique chart ID
       Failure/Error: id1 = page.find('[data-chart-config]')['data-chart-id']

       Capybara::ElementNotFound:
         Unable to find css "[data-chart-config]"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/simple.rb:156:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # ./spec/components/ui/chart_component_spec.rb:29:in `block (3 levels) in <main>'

  378) Ui::ChartComponent basic rendering renders chart container with required attributes
       Failure/Error: expect(page).to have_css("[data-chart-config]")
         expected to find css "[data-chart-config]" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:21:in `block (3 levels) in <main>'

  379) Ui::ChartComponent custom configuration merges custom config options
       Failure/Error: expect(page).to have_css("[data-chart-config]")
         expected to find css "[data-chart-config]" but there were no matches
       # ./spec/components/ui/chart_component_spec.rb:172:in `block (3 levels) in <main>'

  380) Ui::ChartComponent custom colors accepts custom color palette
       Failure/Error: config = page.find('[data-chart-config]')['data-chart-config']

       Capybara::ElementNotFound:
         Unable to find css "[data-chart-config]"
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/simple.rb:156:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # ./spec/components/ui/chart_component_spec.rb:135:in `block (3 levels) in <main>'

  381) Folder Management folder navigation and creation handles folder permissions correctly
       Failure/Error: click_button "Gérer les permissions"

       Capybara::ElementNotFound:
         Unable to find button "Gérer les permissions" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_folder_navigation_and_creation_handles_folder_permissions_correctly_54.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/folder_management_spec.rb:71:in `block (3 levels) in <main>'

  382) Folder Management folder navigation and creation allows user to navigate through folders and create subfolders
       Failure/Error: click_link "Documents"

       Selenium::WebDriver::Error::ElementNotInteractableError:
         element not interactable: element has zero size
           (Session info: chrome-headless-shell=124.0.6367.78)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_folder_navigation_and_creation_allows_user_to_navigate_through_folders_and_create_subfolders_194.png


       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:365:in `click_element'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/element.rb:77:in `click'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/node.rb:108:in `click'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
       # ./spec/system/folder_management_spec.rb:21:in `block (3 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # Selenium::WebDriver::Error::WebDriverError:
       #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae89c688 <unknown>
#3 0xaaaaae8938a4 <unknown>
#4 0xaaaaae893370 <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


  383) Folder Management folder operations allows moving folders
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_folder_operations_allows_moving_folders_237.png


       # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

  384) Folder Management folder operations allows renaming folders
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_folder_operations_allows_renaming_folders_24.png


       # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

  385) Folder Management folder tree view displays folder hierarchy in tree view
       Failure/Error: click_button "Vue arborescente"

       Capybara::ElementNotFound:
         Unable to find button "Vue arborescente" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_folder_tree_view_displays_folder_hierarchy_in_tree_view_872.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/folder_management_spec.rb:264:in `block (3 levels) in <main>'

  386) Folder Management bulk operations allows bulk deletion with confirmation
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_bulk_operations_allows_bulk_deletion_with_confirmation_396.png


       # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

  387) Folder Management bulk operations allows selecting and moving multiple items
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_folder_management_bulk_operations_allows_selecting_and_moving_multiple_items_420.png


       # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

  388) Ui::OptimizedImageComponent basic rendering uses lazy loading by default
       Failure/Error: expect(page).not_to have_css("img[src='#{test_image_src}']")
         expected not to find visible css "img[src='/assets/test-image.jpg']", found 1 match: ""
       # ./spec/components/ui/optimized_image_component_spec.rb:21:in `block (3 levels) in <main>'

  389) RegulatoryComplianceService#check_gdpr_compliance without personal data passes GDPR compliance
       Failure/Error: result = service.send(:check_gdpr_compliance)

       NoMethodError:
         undefined method `check_gdpr_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:50:in `block (4 levels) in <main>'

  390) RegulatoryComplianceService#check_gdpr_compliance with personal data detects personal data violations
       Failure/Error: result = service.send(:check_gdpr_compliance)

       NoMethodError:
         undefined method `check_gdpr_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:36:in `block (4 levels) in <main>'

  391) RegulatoryComplianceService#check_real_estate_compliance with construction document checks for required permits and documentation
       Failure/Error: result = service.send(:check_real_estate_compliance)

       NoMethodError:
         undefined method `check_real_estate_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:137:in `block (4 levels) in <main>'

  392) RegulatoryComplianceService private helper methods #contains_personal_data? detects email addresses
       Failure/Error: expect(service.send(:contains_personal_data?, 'Contact: john@example.com')).to be true

       NoMethodError:
         undefined method `contains_personal_data?' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:146:in `block (4 levels) in <main>'

  393) RegulatoryComplianceService private helper methods #contains_personal_data? detects phone numbers
       Failure/Error: expect(service.send(:contains_personal_data?, 'Phone: +33123456789')).to be true

       NoMethodError:
         undefined method `contains_personal_data?' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:150:in `block (4 levels) in <main>'

  394) RegulatoryComplianceService private helper methods #contains_personal_data? detects social security patterns
       Failure/Error: expect(service.send(:contains_personal_data?, 'SSN: 123-45-6789')).to be true

       NoMethodError:
         undefined method `contains_personal_data?' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:154:in `block (4 levels) in <main>'

  395) RegulatoryComplianceService private helper methods #contains_personal_data? returns false for non-personal content
       Failure/Error: expect(service.send(:contains_personal_data?, 'Technical specifications')).to be false

       NoMethodError:
         undefined method `contains_personal_data?' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:158:in `block (4 levels) in <main>'

  396) RegulatoryComplianceService private helper methods #get_severity returns correct severity levels
       Failure/Error: expect(service.send(:get_severity, 'personal_data_exposure')).to eq('high')

       NoMethodError:
         undefined method `get_severity' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:187:in `block (4 levels) in <main>'

  397) RegulatoryComplianceService private helper methods #calculate_overall_score calculates weighted average of compliance scores
       Failure/Error: score = service.send(:calculate_overall_score, checks)

       NoMethodError:
         undefined method `calculate_overall_score' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:180:in `block (4 levels) in <main>'

  398) RegulatoryComplianceService private helper methods #extract_amounts extracts monetary amounts from text
       Failure/Error: amounts = service.send(:extract_amounts, 'Payment of €10,000.00 and $5,000.50')

       NoMethodError:
         undefined method `extract_amounts' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:164:in `block (4 levels) in <main>'

  399) RegulatoryComplianceService#check_financial_compliance with large transaction amounts detects AML violations for large cash transactions
       Failure/Error: result = service.send(:check_financial_compliance)

       NoMethodError:
         undefined method `check_financial_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:65:in `block (4 levels) in <main>'

  400) RegulatoryComplianceService#check_financial_compliance with transaction verification passes financial compliance with proper verification
       Failure/Error: result = service.send(:check_financial_compliance)

       NoMethodError:
         undefined method `check_financial_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:79:in `block (4 levels) in <main>'

  401) RegulatoryComplianceService#check_compliance includes all compliance categories
       Failure/Error: @document.tags << Tag.find_or_create_by(name: 'compliance:compliant')

       ActiveRecord::RecordInvalid:
         La validation a échoué : Organization doit exister
       # ./app/services/regulatory_compliance_service.rb:392:in `store_compliance_results'
       # ./app/services/regulatory_compliance_service.rb:136:in `check_compliance'
       # ./spec/services/regulatory_compliance_service_spec.rb:18:in `block (3 levels) in <main>'

  402) RegulatoryComplianceService#check_compliance returns compliance report with all checks
       Failure/Error: @document.tags << Tag.find_or_create_by(name: 'compliance:compliant')

       ActiveRecord::RecordInvalid:
         La validation a échoué : Organization doit exister
       # ./app/services/regulatory_compliance_service.rb:392:in `store_compliance_results'
       # ./app/services/regulatory_compliance_service.rb:136:in `check_compliance'
       # ./spec/services/regulatory_compliance_service_spec.rb:9:in `block (3 levels) in <main>'

  403) RegulatoryComplianceService#check_contractual_compliance with complete contract passes contractual compliance with complete terms
       Failure/Error: result = service.send(:check_contractual_compliance)

       NoMethodError:
         undefined method `check_contractual_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:122:in `block (4 levels) in <main>'

  404) RegulatoryComplianceService#check_contractual_compliance with missing contract elements detects missing essential contract terms
       Failure/Error: result = service.send(:check_contractual_compliance)

       NoMethodError:
         undefined method `check_contractual_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:109:in `block (4 levels) in <main>'

  405) RegulatoryComplianceService#check_environmental_compliance with environmental terms detects environmental compliance requirements
       Failure/Error: result = service.send(:check_environmental_compliance)

       NoMethodError:
         undefined method `check_environmental_compliance' for an instance of RegulatoryComplianceService
       # ./spec/services/regulatory_compliance_service_spec.rb:94:in `block (4 levels) in <main>'

  406) Mobile Responsive Design performance on mobile lazy loads images
       Failure/Error: io: File.open(Rails.root.join("spec/fixtures/preview.jpg")),

       Errno::ENOENT:
         No such file or directory @ rb_sysopen - /app/spec/fixtures/preview.jpg

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_performance_on_mobile_lazy_loads_images_588.png


       # ./spec/system/mobile_responsive_spec.rb:408:in `initialize'
       # ./spec/system/mobile_responsive_spec.rb:408:in `open'
       # ./spec/system/mobile_responsive_spec.rb:408:in `block (4 levels) in <main>'
       # ./spec/system/mobile_responsive_spec.rb:406:in `block (3 levels) in <main>'

  407) Mobile Responsive Design performance on mobile implements infinite scroll on mobile
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_performance_on_mobile_implements_infinite_scroll_on_mobile_954.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  408) Mobile Responsive Design offline capabilities shows offline indicator
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_offline_capabilities_shows_offline_indicator_690.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  409) Mobile Responsive Design offline capabilities queues actions for sync when offline
       Failure/Error:
         let(:document) { create(:document, 
           title: "Document Mobile Test",
           space: space,
           user: user
         )}

       NoMethodError:
         undefined method `user=' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_offline_capabilities_queues_actions_for_sync_when_offline_859.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/mobile_responsive_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/system/mobile_responsive_spec.rb:352:in `block (3 levels) in <main>'

  410) Mobile Responsive Design responsive tables and data transforms complex tables for mobile
       Failure/Error: visit ged_reports_path

       NameError:
         undefined local variable or method `ged_reports_path' for #<RSpec::ExampleGroups::MobileResponsiveDesign::ResponsiveTablesAndData:0x0000ffff8caf8bb0>

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_responsive_tables_and_data_transforms_complex_tables_for_mobile_339.png


       # ./spec/system/mobile_responsive_spec.rb:437:in `block (3 levels) in <main>'

  411) Mobile Responsive Design responsive layouts shows optimized document cards on mobile
       Failure/Error:
         within '.document-card' do
           # Version mobile compacte
           expect(page).to have_css('.mobile-card-layout')
           
           # Actions dans un menu déroulant au lieu de boutons
           expect(page).not_to have_button("Télécharger")
           expect(page).to have_css('.card-actions-menu')
           
           find('.card-actions-menu').click
           expect(page).to have_link("Télécharger")

       Capybara::ElementNotFound:
         Unable to find css ".document-card"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_responsive_layouts_shows_optimized_document_cards_on_mobile_896.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/mobile_responsive_spec.rb:137:in `block (3 levels) in <main>'

  412) Mobile Responsive Design responsive layouts adjusts grid layouts for different screen sizes
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_responsive_layouts_adjusts_grid_layouts_for_different_screen_sizes_27.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  413) Mobile Responsive Design responsive layouts adapts tables to mobile view
       Failure/Error: Par <%= document.user.display_name %>

       ActionView::Template::Error:
         undefined method `user' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_responsive_layouts_adapts_tables_to_mobile_view_26.png


       # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # NoMethodError:
       #   undefined method `user' for an instance of Document
       #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

  414) Mobile Responsive Design mobile navigation adapts search interface for mobile
       Failure/Error: expect(page).to have_css('.mobile-search-toggle')
         expected to find css ".mobile-search-toggle" but there were no matches

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_navigation_adapts_search_interface_for_mobile_284.png


       # ./spec/system/mobile_responsive_spec.rb:61:in `block (3 levels) in <main>'

  415) Mobile Responsive Design mobile navigation shows hamburger menu on mobile
       Failure/Error: expect(page).to have_css('.mobile-menu-toggle')
         expected to find css ".mobile-menu-toggle" but there were no matches

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_navigation_shows_hamburger_menu_on_mobile_150.png


       # ./spec/system/mobile_responsive_spec.rb:35:in `block (3 levels) in <main>'

  416) Mobile Responsive Design mobile navigation handles swipe gestures
       Failure/Error:
         page.execute_script <<-JS
           var touchstart = new TouchEvent('touchstart', {
             touches: [{ clientX: 10, clientY: 100 }]
           });
           var touchend = new TouchEvent('touchend', {
             changedTouches: [{ clientX: 200, clientY: 100 }]
           });
           document.body.dispatchEvent(touchstart);
           document.body.dispatchEvent(touchend);
         JS

       Selenium::WebDriver::Error::JavascriptError:
         javascript error: Failed to construct 'TouchEvent': Failed to read the 'touches' property from 'TouchEventInit': Failed to convert value to 'Touch'.
           (Session info: chrome-headless-shell=124.0.6367.78)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_navigation_handles_swipe_gestures_924.png


       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:63:in `add_cause'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:41:in `error'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:52:in `assert_ok'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/response.rb:34:in `initialize'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `new'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:103:in `create_response'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/default.rb:103:in `request'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/http/common.rb:68:in `call'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:625:in `execute'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/remote/bridge.rb:304:in `execute_script'
       # /usr/local/bundle/gems/selenium-webdriver-4.33.0/lib/selenium/webdriver/common/driver.rb:229:in `execute_script'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/selenium/driver.rb:128:in `execute_script'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:606:in `execute_script'
       # ./spec/system/mobile_responsive_spec.rb:84:in `block (3 levels) in <main>'
       # ------------------
       # --- Caused by: ---
       # Selenium::WebDriver::Error::WebDriverError:
       #   #0 0xaaaaaeb37d44 <unknown>
#1 0xaaaaae85e374 <unknown>
#2 0xaaaaae8630d8 <unknown>
#3 0xaaaaae8647d4 <unknown>
#4 0xaaaaae8d8d1c <unknown>
#5 0xaaaaae8d8400 <unknown>
#6 0xaaaaae8914a4 <unknown>
#7 0xaaaaae8920e0 <unknown>
#8 0xaaaaaeb05ac0 <unknown>
#9 0xaaaaaeb08a64 <unknown>
#10 0xaaaaaeb08630 <unknown>
#11 0xaaaaaeaf6d6c <unknown>
#12 0xaaaaaeb09128 <unknown>
#13 0xaaaaaeae1010 <unknown>
#14 0xaaaaaeb28550 <unknown>
#15 0xaaaaaeb28758 <unknown>
#16 0xaaaaaeb37250 <unknown>
#17 0xffffbe22ee58 <unknown>
#18 0xffffbe297f9c <unknown>


  417) Mobile Responsive Design mobile forms and modals displays full-screen modals on mobile
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_forms_and_modals_displays_full_screen_modals_on_mobile_945.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  418) Mobile Responsive Design mobile forms and modals handles file upload on mobile
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_forms_and_modals_handles_file_upload_on_mobile_703.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  419) Mobile Responsive Design mobile forms and modals optimizes form inputs for mobile
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_mobile_forms_and_modals_optimizes_form_inputs_for_mobile_352.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  420) Mobile Responsive Design touch interactions provides swipeable image gallery
       Failure/Error:
         let(:document) { create(:document, 
           title: "Document Mobile Test",
           space: space,
           user: user
         )}

       NoMethodError:
         undefined method `user=' for an instance of Document

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_touch_interactions_provides_swipeable_image_gallery_127.png


       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/system/mobile_responsive_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/system/mobile_responsive_spec.rb:272:in `block (4 levels) in <main>'
       # ./spec/system/mobile_responsive_spec.rb:271:in `block (3 levels) in <main>'

  421) Mobile Responsive Design touch interactions supports touch-friendly interactions
       Failure/Error: document_element = find('.document-card')

       Capybara::ElementNotFound:
         Unable to find css ".document-card"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_mobile_responsive_design_touch_interactions_supports_touch_friendly_interactions_489.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `find'
       # ./spec/system/mobile_responsive_spec.rb:249:in `block (3 levels) in <main>'

  422) Documents::DocumentCardComponent with tags displays document tags
       Failure/Error: expect(rendered).to have_content("Important")
         expected to find text "Important" in "Test Document Publié A test description 10 juin 00:24 21 B PDF important contrat Ouvrir les options Voir Modifier Télécharger Partager Supprimer". (However, it was found 1 time using a case insensitive search.)
       # ./spec/components/documents/document_card_component_spec.rb:102:in `block (3 levels) in <main>'

  423) Search Functionality search suggestions and corrections suggests spelling corrections
       Failure/Error: fill_in "q", with: "raport"

       Capybara::ElementNotFound:
         Unable to find field "q" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_search_suggestions_and_corrections_suggests_spelling_corrections_911.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:91:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `fill_in'
       # ./spec/system/search_functionality_spec.rb:396:in `block (3 levels) in <main>'

  424) Search Functionality search suggestions and corrections suggests related searches
       Failure/Error:
         within '.related-searches' do
           expect(page).to have_content("Recherches similaires:")
           expect(page).to have_link("contrat ABC")
           expect(page).to have_link("contrat service")
           expect(page).to have_link("contrat 2024")
           expect(page).to have_link("contrat maintenance")
         end

       Capybara::ElementNotFound:
         Unable to find css ".related-searches"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_search_suggestions_and_corrections_suggests_related_searches_683.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:415:in `block (3 levels) in <main>'

  425) Search Functionality faceted search updates facet counts dynamically
       Failure/Error: fill_in "q", with: "rapport"

       Capybara::ElementNotFound:
         Unable to find field "q" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_faceted_search_updates_facet_counts_dynamically_706.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:91:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `fill_in'
       # ./spec/system/search_functionality_spec.rb:328:in `block (3 levels) in <main>'

  426) Search Functionality faceted search filters results using facets
       Failure/Error:
         within '.search-facets' do
           # Facette par type
           within '.facet-group', text: "Type de fichier" do
             expect(page).to have_content("PDF (8)")
             expect(page).to have_content("Word (0)")
             
             check "PDF"
           end
           
           # Facette par date

       Capybara::ElementNotFound:
         Unable to find css ".search-facets"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_faceted_search_filters_results_using_facets_6.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:270:in `block (3 levels) in <main>'

  427) Search Functionality quick search from navbar shows 'see all results' option
       Failure/Error:
         within '.navbar' do
           fill_in "search", with: "2024"
         end

       Capybara::ElementNotFound:
         Unable to find css ".navbar"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_quick_search_from_navbar_shows__see_all_results__option_109.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:115:in `block (3 levels) in <main>'

  428) Search Functionality quick search from navbar navigates search results with keyboard
       Failure/Error:
         within '.navbar' do
           search_input = find('input[name="search"]')
           search_input.fill_in with: "2024"
         end

       Capybara::ElementNotFound:
         Unable to find css ".navbar"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_quick_search_from_navbar_navigates_search_results_with_keyboard_559.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:88:in `block (3 levels) in <main>'

  429) Search Functionality quick search from navbar searches documents with autocomplete
       Failure/Error:
         within '.navbar' do
           fill_in "search", with: "cont"
         end

       Capybara::ElementNotFound:
         Unable to find css ".navbar"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_quick_search_from_navbar_searches_documents_with_autocomplete_949.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:56:in `block (3 levels) in <main>'

  430) Search Functionality advanced search page performs multi-criteria search
       Failure/Error: click_button "Recherche avancée"

       Capybara::ElementNotFound:
         Unable to find button "Recherche avancée" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_advanced_search_page_performs_multi_criteria_search_527.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/search_functionality_spec.rb:139:in `block (3 levels) in <main>'

  431) Search Functionality advanced search page exports search results
       Failure/Error: expect(page).to have_css('.search-results')
         expected to find css ".search-results" but there were no matches

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_advanced_search_page_exports_search_results_870.png


       # ./spec/system/search_functionality_spec.rb:224:in `block (3 levels) in <main>'

  432) Search Functionality advanced search page saves and loads search queries
       Failure/Error: fill_in "q", with: "finance 2024"

       Capybara::ElementNotFound:
         Unable to find field "q" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_advanced_search_page_saves_and_loads_search_queries_781.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:91:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `fill_in'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `fill_in'
       # ./spec/system/search_functionality_spec.rb:185:in `block (3 levels) in <main>'

  433) Search Functionality search performance indicators displays search performance metrics
       Failure/Error:
         within '.search-stats' do
           expect(page).to have_content(/\d+ résultats/)
           expect(page).to have_content(/en \d+\.\d+ secondes/)
         end

       Capybara::ElementNotFound:
         Unable to find css ".search-stats"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_search_performance_indicators_displays_search_performance_metrics_708.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:488:in `block (3 levels) in <main>'

  434) Search Functionality search within results refines search results
       Failure/Error:
         within '.search-results' do
           expect(page).to have_content("3 résultats")
         end

       Capybara::ElementNotFound:
         Unable to find css ".search-results"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_search_within_results_refines_search_results_488.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:360:in `block (3 levels) in <main>'

  435) Search Functionality search history and recent searches tracks and displays search history
       Failure/Error:
         within '.recent-searches' do
           expect(page).to have_content("Recherches récentes")
           expect(page).to have_link("rapport 2024")
           expect(page).to have_link("facture")
           expect(page).to have_link("contrat")
           
           # Timestamp
           expect(page).to have_content("il y a moins d'une minute")
         end

       Capybara::ElementNotFound:
         Unable to find css ".recent-searches"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_functionality_search_history_and_recent_searches_tracks_and_displays_search_history_211.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
       # ./spec/system/search_functionality_spec.rb:444:in `block (3 levels) in <main>'

  436) Document Validation Workflow edge cases and error handling handles concurrent validation attempts gracefully
       Failure/Error: expect(validation_request.reload.status).to eq('approved')

         expected: #<Encoding:UTF-8> "approved"
              got: #<Encoding:US-ASCII> "pending"

         (compared using ==)
       # ./spec/integration/document_validation_workflow_spec.rb:225:in `block (3 levels) in <main>'

  437) Document Validation Workflow edge cases and error handling prevents duplicate validation requests from same validator
       Failure/Error: document_validations.create!(validation_params)

       ActiveRecord::RecordInvalid:
         La validation a échoué : Validator est déjà utilisé
       # ./app/models/concerns/validatable.rb:63:in `block in request_validation'
       # ./app/models/concerns/validatable.rb:53:in `each'
       # ./app/models/concerns/validatable.rb:53:in `request_validation'
       # ./spec/integration/document_validation_workflow_spec.rb:200:in `block (3 levels) in <main>'

  438) Document Validation Workflow notification system integration creates actual notification records
       Failure/Error:
         expect {
           validation_request = document.request_validation(
             requester: requester,
             validators: [validator1, validator2],
             min_validations: 1
           )
         }.to change { Notification.count }.by(2) # One for each validator

         expected `Notification.count` to have changed by 2, but was changed by 0
       # ./spec/integration/document_validation_workflow_spec.rb:167:in `block (3 levels) in <main>'

  439) Document Validation Workflow notification system integration sends notifications throughout the validation process
       Failure/Error: expect(NotificationService).to have_received(:notify_validation_requested).with(validation_request)

         (NotificationService (class)).notify_validation_requested(#<ValidationRequest id: 1403, document_id: 21779, requester_id: 54752, validation_template_id: nil, m...reated_at: "2025-06-10 00:26:47.968941000 +0200", updated_at: "2025-06-10 00:26:47.968941000 +0200">)
             expected: 1 time with arguments: (#<ValidationRequest id: 1403, document_id: 21779, requester_id: 54752, validation_template_id: nil, m...reated_at: "2025-06-10 00:26:47.968941000 +0200", updated_at: "2025-06-10 00:26:47.968941000 +0200">)
             received: 0 times
       # ./spec/integration/document_validation_workflow_spec.rb:156:in `block (3 levels) in <main>'

  440) Document Validation Workflow complete validation workflow with rejection (any rejection is definitive) rejects the validation request immediately on first rejection
       Failure/Error: expect(validation_request.reload.status).to eq('rejected') # Immediately rejected

         expected: #<Encoding:UTF-8> "rejected"
              got: #<Encoding:US-ASCII> "pending"

         (compared using ==)
       # ./spec/integration/document_validation_workflow_spec.rb:72:in `block (4 levels) in <main>'

  441) Document Validation Workflow complete validation workflow with successful validation (2 out of 3 required) completes the validation process successfully
       Failure/Error: expect(validation_request.reload.status).to eq('approved') # Now approved!

         expected: #<Encoding:UTF-8> "approved"
              got: #<Encoding:US-ASCII> "pending"

         (compared using ==)
       # ./spec/integration/document_validation_workflow_spec.rb:39:in `block (4 levels) in <main>'

  442) Document Validation Workflow complete validation workflow with mixed responses but insufficient approvals keeps the request pending until minimum approvals are reached
       Failure/Error: expect(validation_request.reload.status).to eq('approved') # Now complete

         expected: #<Encoding:UTF-8> "approved"
              got: #<Encoding:US-ASCII> "pending"

         (compared using ==)
       # ./spec/integration/document_validation_workflow_spec.rb:99:in `block (4 levels) in <main>'

  443) Document Validation Workflow authorization system integration respects authorization permissions for validation
       Failure/Error: space.has_permission?(user, 'validation')

       NoMethodError:
         undefined method `has_permission?' for an instance of Space
       # ./app/models/document.rb:336:in `can_validate?'
       # ./spec/integration/document_validation_workflow_spec.rb:115:in `block (3 levels) in <main>'

  444) API V1 Documents POST /api/v1/documents/:id/versions creates a new version
       Failure/Error: Rack::Test::UploadedFile.new(Rails.root.join(path), mime_type)

       RuntimeError:
         /app/spec/fixtures/test_document_v2.pdf file does not exist
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:87:in `initialize_from_file_path'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:39:in `initialize'
       # ./spec/support/fixture_file_helpers.rb:3:in `new'
       # ./spec/support/fixture_file_helpers.rb:3:in `fixture_file_upload'
       # ./spec/requests/api/v1/documents_spec.rb:355:in `block (3 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:364:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:362:in `block (3 levels) in <main>'

  445) API V1 Documents POST /api/v1/documents/:id/versions maintains version history
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:385:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:377:in `block (3 levels) in <main>'

  446) API V1 Documents GET /api/v1/documents/:id/download downloads the document file
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:323:in `block (3 levels) in <main>'

  447) API V1 Documents GET /api/v1/documents/:id/download tracks download activity
       Failure/Error:
         expect {
           get "/api/v1/documents/#{document.id}/download", headers: valid_headers
         }.to change { document.activities.count }.by(1)

       NoMethodError:
         undefined method `activities' for an instance of Document
       # ./spec/requests/api/v1/documents_spec.rb:334:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:332:in `block (3 levels) in <main>'

  448) API V1 Documents GET /api/v1/documents/:id/download respects download permissions
       Failure/Error: document.update!(download_enabled: false)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'download_enabled' for Document.
       # ./spec/requests/api/v1/documents_spec.rb:342:in `block (3 levels) in <main>'

  449) API V1 Documents GET /api/v1/documents/:id returns 404 for non-existent document
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:103:in `block (3 levels) in <main>'

  450) API V1 Documents GET /api/v1/documents/:id returns 403 for unauthorized document
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:113:in `block (3 levels) in <main>'

  451) API V1 Documents GET /api/v1/documents/:id includes metadata and tags
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:95:in `block (3 levels) in <main>'

  452) API V1 Documents GET /api/v1/documents/:id returns document details
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:79:in `block (3 levels) in <main>'

  453) API V1 Documents PATCH /api/v1/documents/:id updates tags
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:218:in `block (3 levels) in <main>'

  454) API V1 Documents PATCH /api/v1/documents/:id updates the document
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:200:in `block (3 levels) in <main>'

  455) API V1 Documents PATCH /api/v1/documents/:id requires appropriate permissions
       Failure/Error: document.update!(user: other_user)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'user' for Document.
       # ./spec/requests/api/v1/documents_spec.rb:226:in `block (3 levels) in <main>'

  456) API V1 Documents POST /api/v1/documents creates a new document
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:133:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:132:in `block (3 levels) in <main>'

  457) API V1 Documents POST /api/v1/documents creates document with metadata
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:153:in `block (3 levels) in <main>'

  458) API V1 Documents POST /api/v1/documents returns validation errors
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:165:in `block (3 levels) in <main>'

  459) API V1 Documents POST /api/v1/documents handles file upload errors
       Failure/Error: Rack::Test::UploadedFile.new(Rails.root.join(path), mime_type)

       RuntimeError:
         /app/spec/fixtures/malformed.pdf file does not exist
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:87:in `initialize_from_file_path'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test/uploaded_file.rb:39:in `initialize'
       # ./spec/support/fixture_file_helpers.rb:3:in `new'
       # ./spec/support/fixture_file_helpers.rb:3:in `fixture_file_upload'
       # ./spec/requests/api/v1/documents_spec.rb:177:in `block (3 levels) in <main>'

  460) API V1 Documents POST /api/v1/documents/bulk handles partial failures
       Failure/Error:
         def fixture_file_upload(path, mime_type)
           Rack::Test::UploadedFile.new(Rails.root.join(path), mime_type)
         end

       ArgumentError:
         wrong number of arguments (given 1, expected 2)
       # ./spec/support/fixture_file_helpers.rb:2:in `fixture_file_upload'
       # ./spec/requests/api/v1/documents_spec.rb:432:in `block (3 levels) in <main>'

  461) API V1 Documents POST /api/v1/documents/bulk creates multiple documents
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:419:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:416:in `block (3 levels) in <main>'

  462) API V1 Documents GET /api/v1/documents paginates results
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:38:in `block (3 levels) in <main>'

  463) API V1 Documents GET /api/v1/documents filters by space
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:50:in `block (3 levels) in <main>'

  464) API V1 Documents GET /api/v1/documents requires authentication
       Failure/Error: get "/api/v1/documents"

       ActionController::RoutingError:
         No route matches [GET] "/api/v1/documents"
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
       # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:153:in `request'
       # /usr/local/bundle/gems/rails-controller-testing-1.0.5/lib/rails/controller/testing/integration.rb:16:in `block (2 levels) in <module:Integration>'
       # ./spec/requests/api/v1/documents_spec.rb:68:in `block (3 levels) in <main>'

  465) API V1 Documents GET /api/v1/documents returns a list of documents
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:27:in `block (3 levels) in <main>'

  466) API V1 Documents GET /api/v1/documents searches by query
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:60:in `block (3 levels) in <main>'

  467) API V1 Documents DELETE /api/v1/documents/:id deletes the document
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:239:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:238:in `block (3 levels) in <main>'

  468) API V1 Documents DELETE /api/v1/documents/:id requires ownership
       Failure/Error: document.update!(user: other_user)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'user' for Document.
       # ./spec/requests/api/v1/documents_spec.rb:247:in `block (3 levels) in <main>'

  469) API V1 Documents POST /api/v1/documents/:id/share creates public share link
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:302:in `block (3 levels) in <main>'

  470) API V1 Documents POST /api/v1/documents/:id/share creates document shares
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:271:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:270:in `block (3 levels) in <main>'

  471) API V1 Documents POST /api/v1/documents/:id/share sends notification to recipients
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/documents_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:284:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/documents_spec.rb:283:in `block (3 levels) in <main>'

  472) Advanced Search Performing advanced searches filters by space
       Got 0 failures and 2 other errors:

       472.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:133:in `block (3 levels) in <main>'

       472.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  473) Advanced Search Performing advanced searches filters by tags
       Got 0 failures and 2 other errors:

       473.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:145:in `block (3 levels) in <main>'

       473.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  474) Advanced Search Performing advanced searches sorts results
       Got 0 failures and 2 other errors:

       474.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:184:in `block (3 levels) in <main>'

       474.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  475) Advanced Search Performing advanced searches filters by date range
       Got 0 failures and 2 other errors:

       475.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:157:in `block (3 levels) in <main>'

       475.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  476) Advanced Search Performing advanced searches searches with text query
       Got 0 failures and 2 other errors:

       476.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:121:in `block (3 levels) in <main>'

       476.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  477) Advanced Search Performing advanced searches combines multiple filters
       Got 0 failures and 2 other errors:

       477.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:170:in `block (3 levels) in <main>'

       477.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  478) Advanced Search File type filtering filters by PDF files
       Got 0 failures and 2 other errors:

       478.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:218:in `block (3 levels) in <main>'

       478.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  479) Advanced Search File type filtering filters by Word files
       Got 0 failures and 2 other errors:

       479.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:229:in `block (3 levels) in <main>'

       479.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  480) Advanced Search Empty states shows no results message with applied filters
       Got 0 failures and 2 other errors:

       480.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:276:in `block (3 levels) in <main>'

       480.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  481) Advanced Search Advanced search form populates user dropdown
       Got 0 failures and 2 other errors:

       481.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:39:in `block (3 levels) in <main>'

       481.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  482) Advanced Search Advanced search form displays all filter options
       Got 0 failures and 2 other errors:

       482.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:39:in `block (3 levels) in <main>'

       482.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  483) Advanced Search Advanced search form populates space dropdown
       Got 0 failures and 2 other errors:

       483.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:39:in `block (3 levels) in <main>'

       483.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  484) Advanced Search Navigation to advanced search shows advanced search link when no results
       Got 0 failures and 2 other errors:

       484.1) Failure/Error:
                within('.bg-white.shadow.rounded-lg.p-6.text-center') do
                  expect(page).to have_link('Recherche avancée')
                end

              Capybara::ElementNotFound:
                Unable to find css ".bg-white.shadow.rounded-lg.p-6.text-center"
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `find'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:363:in `within'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `within_element'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rspec/matcher_proxies.rb:15:in `within'
              # ./spec/system/advanced_search_spec.rb:31:in `block (3 levels) in <main>'

       484.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  485) Advanced Search Navigation to advanced search provides link from regular search page
       Got 0 failures and 2 other errors:

       485.1) Failure/Error: click_link 'Recherche avancée'

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
              # ./spec/system/advanced_search_spec.rb:21:in `block (3 levels) in <main>'

       485.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  486) Advanced Search Help section displays search tips
       Got 0 failures and 2 other errors:

       486.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:288:in `block (3 levels) in <main>'

       486.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  487) Advanced Search Search result display allows modifying filters
       Got 0 failures and 2 other errors:

       487.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:244:in `block (3 levels) in <main>'

       487.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  488) Advanced Search Search result display allows resetting filters
       Got 0 failures and 2 other errors:

       488.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:244:in `block (3 levels) in <main>'

       488.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  489) Advanced Search Search result display shows advanced search indicator
       Got 0 failures and 2 other errors:

       489.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:244:in `block (3 levels) in <main>'

       489.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  490) Advanced Search Search result display maintains advanced filters form
       Got 0 failures and 2 other errors:

       490.1) Failure/Error: visit advanced_search_path

              Pundit::AuthorizationNotPerformedError:
                SearchController
              # /usr/local/bundle/gems/pundit-2.5.0/lib/pundit/authorization.rb:119:in `verify_authorized'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/advanced_search_spec.rb:244:in `block (3 levels) in <main>'

       490.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  491) SearchQuery validations is expected to validate that :query cannot be empty/falsy
       Failure/Error: it { should validate_presence_of(:query) }

       Shoulda::Matchers::ActiveModel::AllowValueMatcher::AttributeDoesNotExistError:
         The matcher attempted to set :query on the SearchQuery to nil, but that
         attribute does not exist.
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setter.rb:214:in `attribute_does_not_exist!'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setter.rb:78:in `set!'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setters_and_validators.rb:38:in `matches?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setters_and_validators.rb:24:in `each'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setters_and_validators.rb:24:in `detect'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher/attribute_setters_and_validators.rb:24:in `first_passing'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher.rb:581:in `public_send'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher.rb:581:in `run'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/allow_value_matcher.rb:437:in `does_not_match?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/disallow_value_matcher.rb:32:in `matches?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validation_matcher.rb:179:in `run_allow_or_disallow_matcher'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validation_matcher.rb:103:in `disallows_value_of'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_presence_of_matcher.rb:258:in `disallows_original_or_typecast_value?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_presence_of_matcher.rb:180:in `block in matches?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_presence_of_matcher.rb:179:in `all?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_presence_of_matcher.rb:179:in `matches?'
       # ./spec/models/search_query_spec.rb:11:in `block (3 levels) in <main>'

  492) SearchQuery validations validates query length
       Failure/Error: should validate_length_of(:query).is_at_least(1).is_at_most(500)

       NoMethodError:
         undefined method `query' for an instance of SearchQuery
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/rails_shim.rb:40:in `generate_validation_message'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/helpers.rb:24:in `default_error_message'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_length_of_matcher.rb:523:in `translated_short_message'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_length_of_matcher.rb:436:in `disallows_lower_length?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_length_of_matcher.rb:406:in `lower_bound_matches?'
       # /usr/local/bundle/gems/shoulda-matchers-6.5.0/lib/shoulda/matchers/active_model/validate_length_of_matcher.rb:384:in `matches?'
       # ./spec/models/search_query_spec.rb:15:in `block (3 levels) in <main>'

  493) SearchQuery validations is expected to validate that :user cannot be empty/falsy
       Failure/Error: it { should validate_presence_of(:user) }

         Expected SearchQuery to validate that :user cannot be empty/falsy, but
         this could not be proved.
           After setting :user to ‹nil›, the matcher expected the SearchQuery to
           be invalid and to produce the validation error "ne peut pas être vide"
           on :user. The record was indeed invalid, but it produced these
           validation errors instead:

           * user: ["doit exister"]
           * name: ["ne peut pas être vide"]

           You're getting this error because ActiveRecord is configured to add a
           presence validation to all `belongs_to` associations, and this
           includes yours. *This* presence validation doesn't use "can't be
           blank", the usual validation message, but "must exist" instead.

           With that said, did you know that the `belong_to` matcher can test
           this validation for you? Instead of using `validate_presence_of`, try
           the following instead:

               it { should belong_to(:user) }
       # ./spec/models/search_query_spec.rb:12:in `block (3 levels) in <main>'

  494) SearchQuery instance methods #normalized_query returns downcased and stripped query
       Failure/Error: let(:search_query) { create(:search_query, query: 'test query', user: user) }

       NoMethodError:
         undefined method `query=' for an instance of SearchQuery
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/models/search_query_spec.rb:44:in `block (3 levels) in <main>'
       # ./spec/models/search_query_spec.rb:48:in `block (4 levels) in <main>'

  495) SearchQuery scopes .recent returns queries from last 30 days
       Failure/Error: expect(SearchQuery.recent).not_to include(old_query)

         expected #<ActiveRecord::Relation [#<SearchQuery id: 940, user_id: 54872, name: "recherche test", query_params...at: "2025-06-08 06:08:25.653552000 +0200", updated_at: "2025-06-08 06:08:25.653552000 +0200">, ...]> not to include #<SearchQuery id: 941, user_id: 54872, name: "recherche test", query_params: {}, usage_count: 0, last...reated_at: "2025-05-10 00:26:49.772762000 +0200", updated_at: "2025-06-10 00:26:49.772981000 +0200">
         Diff:
         @@ -1 +1,117 @@
         -[#<SearchQuery id: 941, user_id: 54872, name: "recherche test", query_params: {}, usage_count: 0, last_used_at: nil, is_favorite: false, created_at: "2025-05-10 00:26:49.772762000 +0200", updated_at: "2025-06-10 00:26:49.772981000 +0200">]
         +[#<SearchQuery:0x0000ffff94e1d5e0
         +  id: 940,
         +  user_id: 54872,
         +  name: "recherche test",
         +  query_params: {},
         +  usage_count: 0,
         +  last_used_at: nil,
         +  is_favorite: false,
         +  created_at: Mon, 09 Jun 2025 00:26:49.769556000 CEST +02:00,
         +  updated_at: Tue, 10 Jun 2025 00:26:49.772272000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1d4a0
         +  id: 919,
         +  user_id: 984,
         +  name: "quia consectetur",
         +  query_params:
         +   {"q"=>"ipsum in",
         +    "filters"=>{"date_range"=>"last_week", "document_type"=>"xlsx"}},
         +  usage_count: 16,
         +  last_used_at: Sat, 24 May 2025 16:49:47.000000000 CEST +02:00,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.668440000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.668440000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1d0e0
         +  id: 918,
         +  user_id: 996,
         +  name: "est qui quia",
         +  query_params:
         +   {"q"=>"occaecati tempore ut",
         +    "filters"=>{"date_range"=>nil, "document_type"=>"pdf"}},
         +  usage_count: 27,
         +  last_used_at: nil,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.665505000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.665505000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1cfa0
         +  id: 917,
         +  user_id: 996,
         +  name: "itaque quo nesciunt",
         +  query_params:
         +   {"q"=>"amet", "filters"=>{"date_range"=>nil, "document_type"=>"docx"}},
         +  usage_count: 41,
         +  last_used_at: Tue, 13 May 2025 09:15:01.000000000 CEST +02:00,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.663790000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.663790000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1ce60
         +  id: 916,
         +  user_id: 996,
         +  name: "quia quis veritatis",
         +  query_params:
         +   {"q"=>"laudantium consequatur",
         +    "filters"=>{"date_range"=>nil, "document_type"=>"xlsx"}},
         +  usage_count: 21,
         +  last_used_at: nil,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.662053000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.662053000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1cd20
         +  id: 915,
         +  user_id: 958,
         +  name: "illum",
         +  query_params:
         +   {"q"=>"illum quaerat",
         +    "filters"=>{"date_range"=>"last_week", "document_type"=>"pdf"}},
         +  usage_count: 44,
         +  last_used_at: Fri, 06 Jun 2025 23:53:11.000000000 CEST +02:00,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.660370000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.660370000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1cbe0
         +  id: 914,
         +  user_id: 958,
         +  name: "harum quis ut",
         +  query_params:
         +   {"q"=>"cupiditate fugit quas",
         +    "filters"=>{"date_range"=>nil, "document_type"=>"pdf"}},
         +  usage_count: 44,
         +  last_used_at: Tue, 27 May 2025 22:01:39.000000000 CEST +02:00,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.658649000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.658649000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1c960
         +  id: 913,
         +  user_id: 958,
         +  name: "ut soluta",
         +  query_params:
         +   {"q"=>"aspernatur",
         +    "filters"=>{"date_range"=>"last_month", "document_type"=>"xlsx"}},
         +  usage_count: 31,
         +  last_used_at: Sat, 07 Jun 2025 07:16:02.000000000 CEST +02:00,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.656948000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.656948000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1c6e0
         +  id: 912,
         +  user_id: 963,
         +  name: "aliquam excepturi laboriosam",
         +  query_params:
         +   {"q"=>"dolor deserunt voluptas",
         +    "filters"=>{"date_range"=>"last_year", "document_type"=>"docx"}},
         +  usage_count: 3,
         +  last_used_at: nil,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.655235000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.655235000 CEST +02:00>,
         + #<SearchQuery:0x0000ffff94e1bf60
         +  id: 911,
         +  user_id: 963,
         +  name: "sunt",
         +  query_params:
         +   {"q"=>"rerum", "filters"=>{"date_range"=>nil, "document_type"=>nil}},
         +  usage_count: 35,
         +  last_used_at: nil,
         +  is_favorite: false,
         +  created_at: Sun, 08 Jun 2025 06:08:25.653552000 CEST +02:00,
         +  updated_at: Sun, 08 Jun 2025 06:08:25.653552000 CEST +02:00>,
         + "..."]
       # ./spec/models/search_query_spec.rb:26:in `block (4 levels) in <main>'

  496) SearchQuery scopes .popular returns most frequent queries
       Failure/Error: create_list(:search_query, 3, query: 'popular term', user: user)

       NoMethodError:
         undefined method `query=' for an instance of SearchQuery
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:42:in `block (2 levels) in define_list_strategy_method'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:40:in `initialize'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:40:in `new'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:40:in `block in define_list_strategy_method'
       # ./spec/models/search_query_spec.rb:32:in `block (4 levels) in <main>'

  497) SearchQuery callbacks normalizes query before save
       Failure/Error: query = SearchQuery.create!(query: '  TEST QUERY  ', user: user)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'query' for SearchQuery.
       # ./spec/models/search_query_spec.rb:56:in `block (3 levels) in <main>'

  498) API V1 Search GET /api/v1/search/suggestions provides search suggestions based on partial input
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:188:in `block (3 levels) in <main>'

  499) API V1 Search GET /api/v1/search/suggestions limits number of suggestions
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:227:in `block (3 levels) in <main>'

  500) API V1 Search GET /api/v1/search/suggestions includes recent searches
       Failure/Error: user.search_queries.create!(query: "urgent documents", performed_at: 1.hour.ago)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'query' for SearchQuery.
       # ./spec/requests/api/v1/search_spec.rb:213:in `block (3 levels) in <main>'

  501) API V1 Search GET /api/v1/search/suggestions includes tag suggestions
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:203:in `block (3 levels) in <main>'

  502) API V1 Search GET /api/v1/search/history returns search history
       Failure/Error:
         user.search_queries.create!([
           { query: "contract", performed_at: 1.hour.ago, results_count: 5 },
           { query: "invoice 2024", performed_at: 2.hours.ago, results_count: 3 },
           { query: "report", performed_at: 1.day.ago, results_count: 10 }
         ])

       ActiveModel::UnknownAttributeError:
         unknown attribute 'query' for SearchQuery.
       # ./spec/requests/api/v1/search_spec.rb:404:in `block (3 levels) in <main>'

  503) API V1 Search GET /api/v1/search/history clears search history
       Failure/Error:
         user.search_queries.create!([
           { query: "contract", performed_at: 1.hour.ago, results_count: 5 },
           { query: "invoice 2024", performed_at: 2.hours.ago, results_count: 3 },
           { query: "report", performed_at: 1.day.ago, results_count: 10 }
         ])

       ActiveModel::UnknownAttributeError:
         unknown attribute 'query' for SearchQuery.
       # ./spec/requests/api/v1/search_spec.rb:404:in `block (3 levels) in <main>'

  504) API V1 Search GET /api/v1/search/export exports with selected columns
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:380:in `block (3 levels) in <main>'

  505) API V1 Search GET /api/v1/search/export exports search results
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:362:in `block (3 levels) in <main>'

  506) API V1 Search GET /api/v1/search/export limits export size
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:394:in `block (3 levels) in <main>'

  507) API V1 Search GET /api/v1/search/saved executes a saved search
       Failure/Error:
         user.saved_searches.create!(
           name: "Important Docs",
           query: "urgent",
           filters: { tags: ["Urgent"] }
         )

       NoMethodError:
         undefined method `saved_searches' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:275:in `block (3 levels) in <main>'

  508) API V1 Search GET /api/v1/search/saved returns user's saved searches
       Failure/Error:
         user.saved_searches.create!(
           name: "Important Docs",
           query: "urgent",
           filters: { tags: ["Urgent"] }
         )

       NoMethodError:
         undefined method `saved_searches' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:275:in `block (3 levels) in <main>'

  509) API V1 Search GET /api/v1/search/facets returns search facets
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:329:in `block (3 levels) in <main>'

  510) API V1 Search GET /api/v1/search/facets updates facets based on current filters
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:347:in `block (3 levels) in <main>'

  511) API V1 Search GET /api/v1/search supports fuzzy search
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:84:in `block (3 levels) in <main>'

  512) API V1 Search GET /api/v1/search searches across multiple fields
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:66:in `block (3 levels) in <main>'

  513) API V1 Search GET /api/v1/search searches documents by title
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:54:in `block (3 levels) in <main>'

  514) API V1 Search GET /api/v1/search highlights matching terms
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:75:in `block (3 levels) in <main>'

  515) API V1 Search POST /api/v1/search/advanced filters by metadata conditions
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:161:in `block (3 levels) in <main>'

  516) API V1 Search POST /api/v1/search/advanced filters by tags with OR operator
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:146:in `block (3 levels) in <main>'

  517) API V1 Search POST /api/v1/search/advanced combines multiple filter conditions
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:179:in `block (3 levels) in <main>'

  518) API V1 Search POST /api/v1/search/advanced filters by tags with AND operator
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:131:in `block (3 levels) in <main>'

  519) API V1 Search POST /api/v1/search/advanced performs advanced multi-criteria search
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:114:in `block (3 levels) in <main>'

  520) API V1 Search POST /api/v1/search/save saves a search query
       Failure/Error:
         expect {
           post "/api/v1/search/save", params: save_params.to_json, headers: valid_headers
         }.to change { user.saved_searches.count }.by(1)

       NoMethodError:
         undefined method `saved_searches' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:252:in `block (4 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:250:in `block (3 levels) in <main>'

  521) API V1 Search POST /api/v1/search/save validates saved search parameters
       Failure/Error: "Authorization" => "Bearer #{user.authentication_token}",

       NoMethodError:
         undefined method `authentication_token' for an instance of User
       # ./spec/requests/api/v1/search_spec.rb:9:in `block (2 levels) in <main>'
       # ./spec/requests/api/v1/search_spec.rb:264:in `block (3 levels) in <main>'

  522) Document Bulk Operations Bulk deletion marks multiple documents for deletion
       Got 0 failures and 2 other errors:

       522.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:207:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       522.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  523) Document Bulk Operations Bulk compliance check checks compliance for multiple documents
       Got 0 failures and 2 other errors:

       523.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:275:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       523.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  524) Document Bulk Operations Bulk selection allows selecting multiple documents
       Got 0 failures and 2 other errors:

       524.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:29:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       524.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  525) Document Bulk Operations Bulk locking/unlocking locks multiple documents
       Got 0 failures and 2 other errors:

       525.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:135:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       525.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  526) Document Bulk Operations Bulk locking/unlocking unlocks multiple documents
       Got 0 failures and 2 other errors:

       526.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:162:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       526.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  527) Document Bulk Operations Bulk download downloads multiple documents as a zip file
       Got 0 failures and 2 other errors:

       527.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:230:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       527.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  528) Document Bulk Operations Bulk archiving archives multiple documents
       Got 0 failures and 2 other errors:

       528.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:180:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       528.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  529) Document Bulk Operations Bulk moving moves multiple documents to another folder
       Got 0 failures and 2 other errors:

       529.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:106:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       529.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  530) Document Bulk Operations Permission checks restricts bulk actions based on permissions
       Got 0 failures and 2 other errors:

       530.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:308:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       530.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  531) Document Bulk Operations Error handling handles partial failures gracefully
       Got 0 failures and 2 other errors:

       531.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:329:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       531.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  532) Document Bulk Operations Bulk AI classification triggers AI classification for multiple documents
       Got 0 failures and 2 other errors:

       532.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:249:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       532.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  533) Document Bulk Operations Bulk tagging adds tags to multiple documents
       Got 0 failures and 2 other errors:

       533.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:52:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       533.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  534) Document Bulk Operations Bulk tagging removes tags from multiple documents
       Got 0 failures and 2 other errors:

       534.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:101:in `block in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # ./app/views/ged/show_folder.html.erb:99:in `_app_views_ged_show_folder_html_erb___1619847426823374183_251480'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_bulk_operations_spec.rb:81:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_folder.html.erb:113:in `block (2 levels) in _app_views_ged_show_folder_html_erb___1619847426823374183_251480'

       534.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  535) User Management Admin access displays users in the navigation
       Got 1 failure and 1 other error:

       535.1) Failure/Error: expect(page).to have_link('Utilisateurs')
                expected to find link "Utilisateurs" but there were no matches
              # ./spec/system/user_management_spec.rb:16:in `block (3 levels) in <main>'

       535.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  536) User Management Admin access allows editing a user
       Got 0 failures and 2 other errors:

       536.1) Failure/Error: <% end.with_item(label: "Date de création", value: l(@user.created_at, format: :long))

              ActionView::Template::Error:
                undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              # ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/users/show.html.erb:1:in `_app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/user_management_spec.rb:79:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              #   ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'

       536.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  537) User Management Admin access validates user creation
       Got 1 failure and 1 other error:

       537.1) Failure/Error: expect(page).to have_content('empêchent l\'enregistrement')
                expected to find text "empêchent l'enregistrement" in "Vous êtes déjà connecté(e). Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche Utilisateurs Groupes </div> Voir les notifications Ouvrir le menu utilisateur C Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Utilisateurs Groupes Bienvenue sur Docusphere Votre système de gestion électronique de documents collaboratif Bonjour Clarisse Bourgeois ! Choisissez votre espace de travail : Gestion Électronique de Documents Gérez vos documents, espaces de travail et collaborez avec votre équipe. Accéder à la GED Promotion Immobilière Gérez vos projets immobiliers, phases, tâches et suivez l'avancement. Accéder aux Projets Gestion des documents Stockez, organisez et partagez vos documents en toute sécurité Collaboration Travaillez en équipe avec des workflows et des espaces partagés Recherche avancée Trouvez rapidement vos documents grâce à la recherche intelligente Formats supportés : PDF, Word, Excel, PowerPoint, Images, Audio, Vidéo, Email, ZIP"
              # ./spec/system/user_management_spec.rb:70:in `block (3 levels) in <main>'

       537.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  538) User Management Admin access allows deleting a user
       Got 0 failures and 2 other errors:

       538.1) Failure/Error: <% end.with_item(label: "Date de création", value: l(@user.created_at, format: :long))

              ActionView::Template::Error:
                undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              # ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/users/show.html.erb:1:in `_app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/user_management_spec.rb:96:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              #   ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'

       538.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  539) User Management Admin access prevents deleting own account
       Got 0 failures and 2 other errors:

       539.1) Failure/Error: <% end.with_item(label: "Date de création", value: l(@user.created_at, format: :long))

              ActionView::Template::Error:
                undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              # ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/users/show.html.erb:1:in `_app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/user_management_spec.rb:108:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              #   ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'

       539.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  540) User Management Admin access allows creating a new user
       Got 1 failure and 1 other error:

       540.1) Failure/Error: expect(page).to have_content('Utilisateur créé avec succès')
                expected to find text "Utilisateur créé avec succès" in "Vous êtes déjà connecté(e). Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche Utilisateurs Groupes </div> Voir les notifications Ouvrir le menu utilisateur V Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Utilisateurs Groupes Bienvenue sur Docusphere Votre système de gestion électronique de documents collaboratif Bonjour Victor Barthelemy ! Choisissez votre espace de travail : Gestion Électronique de Documents Gérez vos documents, espaces de travail et collaborez avec votre équipe. Accéder à la GED Promotion Immobilière Gérez vos projets immobiliers, phases, tâches et suivez l'avancement. Accéder aux Projets Gestion des documents Stockez, organisez et partagez vos documents en toute sécurité Collaboration Travaillez en équipe avec des workflows et des espaces partagés Recherche avancée Trouvez rapidement vos documents grâce à la recherche intelligente Formats supportés : PDF, Word, Excel, PowerPoint, Images, Audio, Vidéo, Email, ZIP"
              # ./spec/system/user_management_spec.rb:59:in `block (3 levels) in <main>'

       540.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  541) User Management User groups management allows creating a new group
       Got 0 failures and 2 other errors:

       541.1) Failure/Error:
                def page_header(title:, description: nil, &block)
                  render Layout::PageHeaderComponent.new(title: title, description: description), &block
                end

              ActionView::Template::Error:
                unknown keyword: :show_actions
              # ./app/helpers/components_helper.rb:7:in `page_header'
              # ./app/views/user_groups/new.html.erb:3:in `block in _app_views_user_groups_new_html_erb__4597152572698938246_100160'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/helpers/components_helper.rb:4:in `page_wrapper'
              # ./app/views/user_groups/new.html.erb:1:in `_app_views_user_groups_new_html_erb__4597152572698938246_100160'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:51:in `follow'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:245:in `follow_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:66:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/node.rb:131:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:172:in `block in click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `block in perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:608:in `perform_click_action'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/element.rb:171:in `click'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:42:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_link'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_link'
              # ./spec/system/user_management_spec.rb:164:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   unknown keyword: :show_actions
              #   ./app/helpers/components_helper.rb:7:in `page_header'

       541.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  542) User Management User groups management allows removing members from a group
       Got 0 failures and 2 other errors:

       542.1) Failure/Error:
                accept_confirm do
                  click_link 'Retirer'
                end

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#accept_modal
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:139:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:850:in `accept_modal'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:670:in `accept_confirm'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `accept_confirm'
              # ./spec/system/user_management_spec.rb:201:in `block (3 levels) in <main>'

       542.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  543) User Management User groups management allows editing group permissions
       Got 0 failures and 2 other errors:

       543.1) Failure/Error:
                def page_header(title:, description: nil, &block)
                  render Layout::PageHeaderComponent.new(title: title, description: description), &block
                end

              ActionView::Template::Error:
                unknown keyword: :show_actions
              # ./app/helpers/components_helper.rb:7:in `page_header'
              # ./app/views/user_groups/edit.html.erb:3:in `block in _app_views_user_groups_edit_html_erb__1011490095911299127_100180'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/helpers/components_helper.rb:4:in `page_wrapper'
              # ./app/views/user_groups/edit.html.erb:1:in `_app_views_user_groups_edit_html_erb__1011490095911299127_100180'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/user_management_spec.rb:210:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   unknown keyword: :show_actions
              #   ./app/helpers/components_helper.rb:7:in `page_header'

       543.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  544) User Management User profile display shows user details and groups
       Got 0 failures and 2 other errors:

       544.1) Failure/Error: <% end.with_item(label: "Date de création", value: l(@user.created_at, format: :long))

              ActionView::Template::Error:
                undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              # ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
              # ./app/components/layout/page_wrapper_component.html.erb:8:in `call'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
              # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
              # ./app/views/users/show.html.erb:1:in `_app_views_users_show_html_erb___2771732333055371239_164220'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/user_management_spec.rb:241:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `with_item' for an instance of ActiveSupport::SafeBuffer
              #   ./app/views/users/show.html.erb:52:in `block in _app_views_users_show_html_erb___2771732333055371239_164220'

       544.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  545) Document Validation System Validation workflow allows validators to reject documents
       Got 1 failure and 1 other error:

       545.1) Failure/Error: expect(page).to have_content('Un commentaire est requis')
                expected to find text "Un commentaire est requis" in "Demande de validation Document: Laborum accusamus est Retour au document Aperçu du document Aperçu non disponible Télécharger le document Progression de la validation 0 / 1 validations requises 0.0% Emma Marie En attente Roch Joly En attente Votre décision Commentaire Approuver Refuser Informations Demandé par Matthias Mathieu Date de demande 10 juin 2025 à 00:26 Statut En cours Métadonnées du document Type application/pdf Taille 21 octets Uploadé par Matthias Mathieu Date d'upload 10 juin 00:26". (However, it was found 1 time including non-visible text.)
              # ./spec/system/document_validation_system_spec.rb:98:in `block (3 levels) in <main>'

       545.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  546) Document Validation System Validation workflow allows validators to approve documents
       Got 0 failures and 2 other errors:

       546.1) Failure/Error: visit ged_document_validations_path

              ActionController::UrlGenerationError:
                No route matches {:action=>"index", :controller=>"document_validations"}, missing required keys: [:document_id]
              # ./spec/system/document_validation_system_spec.rb:71:in `block (3 levels) in <main>'

       546.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  547) Document Validation System Validation workflow shows validation progress to requester
       Got 1 failure and 1 other error:

       547.1) Failure/Error: expect(page).to have_content('Validation approuvée')
                expected to find text "Validation approuvée" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur A Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Home GED Sales 700 Dolorum dolorem sed Retour Dolorum dolorem sed Par Ancelin Carlier Créé le 10 juin 2025 à 00:26 Modifié le 10 juin 2025 à 00:26 Draft Description Tempora qui iure. Rerum quod ut. Sunt consectetur quod. Informations du fichier Nom du fichier test_document.pdf Type de document pdf Taille 21 octets Type MIME application/pdf Actions Télécharger Prévisualiser Publier Verrouiller Modifier Ajouter à la bannette Emplacement Espace Sales 700 Dossier Racine de l'espace Chemin complet Sales 700 Format supporté Oui Ajouter à une bannette Vous n'avez pas encore de bannette. Créer une nouvelle bannette Fermer Verrouiller le document Raison du verrouillage Optionnel - Expliquez pourquoi vous verrouillez ce document Déverrouillage automatique Optionnel - Date et heure de déverrouillage automatique Annuler"
              # ./spec/system/document_validation_system_spec.rb:115:in `block (3 levels) in <main>'

       547.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  548) Document Validation System Validation notifications sends notifications throughout the validation process
       Got 0 failures and 2 other errors:

       548.1) Failure/Error:
                def initialize(name:, size: 5, css_class: nil, viewbox: '0 0 24 24', stroke_width: 2)
                  @name = name.to_sym
                  @size = size
                  @css_class = css_class
                  @viewbox = viewbox
                  @stroke_width = stroke_width
                end

              ActionView::Template::Error:
                unknown keyword: :classes
              # ./app/components/ui/icon_component.rb:114:in `initialize'
              # ./app/views/notifications/index.html.erb:30:in `new'
              # ./app/views/notifications/index.html.erb:30:in `_app_views_notifications_index_html_erb___351513061281283306_564120'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_validation_system_spec.rb:298:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # ArgumentError:
              #   unknown keyword: :classes
              #   ./app/components/ui/icon_component.rb:114:in `initialize'

       548.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  549) Document Validation System Document versioning allows creating and managing document versions
       Got 0 failures and 2 other errors:

       549.1) Failure/Error: click_button 'Nouvelle version'

              Capybara::ElementNotFound:
                Unable to find button "Nouvelle version" that is not disabled
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
              # ./spec/system/document_validation_system_spec.rb:256:in `block (3 levels) in <main>'

       549.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  550) Document Validation System AI classification integration automatically classifies documents on upload
       Failure/Error: click_button 'Nouveau document'

       Capybara::ElementNotFound:
         Unable to find button "Nouveau document" that is not disabled

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_document_validation_system_ai_classification_integration_automatically_classifies_documents_on_upload_250.png


       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
       # ./spec/system/document_validation_system_spec.rb:193:in `block (3 levels) in <main>'

  551) Document Validation System Document upload and validation request allows a user to upload a document and request validation
       Got 0 failures and 2 other errors:

       551.1) Failure/Error: click_button 'Nouveau document'

              Capybara::ElementNotFound:
                Unable to find button "Nouveau document" that is not disabled
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:312:in `block in synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/base.rb:84:in `synchronize'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:301:in `synced_resolve'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/finders.rb:60:in `find'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/node/actions.rb:58:in `click_button'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:774:in `click_button'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `click_button'
              # ./spec/system/document_validation_system_spec.rb:24:in `block (3 levels) in <main>'

       551.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  552) Document Validation System Compliance checking shows compliance warnings for non-compliant documents
       Got 0 failures and 2 other errors:

       552.1) Failure/Error: @document.tags << Tag.find_or_create_by(name: 'compliance:compliant')

              ActiveRecord::RecordInvalid:
                La validation a échoué : Organization doit exister
              # ./app/services/regulatory_compliance_service.rb:392:in `store_compliance_results'
              # ./app/services/regulatory_compliance_service.rb:136:in `check_compliance'
              # ./app/services/regulatory_compliance_service.rb:148:in `check_document_compliance'
              # ./spec/system/document_validation_system_spec.rb:232:in `block (3 levels) in <main>'

       552.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  553) Document Validation System Document locking during validation prevents editing locked documents during validation
       Got 1 failure and 1 other error:

       553.1) Failure/Error: expect(page).to have_content('Document verrouillé')
                expected to find text "Document verrouillé" in "Docusphere Docusphere Tableau de bord GED Bannettes Tags Recherche </div> Voir les notifications Ouvrir le menu utilisateur N Mon profil Notifications Paramètres Déconnexion Ouvrir le menu principal </div> Tableau de bord GED Bannettes Tags Recherche Home GED Corporate Communications 706 Repellat dolore architecto Retour Repellat dolore architecto Par Noélie Prévost Créé le 10 juin 2025 à 00:27 Modifié le 10 juin 2025 à 00:27 Draft Description Minima ut ad. Et aut ea. Quod ut repellendus. Informations du fichier Nom du fichier test_document.pdf Type de document pdf Taille 21 octets Type MIME application/pdf Actions Télécharger Prévisualiser Publier Verrouiller Modifier Ajouter à la bannette Emplacement Espace Corporate Communications 706 Dossier Racine de l'espace Chemin complet Corporate Communications 706 Format supporté Oui Ajouter à une bannette Vous n'avez pas encore de bannette. Créer une nouvelle bannette Fermer Verrouiller le document Raison du verrouillage Optionnel - Expliquez pourquoi vous verrouillez ce document Déverrouillage automatique Optionnel - Date et heure de déverrouillage automatique Annuler"
              # ./spec/system/document_validation_system_spec.rb:172:in `block (3 levels) in <main>'

       553.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  554) Document Validation System Bulk validation operations allows requesting validation for multiple documents
       Got 0 failures and 2 other errors:

       554.1) Failure/Error: Par <%= document.user.display_name %>

              ActionView::Template::Error:
                undefined method `user' for an instance of Document
              # ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
              # ./app/views/ged/show_space.html.erb:121:in `block in _app_views_ged_show_space_html_erb__1739103659241748131_141040'
              # ./app/views/ged/show_space.html.erb:119:in `_app_views_ged_show_space_html_erb__1739103659241748131_141040'
              # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
              # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
              # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
              # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
              # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
              # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
              # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
              # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
              # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:360:in `process_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:163:in `custom_request'
              # /usr/local/bundle/gems/rack-test-2.2.0/lib/rack/test.rb:112:in `get'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:81:in `process'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:56:in `process_and_follow_redirects'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/browser.rb:26:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/rack_test/driver.rb:46:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:281:in `visit'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `call'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/dsl.rb:52:in `visit'
              # ./spec/system/document_validation_system_spec.rb:136:in `block (3 levels) in <main>'
              # ------------------
              # --- Caused by: ---
              # NoMethodError:
              #   undefined method `user' for an instance of Document
              #   ./app/views/ged/show_space.html.erb:133:in `block (2 levels) in _app_views_ged_show_space_html_erb__1739103659241748131_141040'

       554.2) Failure/Error: screenshot_path = page.save_screenshot("failure_#{timestamp}.png")

              Capybara::NotSupportedByDriverError:
                Capybara::Driver::Base#save_screenshot
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/driver/base.rb:51:in `save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `block in save_screenshot'
              # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/session.rb:748:in `save_screenshot'
              # ./spec/support/capybara.rb:91:in `block (2 levels) in <main>'

  555) Demo Smoke Test Login and Navigation can login successfully
       Failure/Error: expect(page).to have_content("Connexion réussie")
         expected to find text "Connexion réussie" in "Email ou mot de passe incorrect. Connexion à Docusphere Accédez à votre espace documentaire Adresse email Mot de passe Se souvenir de moi Mot de passe oublié ? Créer un compte"

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_login_and_navigation_can_login_successfully_425.png


       # ./spec/system/demo_smoke_test_spec.rb:30:in `block (3 levels) in <main>'

  556) Demo Smoke Test UI Components displays modern UI components
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_ui_components_displays_modern_ui_components_246.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  557) Demo Smoke Test Document Upload can upload a document
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_document_upload_can_upload_a_document_550.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  558) Demo Smoke Test ImmoPromo Access can create a project
       Failure/Error: <%= render Immo::Promo::NavbarComponent.new(

       ActionView::Template::Error:
         No route matches {:action=>"show", :controller=>"immo/promo/projects", :id=>#<Immo::Promo::Project id: nil, name: nil, slug: nil, description: nil, organization_id: 60, project_manager_id: nil, reference_number: nil, project_type: nil, status: "planning", address: nil, city: nil, postal_code: nil, country: nil, latitude: nil, longitude: nil, total_area: nil, land_area: nil, buildable_surface_area: nil, total_units: nil, start_date: nil, expected_completion_date: nil, actual_end_date: nil, building_permit_number: nil, total_budget_cents: nil, current_budget_cents: nil, metadata: {}, created_at: nil, updated_at: nil>}, possible unmatched constraints: [:id]

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_immo_promo_access_can_create_a_project_389.png


       # ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.rb:23:in `project_path'
       # ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.html.erb:10:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./engines/immo_promo/app/components/immo/promo/navbar_component.html.erb:10:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/layouts/immo_promo.html.erb:24:in `_app_views_layouts_immo_promo_html_erb___1734004488079686745_240500'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `public_send'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/railtie.rb:226:in `method_missing'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ActionController::UrlGenerationError:
       #   No route matches {:action=>"show", :controller=>"immo/promo/projects", :id=>#<Immo::Promo::Project id: nil, name: nil, slug: nil, description: nil, organization_id: 60, project_manager_id: nil, reference_number: nil, project_type: nil, status: "planning", address: nil, city: nil, postal_code: nil, country: nil, latitude: nil, longitude: nil, total_area: nil, land_area: nil, buildable_surface_area: nil, total_units: nil, start_date: nil, expected_completion_date: nil, actual_end_date: nil, building_permit_number: nil, total_budget_cents: nil, current_budget_cents: nil, metadata: {}, created_at: nil, updated_at: nil>}, possible unmatched constraints: [:id]
       #   ./engines/immo_promo/app/components/immo/promo/navbar/navigation_component.rb:23:in `project_path'

  559) Demo Smoke Test GED Basic Operations can access GED dashboard
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_ged_basic_operations_can_access_ged_dashboard_700.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  560) Demo Smoke Test GED Basic Operations can create a space
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_demo_smoke_test_ged_basic_operations_can_create_a_space_745.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  561) Notification class methods .notify_user creates a notification for user
       Failure/Error: let(:document) { create(:document, organization: organization, uploaded_by: user) }

       NoMethodError:
         undefined method `organization=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/models/notification_spec.rb:6:in `block (2 levels) in <main>'
       # ./spec/models/notification_spec.rb:189:in `block (5 levels) in <main>'
       # ./spec/models/notification_spec.rb:183:in `block (4 levels) in <main>'

  562) Document Management User deletes a document
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff8c57ad78>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  563) Document Management User edits document metadata
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff8d5c0160>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  564) Document Management User searches documents by title
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff8d72dc00>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  565) Document Management User moves document to another folder
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff94f1cef0>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  566) Document Management User exports document list
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff94ff2c80>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  567) Document Management User creates a new version of document
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff953abc28>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  568) Document Management User filters documents by date
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff954d0c98>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  569) Document Management User views document activity log
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff955e0f20>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  570) Document Management User uploads a new document
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff95961690>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  571) Document Management User manages document permissions
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff95afb870>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  572) Document Management User downloads a document
       Failure/Error: login_as(user, scope: :user)

       NoMethodError:
         undefined method `login_as' for #<RSpec::ExampleGroups::DocumentManagement:0x0000ffff95fcc138>
       # ./spec/features/document_management_spec.rb:9:in `block (2 levels) in <main>'

  573) NotificationService.notify_validation_requested creates correct notification content
       Failure/Error: let(:document) { create(:document, organization: organization, uploaded_by: user) }

       NoMethodError:
         undefined method `organization=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/services/notification_service_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:13:in `block (3 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:23:in `block (3 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  574) NotificationService.notify_validation_requested creates notifications for all validators
       Failure/Error: let(:document) { create(:document, organization: organization, uploaded_by: user) }

       NoMethodError:
         undefined method `organization=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/services/notification_service_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:13:in `block (3 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:18:in `block (4 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:17:in `block (3 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  575) NotificationService.notification_stats_for_user returns comprehensive stats
       Failure/Error: expect(stats[:today]).to eq(1)

         expected: 1
              got: 3

         (compared using ==)
       # ./spec/services/notification_service_spec.rb:209:in `block (3 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  576) NotificationService.notify_document_shared creates notification for shared user
       Failure/Error: let(:document) { create(:document, organization: organization, uploaded_by: user) }

       NoMethodError:
         undefined method `organization=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/services/notification_service_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:35:in `block (4 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:34:in `block (3 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  577) NotificationService.notify_document_shared creates correct notification
       Failure/Error: let(:document) { create(:document, organization: organization, uploaded_by: user) }

       NoMethodError:
         undefined method `organization=' for an instance of Document
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/services/notification_service_spec.rb:7:in `block (2 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:40:in `block (3 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  578) NotificationService ImmoPromo notifications .notify_budget_exceeded creates urgent notification
       Failure/Error:
         create!(
           user: user,
           notification_type: type,
           title: title,
           message: message,
           notifiable: notifiable,
           data: data
         )

       NoMethodError:
         undefined method `has_query_constraints?' for class RSpec::Mocks::Double
       # ./app/models/notification.rb:174:in `notify_user'
       # ./app/services/notification_service.rb:457:in `block in notify_budget_exceeded'
       # ./app/services/notification_service.rb:456:in `each'
       # ./app/services/notification_service.rb:456:in `notify_budget_exceeded'
       # ./spec/services/notification_service_spec.rb:259:in `block (4 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  579) NotificationService ImmoPromo notifications .notify_budget_exceeded creates notifications for project stakeholders
       Failure/Error:
         create!(
           user: user,
           notification_type: type,
           title: title,
           message: message,
           notifiable: notifiable,
           data: data
         )

       NoMethodError:
         undefined method `has_query_constraints?' for class RSpec::Mocks::Double
       # ./app/models/notification.rb:174:in `notify_user'
       # ./app/services/notification_service.rb:457:in `block in notify_budget_exceeded'
       # ./app/services/notification_service.rb:456:in `each'
       # ./app/services/notification_service.rb:456:in `notify_budget_exceeded'
       # ./spec/services/notification_service_spec.rb:254:in `block (5 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:253:in `block (4 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  580) NotificationService ImmoPromo notifications .notify_project_created creates notifications for stakeholders
       Failure/Error:
         create!(
           user: user,
           notification_type: type,
           title: title,
           message: message,
           notifiable: notifiable,
           data: data
         )

       NoMethodError:
         undefined method `has_query_constraints?' for class RSpec::Mocks::Double
       # ./app/models/notification.rb:174:in `notify_user'
       # ./app/services/notification_service.rb:146:in `block in notify_project_created'
       # ./app/services/notification_service.rb:145:in `each'
       # ./app/services/notification_service.rb:145:in `notify_project_created'
       # ./spec/services/notification_service_spec.rb:224:in `block (5 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:223:in `block (4 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  581) NotificationService ImmoPromo notifications .notify_stakeholder_assigned creates notification for assigned stakeholder
       Failure/Error: stakeholder_id: stakeholder.id,
         #<Double "Stakeholder"> received unexpected message :id with (no args)
       # ./app/services/notification_service.rb:295:in `notify_stakeholder_assigned'
       # ./spec/services/notification_service_spec.rb:232:in `block (5 levels) in <main>'
       # ./spec/services/notification_service_spec.rb:231:in `block (4 levels) in <main>'
       # ./spec/rails_helper.rb:44:in `block (3 levels) in <top (required)>'
       # ./spec/rails_helper.rb:43:in `block (2 levels) in <top (required)>'

  582) MetadataTemplate scopes .active returns only active templates
       Failure/Error: let!(:active_template) { create(:metadata_template, active: true, organization: organization) }

       NoMethodError:
         undefined method `active=' for an instance of MetadataTemplate
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `public_send'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:16:in `block (2 levels) in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `each'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:15:in `block in object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/attribute_assigner.rb:14:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/evaluation.rb:10:in `object'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy/create.rb:9:in `result'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory.rb:47:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:29:in `block in run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/factory_runner.rb:28:in `run'
       # /usr/local/bundle/gems/factory_bot-6.5.3/lib/factory_bot/strategy_syntax_method_registrar.rb:28:in `block in define_singular_strategy_method'
       # ./spec/models/metadata_template_spec.rb:23:in `block (3 levels) in <main>'

  583) MetadataTemplate validations is expected to validate that :organization cannot be empty/falsy
       Failure/Error: it { should validate_presence_of(:organization) }

         Expected MetadataTemplate to validate that :organization cannot be
         empty/falsy, but this could not be proved.
           After setting :organization to ‹nil›, the matcher expected the
           MetadataTemplate to be invalid and to produce the validation error "ne
           peut pas être vide" on :organization. The record was indeed invalid,
           but it produced these validation errors instead:

           * organization: ["doit exister"]
           * name: ["ne peut pas être vide"]

           You're getting this error because ActiveRecord is configured to add a
           presence validation to all `belongs_to` associations, and this
           includes yours. *This* presence validation doesn't use "can't be
           blank", the usual validation message, but "must exist" instead.

           With that said, did you know that the `belong_to` matcher can test
           this validation for you? Instead of using `validate_presence_of`, try
           the following instead:

               it { should belong_to(:organization) }
       # ./spec/models/metadata_template_spec.rb:14:in `block (3 levels) in <main>'

  584) MetadataTemplate instance methods #activate! sets active to true
       Failure/Error: template.update(active: false)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'active' for MetadataTemplate.
       # ./spec/models/metadata_template_spec.rb:39:in `block (4 levels) in <main>'

  585) MetadataTemplate instance methods #deactivate! sets active to false
       Failure/Error: template.update(active: true)

       ActiveModel::UnknownAttributeError:
         unknown attribute 'active' for MetadataTemplate.
       # ./spec/models/metadata_template_spec.rb:47:in `block (4 levels) in <main>'

  586) MetadataTemplate instance methods #field_names returns array of field names
       Failure/Error: expect(template.field_names).to contain_exactly('Field 1', 'Field 2')

       NoMethodError:
         undefined method `field_names' for an instance of MetadataTemplate
       # ./spec/models/metadata_template_spec.rb:58:in `block (4 levels) in <main>'

  587) MetadataTemplate associations is expected to have many documents
       Failure/Error: it { should have_many(:documents) }
         Expected MetadataTemplate to have a has_many association called documents (no association called documents)
       # ./spec/models/metadata_template_spec.rb:9:in `block (3 levels) in <main>'

  588) Layout::PageWrapperComponent renders with navbar by default
       Failure/Error: if helpers.current_user&.has_permission?('immo_promo:access')

       Devise::MissingWarden:
         Devise could not find the `Warden::Proxy` instance on your request environment.
         Make sure that your application is loading Devise and Warden as expected and that the `Warden::Manager` middleware is present in your middleware stack.
         If you are seeing this on one of your tests, ensure that your tests are either executing the Rails middleware stack or that your tests are using the `Devise::Test::ControllerHelpers` module to inject the `request.env['warden']` object for you.
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:145:in `warden'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:128:in `current_user'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:138:in `current_user'
       # ./app/components/navigation/navbar_component.rb:25:in `navigation_items'
       # ./app/components/navigation/navbar_component.html.erb:13:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/layout/page_wrapper_component.html.erb:3:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/layout/page_wrapper_component_spec.rb:13:in `block (2 levels) in <main>'

  589) Layout::PageWrapperComponent renders with default max width
       Failure/Error: if helpers.current_user&.has_permission?('immo_promo:access')

       Devise::MissingWarden:
         Devise could not find the `Warden::Proxy` instance on your request environment.
         Make sure that your application is loading Devise and Warden as expected and that the `Warden::Manager` middleware is present in your middleware stack.
         If you are seeing this on one of your tests, ensure that your tests are either executing the Rails middleware stack or that your tests are using the `Devise::Test::ControllerHelpers` module to inject the `request.env['warden']` object for you.
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:145:in `warden'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:128:in `current_user'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:138:in `current_user'
       # ./app/components/navigation/navbar_component.rb:25:in `navigation_items'
       # ./app/components/navigation/navbar_component.html.erb:13:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/layout/page_wrapper_component.html.erb:3:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/layout/page_wrapper_component_spec.rb:32:in `block (2 levels) in <main>'

  590) Layout::PageWrapperComponent renders with custom max width
       Failure/Error: if helpers.current_user&.has_permission?('immo_promo:access')

       Devise::MissingWarden:
         Devise could not find the `Warden::Proxy` instance on your request environment.
         Make sure that your application is loading Devise and Warden as expected and that the `Warden::Manager` middleware is present in your middleware stack.
         If you are seeing this on one of your tests, ensure that your tests are either executing the Rails middleware stack or that your tests are using the `Devise::Test::ControllerHelpers` module to inject the `request.env['warden']` object for you.
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:145:in `warden'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:128:in `current_user'
       # /usr/local/bundle/gems/devise-4.9.4/lib/devise/controllers/helpers.rb:138:in `current_user'
       # ./app/components/navigation/navbar_component.rb:25:in `navigation_items'
       # ./app/components/navigation/navbar_component.html.erb:13:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:215:in `render'
       # ./app/components/layout/page_wrapper_component.html.erb:3:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/test_helpers.rb:54:in `render_inline'
       # ./spec/components/layout/page_wrapper_component_spec.rb:40:in `block (2 levels) in <main>'

  591) Search Autocomplete search bar in navbar highlights matching text in suggestions
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_highlights_matching_text_in_suggestions_133.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  592) Search Autocomplete search bar in navbar supports keyboard navigation
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_supports_keyboard_navigation_752.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  593) Search Autocomplete search bar in navbar shows suggestions when typing
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_shows_suggestions_when_typing_131.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  594) Search Autocomplete search bar in navbar hides suggestions when clicking outside
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_hides_suggestions_when_clicking_outside_591.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  595) Search Autocomplete search bar in navbar shows search input in navbar
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_shows_search_input_in_navbar_574.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  596) Search Autocomplete search bar in navbar navigates to document when clicking suggestion
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_navigates_to_document_when_clicking_suggestion_490.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

  597) Search Autocomplete search bar in navbar submits search form on Enter
       Failure/Error:
         renders_many :actions, lambda { |item, **options, &block|
           content_tag(:div, class: "flex items-center space-x-2") do
             block.call(item)
           end
         }

       ActionView::Template::Error:
         wrong number of arguments (given 0, expected 1)

       [Screenshot Image]: /app/tmp/screenshots/failures_r_spec_example_groups_search_autocomplete_search_bar_in_navbar_submits_search_form_on_enter_463.png


       # ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:403:in `set_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:159:in `block in renders_many'
       # ./app/views/ged/dashboard.html.erb:231:in `block (2 levels) in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:180:in `block in renders_many'
       # ./app/components/ui/data_grid_component.html.erb:14:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:178:in `block in _app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:308:in `content'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:359:in `get_slot'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/slotable.rb:97:in `block in renders_one'
       # ./app/components/ui/card_component.rb:102:in `with_header?'
       # ./app/components/ui/card_component.html.erb:5:in `block in call'
       # ./app/components/ui/card_component.html.erb:1:in `call'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/compiler.rb:98:in `render_template_for'
       # /usr/local/bundle/gems/view_component-3.23.2/lib/view_component/base.rb:116:in `render_in'
       # ./app/views/ged/dashboard.html.erb:177:in `_app_views_ged_dashboard_html_erb__440227797624550687_249140'
       # /usr/local/bundle/gems/benchmark-0.4.1/lib/benchmark.rb:324:in `realtime'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:20:in `cleanup_view_runtime'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/lib/turbo-rails.rb:24:in `with_request_id'
       # /usr/local/bundle/gems/turbo-rails-2.0.16/app/controllers/concerns/turbo/request_id_tracking.rb:10:in `turbo_tracking_request_id'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/audited-5.8.0/lib/audited/sweeper.rb:16:in `around'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/rendering.rb:23:in `with_renderer'
       # /usr/local/bundle/gems/actiontext-7.1.5.1/lib/action_text/engine.rb:69:in `block (4 levels) in <class:Engine>'
       # /usr/local/bundle/gems/searchkick-5.5.2/lib/searchkick/controller_runtime.rb:15:in `process_action'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:36:in `block in call'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `catch'
       # /usr/local/bundle/gems/warden-1.2.9/lib/warden/manager.rb:34:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/tempfile_reaper.rb:20:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/etag.rb:29:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/conditional_get.rb:31:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/head.rb:15:in `call'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:274:in `context'
       # /usr/local/bundle/gems/rack-session-2.1.1/lib/rack/session/abstract/id.rb:268:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:37:in `call_app'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `block in call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/rack/logger.rb:24:in `call'
       # /usr/local/bundle/gems/request_store-1.7.0/lib/request_store/middleware.rb:19:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/method_override.rb:28:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/runtime.rb:24:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/sendfile.rb:114:in `call'
       # /usr/local/bundle/gems/railties-7.1.5.1/lib/rails/engine.rb:536:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:76:in `block in call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `each'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/urlmap.rb:60:in `call'
       # /usr/local/bundle/gems/rack-3.1.16/lib/rack/builder.rb:277:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/animation_disabler.rb:25:in `call'
       # /usr/local/bundle/gems/capybara-3.40.0/lib/capybara/server/middleware.rb:60:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/configuration.rb:279:in `call'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:99:in `block in handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:390:in `with_force_shutdown'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/request.rb:98:in `handle_request'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:472:in `process_client'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/server.rb:254:in `block in run'
       # /usr/local/bundle/gems/puma-6.6.0/lib/puma/thread_pool.rb:167:in `block in spawn_thread'
       # ------------------
       # --- Caused by: ---
       # ArgumentError:
       #   wrong number of arguments (given 0, expected 1)
       #   ./app/components/ui/data_grid_component.rb:15:in `block in <class:DataGridComponent>'

Top 10 slowest examples (118.68 seconds, 33.5% of total time):
  Mobile Responsive Design touch interactions supports touch-friendly interactions
    20.41 seconds ./spec/system/mobile_responsive_spec.rb:237
  Performance and Accessibility search performance provides fast search results
    11.64 seconds ./spec/system/performance_and_accessibility_spec.rb:120
  Performance and Accessibility search performance implements search debouncing
    11.61 seconds ./spec/system/performance_and_accessibility_spec.rb:141
  Search Functionality search history and recent searches tracks and displays search history
    11.21 seconds ./spec/system/search_functionality_spec.rb:435
  Search Functionality search performance indicators displays search performance metrics
    11.05 seconds ./spec/system/search_functionality_spec.rb:484
  Document Sharing Workflow internal sharing shares document with another user in organization
    10.9 seconds ./spec/system/document_sharing_workflow_spec.rb:21
  Search Functionality faceted search filters results using facets
    10.48 seconds ./spec/system/search_functionality_spec.rb:257
  Demo Smoke Test Login and Navigation can login successfully
    10.47 seconds ./spec/system/demo_smoke_test_spec.rb:18
  Search Functionality quick search from navbar searches documents with autocomplete
    10.46 seconds ./spec/system/search_functionality_spec.rb:52
  Search Functionality search within results refines search results
    10.45 seconds ./spec/system/search_functionality_spec.rb:356

Top 10 slowest example groups:
  Search Functionality
    10.48 seconds average (136.24 seconds / 13 examples) ./spec/system/search_functionality_spec.rb:3
  Document Sharing Workflow
    4.75 seconds average (42.72 seconds / 9 examples) ./spec/system/document_sharing_workflow_spec.rb:3
  Folder Management
    3.56 seconds average (32.04 seconds / 9 examples) ./spec/system/folder_management_spec.rb:3
  Mobile Responsive Design
    3.4 seconds average (54.37 seconds / 16 examples) ./spec/system/mobile_responsive_spec.rb:3
  Demo Smoke Test
    1.67 seconds average (11.72 seconds / 7 examples) ./spec/system/demo_smoke_test_spec.rb:4
  Performance and Accessibility
    1.63 seconds average (27.75 seconds / 17 examples) ./spec/system/performance_and_accessibility_spec.rb:4
  Document Validation System
    1.08 seconds average (10.78 seconds / 10 examples) ./spec/system/document_validation_system_spec.rb:3
  Metadata and Tagging
    1.08 seconds average (11.84 seconds / 11 examples) ./spec/system/metadata_and_tagging_spec.rb:3
  Search Autocomplete
    0.19912 seconds average (1.99 seconds / 10 examples) ./spec/system/search_autocomplete_spec.rb:3
  Document Upload Workflow
    0.19564 seconds average (0.58693 seconds / 3 examples) ./spec/system/document_upload_workflow_spec.rb:3

Finished in 5 minutes 54 seconds (files took 1.73 seconds to load)
1953 examples, 597 failures, 26 pending

Failed examples:

rspec ./spec/requests/document_api_spec.rb:109 # Document API GET /ged/documents/:id/status (Polling status) returns current processing status
rspec ./spec/requests/document_api_spec.rb:120 # Document API GET /ged/documents/:id/status (Polling status) includes completion percentage
rspec ./spec/requests/document_api_spec.rb:155 # Document API DELETE /ged/documents/:id as non-owner denies access
rspec ./spec/requests/document_api_spec.rb:139 # Document API DELETE /ged/documents/:id as document owner deletes the document
rspec ./spec/requests/document_api_spec.rb:31 # Document API POST /ged/documents (AJAX upload) with valid parameters creates a document and returns success
rspec ./spec/requests/document_api_spec.rb:48 # Document API POST /ged/documents (AJAX upload) with valid parameters enqueues processing jobs
rspec ./spec/requests/document_api_spec.rb:80 # Document API POST /ged/documents (AJAX upload) with file size validation rejects files larger than limit
rspec ./spec/requests/document_api_spec.rb:65 # Document API POST /ged/documents (AJAX upload) with invalid parameters returns error response
rspec ./spec/components/ui/alert_component_spec.rb:150 # Ui::AlertComponent dismissible alerts shows dismiss button when dismissible
rspec ./spec/components/ui/alert_component_spec.rb:234 # Ui::AlertComponent stimulus integration includes alert controller for dismissible alerts
rspec ./spec/components/ui/alert_component_spec.rb:214 # Ui::AlertComponent accessibility has proper ARIA live region for non-critical alerts
rspec ./spec/components/ui/alert_component_spec.rb:205 # Ui::AlertComponent accessibility has proper ARIA live region for important alerts
rspec ./spec/components/ui/alert_component_spec.rb:196 # Ui::AlertComponent accessibility has proper ARIA role
rspec ./spec/components/ui/alert_component_spec.rb:223 # Ui::AlertComponent accessibility dismiss button has ARIA label
rspec ./spec/components/ui/alert_component_spec.rb:261 # Ui::AlertComponent custom styling has rounded corners and overflow hidden
rspec ./spec/system/tag_management_spec.rb:17 # Tag Management Viewing tags displays tags in the navigation
rspec ./spec/system/tag_management_spec.rb:42 # Tag Management Viewing tags shows tag details
rspec ./spec/system/tag_management_spec.rb:32 # Tag Management Viewing tags allows searching tags
rspec ./spec/system/tag_management_spec.rb:23 # Tag Management Viewing tags shows all organization tags
rspec ./spec/system/tag_management_spec.rb:196 # Tag Management Tag usage in documents shows documents with specific tag
rspec ./spec/system/tag_management_spec.rb:212 # Tag Management Tag usage in documents allows navigating to document from tag view
rspec ./spec/system/tag_management_spec.rb:179 # Tag Management Tag autocomplete returns matching tags
rspec ./spec/system/tag_management_spec.rb:238 # Tag Management Empty states shows empty state when tag has no documents
rspec ./spec/system/tag_management_spec.rb:157 # Tag Management Managing tags as regular user allows creating tags with permission
rspec ./spec/system/tag_management_spec.rb:60 # Tag Management Managing tags as admin allows creating a new tag
rspec ./spec/system/tag_management_spec.rb:87 # Tag Management Managing tags as admin allows editing a tag
rspec ./spec/system/tag_management_spec.rb:116 # Tag Management Managing tags as admin allows deleting a tag
rspec ./spec/system/tag_management_spec.rb:105 # Tag Management Managing tags as admin shows warning when editing tag with documents
rspec ./spec/system/tag_management_spec.rb:130 # Tag Management Managing tags as admin shows edit and delete options in tag grid
rspec ./spec/system/tag_management_spec.rb:78 # Tag Management Managing tags as admin validates tag creation
rspec ./spec/components/ui/button_component_spec.rb:88 # Ui::ButtonComponent with dropdown renders dropdown button
rspec ./spec/system/document_locking_workflow_spec.rb:140 # Document Locking Workflow Authorization checks user without write permission does not show lock button
rspec ./spec/system/document_locking_workflow_spec.rb:22 # Document Locking Workflow Locking a document allows locking document with reason
rspec ./spec/system/document_locking_workflow_spec.rb:78 # Document Locking Workflow Viewing locked document as another user shows lock information but no unlock button
rspec ./spec/system/document_locking_workflow_spec.rb:92 # Document Locking Workflow Viewing locked document as admin shows unlock button for admin
rspec ./spec/components/ui/user_avatar_component_spec.rb:13 # Ui::UserAvatarComponent renders with different sizes
rspec ./spec/components/ui/user_avatar_component_spec.rb:21 # Ui::UserAvatarComponent shows tooltip when enabled
rspec ./spec/services/document_processing_service_spec.rb:172 # DocumentProcessingService private helper methods #extract_pdf_text extracts text from PDF using PDF reader
rspec ./spec/services/document_processing_service_spec.rb:183 # DocumentProcessingService private helper methods #extract_ocr_text uses Tesseract for OCR
rspec ./spec/services/document_processing_service_spec.rb:203 # DocumentProcessingService private helper methods #suggest_tags_from_content suggests tags based on content keywords
rspec ./spec/services/document_processing_service_spec.rb:219 # DocumentProcessingService private helper methods #needs_ocr? returns true for image files
rspec ./spec/services/document_processing_service_spec.rb:224 # DocumentProcessingService private helper methods #needs_ocr? returns false for text-based files
rspec ./spec/services/document_processing_service_spec.rb:155 # DocumentProcessingService#apply_auto_tagging applies automatic tags based on content
rspec ./spec/services/document_processing_service_spec.rb:161 # DocumentProcessingService#apply_auto_tagging does not duplicate existing tags
rspec ./spec/services/document_processing_service_spec.rb:76 # DocumentProcessingService#extract_text with Word document extracts text from Word document
rspec ./spec/services/document_processing_service_spec.rb:62 # DocumentProcessingService#extract_text with image file uses OCR for text extraction
rspec ./spec/services/document_processing_service_spec.rb:48 # DocumentProcessingService#extract_text with PDF file extracts text from PDF
rspec ./spec/services/document_processing_service_spec.rb:132 # DocumentProcessingService#run_virus_scan scans document for viruses
rspec ./spec/services/document_processing_service_spec.rb:140 # DocumentProcessingService#run_virus_scan quarantines infected files
rspec ./spec/services/document_processing_service_spec.rb:123 # DocumentProcessingService#generate_thumbnail with PDF file generates thumbnail for PDF
rspec ./spec/services/document_processing_service_spec.rb:111 # DocumentProcessingService#generate_thumbnail with image file generates thumbnail for image
rspec ./spec/services/document_processing_service_spec.rb:87 # DocumentProcessingService#extract_metadata extracts file metadata
rspec ./spec/services/document_processing_service_spec.rb:96 # DocumentProcessingService#extract_metadata calculates content hash
rspec ./spec/components/navigation/breadcrumb_component_spec.rb:120 # Navigation::BreadcrumbComponent truncation truncates long breadcrumbs by default
rspec ./spec/components/documents/ai_insights_component_spec.rb:136 # Documents::AiInsightsComponent rendering when document is AI processed renders the component
rspec ./spec/components/ui/icon_component_spec.rb:24 # Ui::IconComponent basic rendering applies default stroke width
rspec ./spec/components/ui/icon_component_spec.rb:30 # Ui::IconComponent basic rendering applies custom stroke width
rspec ./spec/components/ui/icon_component_spec.rb:172 # Ui::IconComponent accessibility includes aria-hidden by default
rspec ./spec/components/ui/icon_component_spec.rb:135 # Ui::IconComponent SVG attributes sets aria-hidden for decorative icons
rspec ./spec/components/ui/icon_component_spec.rb:110 # Ui::IconComponent viewbox customization uses default viewbox
rspec ./spec/components/ui/icon_component_spec.rb:116 # Ui::IconComponent viewbox customization accepts custom viewbox
rspec ./spec/models/workflow_step_spec.rb:34 # WorkflowStep scopes .ordered returns steps ordered by position
rspec ./spec/models/workflow_step_spec.rb:43 # WorkflowStep scopes .manual returns only manual steps
rspec ./spec/models/workflow_step_spec.rb:8 # WorkflowStep associations is expected to belong to assignee class_name => User optional: true
rspec ./spec/models/workflow_step_spec.rb:9 # WorkflowStep associations is expected to have many workflow_submissions
rspec ./spec/models/workflow_step_spec.rb:18 # WorkflowStep validations validates step_type inclusion
rspec ./spec/models/workflow_step_spec.rb:15 # WorkflowStep validations is expected to validate that :step_type cannot be empty/falsy
rspec ./spec/models/workflow_step_spec.rb:22 # WorkflowStep validations validates position uniqueness scoped to workflow
rspec ./spec/models/workflow_step_spec.rb:14 # WorkflowStep validations is expected to validate that :workflow cannot be empty/falsy
rspec ./spec/models/workflow_step_spec.rb:61 # WorkflowStep instance methods #next_step returns nil for last step
rspec ./spec/models/workflow_step_spec.rb:57 # WorkflowStep instance methods #next_step returns the next step in sequence
rspec ./spec/models/workflow_step_spec.rb:99 # WorkflowStep instance methods #estimated_duration_in_hours returns estimated duration divided by 3600
rspec ./spec/models/workflow_step_spec.rb:104 # WorkflowStep instance methods #estimated_duration_in_hours returns 0 if no estimated duration
rspec ./spec/models/workflow_step_spec.rb:88 # WorkflowStep instance methods #can_be_completed_by? returns true if step is unassigned
rspec ./spec/models/workflow_step_spec.rb:84 # WorkflowStep instance methods #can_be_completed_by? returns true if user is assignee
rspec ./spec/models/workflow_step_spec.rb:92 # WorkflowStep instance methods #can_be_completed_by? returns false if user is not assignee
rspec ./spec/models/workflow_step_spec.rb:74 # WorkflowStep instance methods #previous_step returns nil for first step
rspec ./spec/models/workflow_step_spec.rb:70 # WorkflowStep instance methods #previous_step returns the previous step in sequence
rspec ./spec/system/document_ai_compliance_spec.rb:211 # Document AI and Compliance Features Regulatory Compliance Financial compliance flags high-value transactions
rspec ./spec/system/document_ai_compliance_spec.rb:145 # Document AI and Compliance Features Regulatory Compliance GDPR compliance detects GDPR compliance issues
rspec ./spec/system/document_ai_compliance_spec.rb:185 # Document AI and Compliance Features Regulatory Compliance Contract compliance checks for mandatory contract clauses
rspec ./spec/system/document_ai_compliance_spec.rb:237 # Document AI and Compliance Features Regulatory Compliance Environmental compliance checks for environmental impact assessment
rspec ./spec/system/document_ai_compliance_spec.rb:55 # Document AI and Compliance Features AI Classification automatic classification on upload classifies an invoice document
rspec ./spec/system/document_ai_compliance_spec.rb:87 # Document AI and Compliance Features AI Classification automatic classification on upload extracts entities from documents
rspec ./spec/system/document_ai_compliance_spec.rb:15 # Document AI and Compliance Features AI Classification automatic classification on upload classifies a contract document
rspec ./spec/system/document_ai_compliance_spec.rb:113 # Document AI and Compliance Features AI Classification manual classification allows manual AI classification trigger
rspec ./spec/system/document_ai_compliance_spec.rb:270 # Document AI and Compliance Features Compliance Dashboard shows compliance overview
rspec ./spec/system/document_ai_compliance_spec.rb:310 # Document AI and Compliance Features Compliance Integration with Validation shows compliance warnings during validation
rspec ./spec/system/document_ai_compliance_spec.rb:350 # Document AI and Compliance Features Batch Compliance Operations generates compliance report for multiple documents
rspec ./spec/models/concerns/authorizable_spec.rb:63 # Authorizable#authorize_user accepts optional parameters
rspec ./spec/models/concerns/authorizable_spec.rb:52 # Authorizable#authorize_user creates a user authorization
rspec ./spec/models/concerns/authorizable_spec.rb:31 # Authorizable included module behavior adds authorizations association
rspec ./spec/models/concerns/authorizable_spec.rb:36 # Authorizable included module behavior adds authorization methods
rspec ./spec/models/concerns/authorizable_spec.rb:45 # Authorizable included module behavior adds scopes to the class
rspec ./spec/models/concerns/authorizable_spec.rb:133 # Authorizable#readable_by? returns true for user with write permission
rspec ./spec/models/concerns/authorizable_spec.rb:138 # Authorizable#readable_by? returns true for user with admin permission
rspec ./spec/models/concerns/authorizable_spec.rb:128 # Authorizable#readable_by? returns true for user with read permission
rspec ./spec/models/concerns/authorizable_spec.rb:119 # Authorizable#readable_by? returns true for super admin
rspec ./spec/models/concerns/authorizable_spec.rb:143 # Authorizable#readable_by? returns false for user without permission
rspec ./spec/models/concerns/authorizable_spec.rb:123 # Authorizable#readable_by? returns true for owner when owned_by? is true
rspec ./spec/models/concerns/authorizable_spec.rb:98 # Authorizable#revoke_authorization revokes user authorization
rspec ./spec/models/concerns/authorizable_spec.rb:109 # Authorizable#revoke_authorization accepts revocation comment
rspec ./spec/models/concerns/authorizable_spec.rb:236 # Authorizable#authorized_for? checks group permissions
rspec ./spec/models/concerns/authorizable_spec.rb:226 # Authorizable#authorized_for? returns false for nil user
rspec ./spec/models/concerns/authorizable_spec.rb:230 # Authorizable#authorized_for? checks direct user permissions
rspec ./spec/models/concerns/authorizable_spec.rb:293 # Authorizable#permissions_for returns unique permissions
rspec ./spec/models/concerns/authorizable_spec.rb:288 # Authorizable#permissions_for returns combined permissions from user and groups
rspec ./spec/models/concerns/authorizable_spec.rb:163 # Authorizable#writable_by? returns true for user with write permission
rspec ./spec/models/concerns/authorizable_spec.rb:149 # Authorizable#writable_by? returns true for super admin
rspec ./spec/models/concerns/authorizable_spec.rb:168 # Authorizable#writable_by? returns true for user with admin permission
rspec ./spec/models/concerns/authorizable_spec.rb:153 # Authorizable#writable_by? returns true for owner when owned_by? is true
rspec ./spec/models/concerns/authorizable_spec.rb:158 # Authorizable#writable_by? returns false for user with only read permission
rspec ./spec/models/concerns/authorizable_spec.rb:193 # Authorizable#admin_by? returns true for user with admin permission
rspec ./spec/models/concerns/authorizable_spec.rb:184 # Authorizable#admin_by? returns false for user with read or write permission
rspec ./spec/models/concerns/authorizable_spec.rb:175 # Authorizable#admin_by? returns true for super admin
rspec ./spec/models/concerns/authorizable_spec.rb:179 # Authorizable#admin_by? returns true for owner when owned_by? is true
rspec ./spec/models/concerns/authorizable_spec.rb:252 # Authorizable#grant_permission grants permission to group
rspec ./spec/models/concerns/authorizable_spec.rb:246 # Authorizable#grant_permission grants permission to user
rspec ./spec/models/concerns/authorizable_spec.rb:258 # Authorizable#grant_permission raises error for invalid subject
rspec ./spec/models/concerns/authorizable_spec.rb:270 # Authorizable#revoke_permission revokes permission from user
rspec ./spec/models/concerns/authorizable_spec.rb:219 # Authorizable#can_validate? returns false for user with only read permission
rspec ./spec/models/concerns/authorizable_spec.rb:204 # Authorizable#can_validate? returns true for owner when owned_by? is true
rspec ./spec/models/concerns/authorizable_spec.rb:200 # Authorizable#can_validate? returns true for super admin
rspec ./spec/models/concerns/authorizable_spec.rb:209 # Authorizable#can_validate? returns true for user with validate permission
rspec ./spec/models/concerns/authorizable_spec.rb:214 # Authorizable#can_validate? returns true for user with admin permission
rspec ./spec/models/concerns/authorizable_spec.rb:81 # Authorizable#authorize_group creates a group authorization
rspec ./spec/models/concerns/authorizable_spec.rb:331 # Authorizable#authorized_groups filters by permission level
rspec ./spec/models/concerns/authorizable_spec.rb:326 # Authorizable#authorized_groups returns all authorized groups when no permission specified
rspec ./spec/models/concerns/authorizable_spec.rb:343 # Authorizable alias methods provides alias methods for permission checks
rspec ./spec/models/concerns/authorizable_spec.rb:311 # Authorizable#authorized_users filters by permission level
rspec ./spec/models/concerns/authorizable_spec.rb:306 # Authorizable#authorized_users returns all authorized users when no permission specified
rspec ./spec/models/concerns/authorizable_spec.rb:391 # Authorizable private #owned_by? returns false when user is not the owner
rspec ./spec/models/concerns/authorizable_spec.rb:375 # Authorizable private #owned_by? returns true when object has user attribute matching the user
rspec ./spec/models/concerns/authorizable_spec.rb:383 # Authorizable private #owned_by? returns true when object has project_manager attribute matching the user
rspec ./spec/models/concerns/authorizable_spec.rb:361 # Authorizable scope methods readable_by scope returns items user can read
rspec ./spec/models/concerns/authorizable_spec.rb:367 # Authorizable scope methods writable_by scope returns items user can write
rspec ./spec/components/ui/card_component_spec.rb:34 # Ui::CardComponent renders with actions slot
rspec ./spec/components/ui/card_component_spec.rb:56 # Ui::CardComponent renders with variant styles
rspec ./spec/components/ui/card_component_spec.rb:81 # Ui::CardComponent loading state shows skeleton loader when loading
rspec ./spec/components/ui/card_component_spec.rb:90 # Ui::CardComponent clickable cards renders as clickable with link
rspec ./spec/components/ui/modal_component_spec.rb:318 # Ui::ModalComponent custom content allows action buttons in footer
rspec ./spec/components/ui/modal_component_spec.rb:305 # Ui::ModalComponent custom content allows complex content in body
rspec ./spec/components/ui/modal_component_spec.rb:131 # Ui::ModalComponent close button close button has proper aria label
rspec ./spec/components/ui/modal_component_spec.rb:215 # Ui::ModalComponent accessibility has aria-labelledby when title is present
rspec ./spec/components/ui/modal_component_spec.rb:199 # Ui::ModalComponent accessibility has proper role attribute
rspec ./spec/components/ui/modal_component_spec.rb:207 # Ui::ModalComponent accessibility has aria-modal attribute
rspec ./spec/models/concerns/schedulable_spec.rb:373 # Schedulable private methods #end_date_after_start_date does not add error when dates are missing
rspec ./spec/models/concerns/schedulable_spec.rb:357 # Schedulable private methods #end_date_after_start_date adds error when end_date is before start_date
rspec ./spec/models/concerns/schedulable_spec.rb:365 # Schedulable private methods #end_date_after_start_date does not add error when dates are valid
rspec ./spec/models/concerns/schedulable_spec.rb:88 # Schedulable#duration_in_hours returns duration in hours
rspec ./spec/models/concerns/schedulable_spec.rb:95 # Schedulable#duration_in_hours returns nil when duration is nil
rspec ./spec/models/concerns/schedulable_spec.rb:223 # Schedulable#progress_percentage returns 0 for upcoming schedule
rspec ./spec/models/concerns/schedulable_spec.rb:234 # Schedulable#progress_percentage handles edge cases
rspec ./spec/models/concerns/schedulable_spec.rb:230 # Schedulable#progress_percentage returns 0 when dates are missing
rspec ./spec/models/concerns/schedulable_spec.rb:213 # Schedulable#progress_percentage calculates progress percentage for current schedule
rspec ./spec/models/concerns/schedulable_spec.rb:140 # Schedulable#upcoming? returns false when start date is missing
rspec ./spec/models/concerns/schedulable_spec.rb:128 # Schedulable#upcoming? returns true when start date is in the future
rspec ./spec/models/concerns/schedulable_spec.rb:134 # Schedulable#upcoming? returns false when start date is in the past
rspec ./spec/models/concerns/schedulable_spec.rb:333 # Schedulable scopes .starting_between returns items that start within the given date range
rspec ./spec/models/concerns/schedulable_spec.rb:325 # Schedulable scopes .between_dates returns items that overlap with the given date range
rspec ./spec/models/concerns/schedulable_spec.rb:317 # Schedulable scopes .past returns items that have ended
rspec ./spec/models/concerns/schedulable_spec.rb:301 # Schedulable scopes .current returns items that are currently active
rspec ./spec/models/concerns/schedulable_spec.rb:309 # Schedulable scopes .upcoming returns items that start in the future
rspec ./spec/models/concerns/schedulable_spec.rb:341 # Schedulable scopes .ending_between returns items that end within the given date range
rspec ./spec/models/concerns/schedulable_spec.rb:271 # Schedulable#remaining_days calculates remaining days
rspec ./spec/models/concerns/schedulable_spec.rb:277 # Schedulable#remaining_days returns nil when remaining_time is nil
rspec ./spec/models/concerns/schedulable_spec.rb:146 # Schedulable#past? returns true when end date is in the past
rspec ./spec/models/concerns/schedulable_spec.rb:158 # Schedulable#past? returns false when end date is missing
rspec ./spec/models/concerns/schedulable_spec.rb:152 # Schedulable#past? returns false when end date is in the future
rspec ./spec/models/concerns/schedulable_spec.rb:40 # Schedulable included module behavior allows valid date range
rspec ./spec/models/concerns/schedulable_spec.rb:23 # Schedulable included module behavior adds schedule validation when required
rspec ./spec/models/concerns/schedulable_spec.rb:32 # Schedulable included module behavior validates end_date is after start_date
rspec ./spec/models/concerns/schedulable_spec.rb:101 # Schedulable#current? returns true when current time is between start and end dates
rspec ./spec/models/concerns/schedulable_spec.rb:108 # Schedulable#current? returns false when current time is before start date
rspec ./spec/models/concerns/schedulable_spec.rb:122 # Schedulable#current? returns false when dates are missing
rspec ./spec/models/concerns/schedulable_spec.rb:115 # Schedulable#current? returns false when current time is after end date
rspec ./spec/models/concerns/schedulable_spec.rb:259 # Schedulable#remaining_time returns 0 for past schedule
rspec ./spec/models/concerns/schedulable_spec.rb:265 # Schedulable#remaining_time returns nil when end_date is missing
rspec ./spec/models/concerns/schedulable_spec.rb:252 # Schedulable#remaining_time calculates remaining time for current/future schedule
rspec ./spec/models/concerns/schedulable_spec.rb:82 # Schedulable#duration_in_days returns nil when duration is nil
rspec ./spec/models/concerns/schedulable_spec.rb:75 # Schedulable#duration_in_days returns duration in days
rspec ./spec/models/concerns/schedulable_spec.rb:58 # Schedulable#duration calculates duration between start and end dates
rspec ./spec/models/concerns/schedulable_spec.rb:66 # Schedulable#duration returns nil when dates are missing
rspec ./spec/models/concerns/schedulable_spec.rb:204 # Schedulable#overlaps_with? handles edge case when schedules touch exactly
rspec ./spec/models/concerns/schedulable_spec.rb:171 # Schedulable#overlaps_with? returns true when schedules overlap
rspec ./spec/models/concerns/schedulable_spec.rb:197 # Schedulable#overlaps_with? returns false when dates are missing
rspec ./spec/models/concerns/schedulable_spec.rb:185 # Schedulable#overlaps_with? returns false when schedules do not overlap
rspec ./spec/models/concerns/schedulable_spec.rb:178 # Schedulable#overlaps_with? returns true when one schedule contains the other
rspec ./spec/models/concerns/schedulable_spec.rb:192 # Schedulable#overlaps_with? returns false when other object does not respond to date methods
rspec ./spec/system/document_sharing_workflow_spec.rb:21 # Document Sharing Workflow internal sharing shares document with another user in organization
rspec ./spec/system/document_sharing_workflow_spec.rb:92 # Document Sharing Workflow internal sharing shares with user group
rspec ./spec/system/document_sharing_workflow_spec.rb:130 # Document Sharing Workflow external sharing creates shareable link with password protection
rspec ./spec/system/document_sharing_workflow_spec.rb:222 # Document Sharing Workflow share management modifies existing share permissions
rspec ./spec/system/document_sharing_workflow_spec.rb:280 # Document Sharing Workflow share management tracks share access and downloads
rspec ./spec/system/document_sharing_workflow_spec.rb:253 # Document Sharing Workflow share management revokes document share
rspec ./spec/system/document_sharing_workflow_spec.rb:315 # Document Sharing Workflow bulk sharing shares multiple documents at once
rspec ./spec/system/document_sharing_workflow_spec.rb:364 # Document Sharing Workflow share templates saves and reuses sharing configurations
rspec ./spec/requests/api/v1/metadata_spec.rb:171 # API V1 Metadata PATCH /api/v1/metadata/templates/:id updates the template and fields
rspec ./spec/requests/api/v1/metadata_spec.rb:184 # API V1 Metadata PATCH /api/v1/metadata/templates/:id prevents updating templates from other organizations
rspec ./spec/requests/api/v1/metadata_spec.rb:198 # API V1 Metadata DELETE /api/v1/metadata/templates/:id deletes the template
rspec ./spec/requests/api/v1/metadata_spec.rb:206 # API V1 Metadata DELETE /api/v1/metadata/templates/:id prevents deletion if template is in use
rspec ./spec/requests/api/v1/metadata_spec.rb:40 # API V1 Metadata GET /api/v1/metadata/templates returns all metadata templates
rspec ./spec/requests/api/v1/metadata_spec.rb:50 # API V1 Metadata GET /api/v1/metadata/templates includes field definitions
rspec ./spec/requests/api/v1/metadata_spec.rb:429 # API V1 Metadata POST /api/v1/metadata/bulk handles partial failures
rspec ./spec/requests/api/v1/metadata_spec.rb:397 # API V1 Metadata POST /api/v1/metadata/bulk applies metadata to multiple documents
rspec ./spec/requests/api/v1/metadata_spec.rb:414 # API V1 Metadata POST /api/v1/metadata/bulk replaces all metadata when mode is replace
rspec ./spec/requests/api/v1/metadata_spec.rb:358 # API V1 Metadata GET /api/v1/metadata/fields/search returns values for a specific key
rspec ./spec/requests/api/v1/metadata_spec.rb:349 # API V1 Metadata GET /api/v1/metadata/fields/search returns unique metadata keys
rspec ./spec/requests/api/v1/metadata_spec.rb:368 # API V1 Metadata GET /api/v1/metadata/fields/search autocompletes metadata values
rspec ./spec/requests/api/v1/metadata_spec.rb:295 # API V1 Metadata PATCH /api/v1/documents/:id/metadata updates existing metadata
rspec ./spec/requests/api/v1/metadata_spec.rb:316 # API V1 Metadata PATCH /api/v1/documents/:id/metadata removes metadata fields when value is null
rspec ./spec/requests/api/v1/metadata_spec.rb:111 # API V1 Metadata POST /api/v1/metadata/templates creates a new metadata template
rspec ./spec/requests/api/v1/metadata_spec.rb:123 # API V1 Metadata POST /api/v1/metadata/templates validates template uniqueness
rspec ./spec/requests/api/v1/metadata_spec.rb:132 # API V1 Metadata POST /api/v1/metadata/templates validates field definitions
rspec ./spec/requests/api/v1/metadata_spec.rb:241 # API V1 Metadata POST /api/v1/documents/:id/metadata applies metadata to document
rspec ./spec/requests/api/v1/metadata_spec.rb:270 # API V1 Metadata POST /api/v1/documents/:id/metadata validates field types
rspec ./spec/requests/api/v1/metadata_spec.rb:257 # API V1 Metadata POST /api/v1/documents/:id/metadata validates required fields
rspec ./spec/system/demo_critical_paths_spec.rb:107 # Demo Critical Paths UI Components shows responsive navigation
rspec ./spec/system/demo_critical_paths_spec.rb:96 # Demo Critical Paths UI Components displays dashboard with statistics
rspec ./spec/system/demo_critical_paths_spec.rb:84 # Demo Critical Paths Document Integration can access documents from project
rspec ./spec/system/demo_critical_paths_spec.rb:54 # Demo Critical Paths ImmoPromo Features can create a new project
rspec ./spec/system/demo_critical_paths_spec.rb:71 # Demo Critical Paths ImmoPromo Features can view project details and phases
rspec ./spec/system/demo_critical_paths_spec.rb:16 # Demo Critical Paths Core GED Features can create space and navigate
rspec ./spec/system/demo_critical_paths_spec.rb:29 # Demo Critical Paths Core GED Features can upload a document
rspec ./spec/system/demo_critical_paths_spec.rb:121 # Demo Critical Paths Error Handling handles 404 gracefully
rspec ./spec/system/basket_management_spec.rb:155 # Basket Management Basket sharing allows sharing a basket
rspec ./spec/system/basket_management_spec.rb:166 # Basket Management Basket sharing displays shared baskets to other users
rspec ./spec/system/basket_management_spec.rb:136 # Basket Management Basket management allows deleting basket
rspec ./spec/system/basket_management_spec.rb:108 # Basket Management Basket management allows removing documents from basket
rspec ./spec/system/basket_management_spec.rb:99 # Basket Management Basket management displays basket contents
rspec ./spec/system/basket_management_spec.rb:33 # Basket Management Basket creation validates basket name presence
rspec ./spec/system/basket_management_spec.rb:16 # Basket Management Basket creation allows user to create a new basket
rspec ./spec/system/basket_management_spec.rb:65 # Basket Management Adding documents to basket prevents adding the same document twice
rspec ./spec/system/basket_management_spec.rb:46 # Basket Management Adding documents to basket allows adding a document to basket from document view
rspec ./spec/system/basket_management_spec.rb:80 # Basket Management Adding documents to basket shows option to create new basket when adding document
rspec ./spec/system/basket_management_spec.rb:209 # Basket Management Basket list view displays all user baskets with document counts
rspec ./spec/system/basket_management_spec.rb:223 # Basket Management Basket list view provides dropdown actions for each basket
rspec ./spec/system/basket_management_spec.rb:180 # Basket Management Empty states shows empty state when no baskets exist
rspec ./spec/system/metadata_and_tagging_spec.rb:77 # Metadata and Tagging document tagging suggests tags based on document content
rspec ./spec/system/metadata_and_tagging_spec.rb:21 # Metadata and Tagging document tagging adds and removes tags from document
rspec ./spec/system/metadata_and_tagging_spec.rb:105 # Metadata and Tagging document tagging manages tag colors and categories
rspec ./spec/system/metadata_and_tagging_spec.rb:378 # Metadata and Tagging bulk metadata operations applies tags to multiple documents
rspec ./spec/system/metadata_and_tagging_spec.rb:414 # Metadata and Tagging bulk metadata operations applies metadata template to multiple documents
rspec ./spec/system/metadata_and_tagging_spec.rb:329 # Metadata and Tagging search by tags and metadata searches by metadata values
rspec ./spec/system/metadata_and_tagging_spec.rb:291 # Metadata and Tagging search by tags and metadata filters documents by tags
rspec ./spec/system/metadata_and_tagging_spec.rb:447 # Metadata and Tagging metadata inheritance inherits metadata from parent folder
rspec ./spec/system/metadata_and_tagging_spec.rb:174 # Metadata and Tagging metadata management applies metadata template to document
rspec ./spec/system/metadata_and_tagging_spec.rb:232 # Metadata and Tagging metadata management creates custom metadata fields
rspec ./spec/system/metadata_and_tagging_spec.rb:210 # Metadata and Tagging metadata management validates required metadata fields
rspec ./spec/components/ui/data_grid_component_spec.rb:213 # Ui::DataGridComponent responsive design can disable responsive wrapper
rspec ./spec/components/ui/data_grid_component_spec.rb:205 # Ui::DataGridComponent responsive design applies responsive wrapper by default
rspec ./spec/components/ui/data_grid_component_spec.rb:262 # Ui::DataGridComponent accessibility includes proper ARIA attributes for sortable columns
rspec ./spec/components/ui/data_grid_component_spec.rb:250 # Ui::DataGridComponent accessibility has proper table structure
rspec ./spec/components/ui/data_grid_component_spec.rb:272 # Ui::DataGridComponent stimulus integration includes data attributes for row click handling
rspec ./spec/components/ui/data_grid_component_spec.rb:164 # Ui::DataGridComponent empty state shows empty state when no data
rspec ./spec/components/ui/data_grid_component_spec.rb:13 # Ui::DataGridComponent basic rendering renders table with data
rspec ./spec/components/ui/data_grid_component_spec.rb:25 # Ui::DataGridComponent basic rendering renders column headers
rspec ./spec/components/ui/data_grid_component_spec.rb:153 # Ui::DataGridComponent loading state shows loading skeleton
rspec ./spec/components/ui/data_grid_component_spec.rb:177 # Ui::DataGridComponent row selection renders checkboxes when selectable
rspec ./spec/components/ui/data_grid_component_spec.rb:90 # Ui::DataGridComponent column configuration applies column alignment
rspec ./spec/components/ui/data_grid_component_spec.rb:102 # Ui::DataGridComponent column configuration applies custom column width
rspec ./spec/components/ui/data_grid_component_spec.rb:80 # Ui::DataGridComponent column configuration handles sortable columns
rspec ./spec/components/ui/data_grid_component_spec.rb:53 # Ui::DataGridComponent table styling options applies hover effect by default
rspec ./spec/components/ui/data_grid_component_spec.rb:45 # Ui::DataGridComponent table styling options can disable striping
rspec ./spec/components/ui/data_grid_component_spec.rb:69 # Ui::DataGridComponent table styling options applies compact mode
rspec ./spec/components/ui/data_grid_component_spec.rb:37 # Ui::DataGridComponent table styling options applies striped rows by default
rspec ./spec/components/ui/data_grid_component_spec.rb:61 # Ui::DataGridComponent table styling options applies bordered styling
rspec ./spec/components/ui/data_grid_component_spec.rb:223 # Ui::DataGridComponent custom CSS classes accepts custom wrapper classes
rspec ./spec/components/ui/data_grid_component_spec.rb:234 # Ui::DataGridComponent custom CSS classes accepts custom column classes
rspec ./spec/components/ui/data_grid_component_spec.rb:138 # Ui::DataGridComponent data formatting formats with custom proc
rspec ./spec/components/ui/data_grid_component_spec.rb:115 # Ui::DataGridComponent data formatting formats currency values
rspec ./spec/components/ui/data_grid_component_spec.rb:124 # Ui::DataGridComponent data formatting formats boolean values
rspec ./spec/components/ui/data_grid_component_spec.rb:191 # Ui::DataGridComponent row actions renders action buttons for each row
rspec ./spec/system/performance_and_accessibility_spec.rb:221 # Performance and Accessibility accessibility compliance ensures sufficient color contrast
rspec ./spec/system/performance_and_accessibility_spec.rb:333 # Performance and Accessibility accessibility compliance announces dynamic content changes
rspec ./spec/system/performance_and_accessibility_spec.rb:272 # Performance and Accessibility accessibility compliance supports keyboard navigation
rspec ./spec/system/performance_and_accessibility_spec.rb:381 # Performance and Accessibility accessibility compliance supports screen readers
rspec ./spec/system/performance_and_accessibility_spec.rb:177 # Performance and Accessibility accessibility compliance passes WCAG 2.1 AA standards
rspec ./spec/system/performance_and_accessibility_spec.rb:352 # Performance and Accessibility accessibility compliance provides alternative text for images
rspec ./spec/system/performance_and_accessibility_spec.rb:200 # Performance and Accessibility accessibility compliance provides proper heading hierarchy
rspec ./spec/system/performance_and_accessibility_spec.rb:312 # Performance and Accessibility accessibility compliance provides skip links
rspec ./spec/system/performance_and_accessibility_spec.rb:456 # Performance and Accessibility memory management prevents memory leaks with proper cleanup
rspec ./spec/system/performance_and_accessibility_spec.rb:488 # Performance and Accessibility memory management removes event listeners on navigation
rspec ./spec/system/performance_and_accessibility_spec.rb:52 # Performance and Accessibility page load performance implements progressive loading
rspec ./spec/system/performance_and_accessibility_spec.rb:24 # Performance and Accessibility page load performance loads dashboard within acceptable time
rspec ./spec/system/performance_and_accessibility_spec.rb:77 # Performance and Accessibility page load performance caches resources effectively
rspec ./spec/system/performance_and_accessibility_spec.rb:430 # Performance and Accessibility error handling and recovery provides timeout handling
rspec ./spec/system/performance_and_accessibility_spec.rb:410 # Performance and Accessibility error handling and recovery handles network errors gracefully
rspec ./spec/system/performance_and_accessibility_spec.rb:120 # Performance and Accessibility search performance provides fast search results
rspec ./spec/system/performance_and_accessibility_spec.rb:141 # Performance and Accessibility search performance implements search debouncing
rspec ./spec/features/user_authentication_spec.rb:71 # User Authentication User resets password
rspec ./spec/features/user_authentication_spec.rb:6 # User Authentication User signs in successfully
rspec ./spec/features/user_authentication_spec.rb:32 # User Authentication User fails to sign in with wrong password
rspec ./spec/features/user_authentication_spec.rb:50 # User Authentication User signs out
rspec ./spec/services/ai_classification_service_spec.rb:27 # AiClassificationService#classify with invoice document classifies as invoice
rspec ./spec/services/ai_classification_service_spec.rb:14 # AiClassificationService#classify with PDF document classifies as contract based on title
rspec ./spec/services/ai_classification_service_spec.rb:74 # AiClassificationService#suggest_tags suggests relevant tags based on content
rspec ./spec/services/ai_classification_service_spec.rb:84 # AiClassificationService#suggest_tags limits number of suggested tags
rspec ./spec/services/ai_classification_service_spec.rb:79 # AiClassificationService#suggest_tags returns unique tags
rspec ./spec/services/ai_classification_service_spec.rb:57 # AiClassificationService#extract_entities extracts dates
rspec ./spec/services/ai_classification_service_spec.rb:62 # AiClassificationService#extract_entities extracts references
rspec ./spec/services/ai_classification_service_spec.rb:52 # AiClassificationService#extract_entities extracts amounts
rspec ./spec/services/ai_classification_service_spec.rb:47 # AiClassificationService#extract_entities extracts phone numbers
rspec ./spec/services/ai_classification_service_spec.rb:42 # AiClassificationService#extract_entities extracts emails
rspec ./spec/services/ai_classification_service_spec.rb:140 # AiClassificationService private methods #extract_amounts extracts monetary amounts
rspec ./spec/services/ai_classification_service_spec.rb:107 # AiClassificationService private methods #classify_by_keywords returns contract for contract keywords
rspec ./spec/services/ai_classification_service_spec.rb:112 # AiClassificationService private methods #classify_by_keywords returns report for report keywords
rspec ./spec/services/ai_classification_service_spec.rb:117 # AiClassificationService private methods #classify_by_keywords returns other for unmatched content
rspec ./spec/services/ai_classification_service_spec.rb:148 # AiClassificationService private methods #extract_dates extracts date formats
rspec ./spec/services/ai_classification_service_spec.rb:132 # AiClassificationService private methods #extract_phone_numbers extracts various phone formats
rspec ./spec/services/ai_classification_service_spec.rb:124 # AiClassificationService private methods #extract_emails extracts valid email addresses
rspec ./spec/services/ai_classification_service_spec.rb:91 # AiClassificationService#confidence_score calculates confidence based on title match
rspec ./spec/services/ai_classification_service_spec.rb:97 # AiClassificationService#confidence_score increases confidence with content match
rspec ./spec/components/navigation/navbar_component_spec.rb:64 # Navigation::NavbarComponent renders notifications link
rspec ./spec/components/navigation/navbar_component_spec.rb:14 # Navigation::NavbarComponent renders navigation bar
rspec ./spec/components/navigation/navbar_component_spec.rb:46 # Navigation::NavbarComponent shows admin links for admin users
rspec ./spec/components/navigation/navbar_component_spec.rb:86 # Navigation::NavbarComponent highlights active page
rspec ./spec/components/navigation/navbar_component_spec.rb:31 # Navigation::NavbarComponent renders search bar
rspec ./spec/components/navigation/navbar_component_spec.rb:70 # Navigation::NavbarComponent shows user menu items
rspec ./spec/components/navigation/navbar_component_spec.rb:38 # Navigation::NavbarComponent renders main navigation links
rspec ./spec/components/navigation/navbar_component_spec.rb:117 # Navigation::NavbarComponent with notifications shows notification count when user has unread notifications
rspec ./spec/features/organization_management_spec.rb:77 # Organization Management Admin configures organization settings
rspec ./spec/features/organization_management_spec.rb:254 # Organization Management Admin exports organization data
rspec ./spec/features/organization_management_spec.rb:168 # Organization Management Admin manages metadata templates
rspec ./spec/features/organization_management_spec.rb:286 # Organization Management Admin manages organization billing
rspec ./spec/features/organization_management_spec.rb:41 # Organization Management Admin manages user groups
rspec ./spec/features/organization_management_spec.rb:106 # Organization Management Admin views organization statistics
rspec ./spec/features/organization_management_spec.rb:211 # Organization Management Admin configures workflows
rspec ./spec/features/organization_management_spec.rb:131 # Organization Management Admin manages spaces
rspec ./spec/features/organization_management_spec.rb:11 # Organization Management Admin creates a new user
rspec ./spec/components/documents/document_grid_component_spec.rb:137 # Documents::DocumentGridComponent actions can hide actions
rspec ./spec/components/documents/document_grid_component_spec.rb:131 # Documents::DocumentGridComponent actions shows actions by default
rspec ./spec/components/documents/document_grid_component_spec.rb:174 # Documents::DocumentGridComponent preview availability indicates preview available for PDFs
rspec ./spec/components/documents/document_grid_component_spec.rb:183 # Documents::DocumentGridComponent preview availability indicates no preview for other file types
rspec ./spec/components/documents/document_grid_component_spec.rb:165 # Documents::DocumentGridComponent preview availability indicates preview available for images
rspec ./spec/components/documents/document_grid_component_spec.rb:23 # Documents::DocumentGridComponent basic rendering renders all documents
rspec ./spec/components/documents/document_grid_component_spec.rb:13 # Documents::DocumentGridComponent basic rendering renders documents in grid view by default
rspec ./spec/components/documents/document_grid_component_spec.rb:259 # Documents::DocumentGridComponent accessibility includes role attributes for interactive elements
rspec ./spec/components/documents/document_grid_component_spec.rb:253 # Documents::DocumentGridComponent accessibility includes proper ARIA labels for actions
rspec ./spec/components/documents/document_grid_component_spec.rb:209 # Documents::DocumentGridComponent document metadata displays document tags
rspec ./spec/components/documents/document_grid_component_spec.rb:194 # Documents::DocumentGridComponent document metadata displays document created date
rspec ./spec/components/documents/document_grid_component_spec.rb:201 # Documents::DocumentGridComponent document metadata displays document owner
rspec ./spec/components/documents/document_grid_component_spec.rb:223 # Documents::DocumentGridComponent empty state shows empty state when no documents
rspec ./spec/components/documents/document_grid_component_spec.rb:33 # Documents::DocumentGridComponent view modes renders in grid view
rspec ./spec/components/documents/document_grid_component_spec.rb:47 # Documents::DocumentGridComponent view modes renders in compact view
rspec ./spec/components/documents/document_grid_component_spec.rb:40 # Documents::DocumentGridComponent view modes renders in list view
rspec ./spec/components/documents/document_grid_component_spec.rb:151 # Documents::DocumentGridComponent selection does not show checkboxes by default
rspec ./spec/components/documents/document_grid_component_spec.rb:145 # Documents::DocumentGridComponent selection shows checkboxes when selectable
rspec ./spec/components/documents/document_grid_component_spec.rb:157 # Documents::DocumentGridComponent selection includes data attributes for selection handling
rspec ./spec/components/documents/document_grid_component_spec.rb:231 # Documents::DocumentGridComponent custom classes accepts custom wrapper classes
rspec ./spec/components/documents/document_grid_component_spec.rb:71 # Documents::DocumentGridComponent document icons shows appropriate icon for Excel files
rspec ./spec/components/documents/document_grid_component_spec.rb:78 # Documents::DocumentGridComponent document icons shows appropriate icon for PowerPoint files
rspec ./spec/components/documents/document_grid_component_spec.rb:92 # Documents::DocumentGridComponent document icons shows default icon for unknown file types
rspec ./spec/components/documents/document_grid_component_spec.rb:85 # Documents::DocumentGridComponent document icons shows appropriate icon for image files
rspec ./spec/components/documents/document_grid_component_spec.rb:64 # Documents::DocumentGridComponent document icons shows appropriate icon for Word documents
rspec ./spec/components/documents/document_grid_component_spec.rb:242 # Documents::DocumentGridComponent responsive behavior applies responsive grid columns
rspec ./spec/components/documents/document_grid_component_spec.rb:108 # Documents::DocumentGridComponent file size indicators shows yellow for medium files
rspec ./spec/components/documents/document_grid_component_spec.rb:122 # Documents::DocumentGridComponent file size indicators shows red for very large files
rspec ./spec/components/documents/document_grid_component_spec.rb:115 # Documents::DocumentGridComponent file size indicators shows orange for large files
rspec ./spec/components/documents/document_grid_component_spec.rb:267 # Documents::DocumentGridComponent stimulus integration includes data attributes for document actions
rspec ./spec/components/documents/document_grid_component_spec.rb:273 # Documents::DocumentGridComponent stimulus integration includes data attributes for selection when selectable
rspec ./spec/system/document_upload_workflow_spec.rb:93 # Document Upload Workflow drag and drop upload allows file upload via drag and drop
rspec ./spec/system/document_upload_workflow_spec.rb:70 # Document Upload Workflow complete upload workflow shows validation errors for invalid form submission
rspec ./spec/system/document_upload_workflow_spec.rb:17 # Document Upload Workflow complete upload workflow allows user to upload a document from dashboard to viewing it
rspec ./spec/components/ui/chart_component_spec.rb:141 # Ui::ChartComponent data formatting accepts formatter function for tooltip
rspec './spec/components/ui/chart_component_spec.rb[1:2:5]' # Ui::ChartComponent chart types renders area chart
rspec ./spec/components/ui/chart_component_spec.rb:81 # Ui::ChartComponent chart types configures donut chart with center label
rspec './spec/components/ui/chart_component_spec.rb[1:2:3]' # Ui::ChartComponent chart types renders pie chart
rspec './spec/components/ui/chart_component_spec.rb[1:2:2]' # Ui::ChartComponent chart types renders bar chart
rspec './spec/components/ui/chart_component_spec.rb[1:2:4]' # Ui::ChartComponent chart types renders donut chart
rspec ./spec/components/ui/chart_component_spec.rb:69 # Ui::ChartComponent chart types configures pie chart specific options
rspec './spec/components/ui/chart_component_spec.rb[1:2:1]' # Ui::ChartComponent chart types renders line chart
rspec ./spec/components/ui/chart_component_spec.rb:187 # Ui::ChartComponent accessibility includes proper ARIA attributes for chart region
rspec ./spec/components/ui/chart_component_spec.rb:236 # Ui::ChartComponent stimulus integration includes data attributes for stimulus controller
rspec ./spec/components/ui/chart_component_spec.rb:114 # Ui::ChartComponent loading state shows loading skeleton
rspec ./spec/components/ui/chart_component_spec.rb:200 # Ui::ChartComponent multiple series handles multiple data series
rspec ./spec/components/ui/chart_component_spec.rb:24 # Ui::ChartComponent basic rendering generates unique chart ID
rspec ./spec/components/ui/chart_component_spec.rb:17 # Ui::ChartComponent basic rendering renders chart container with required attributes
rspec ./spec/components/ui/chart_component_spec.rb:154 # Ui::ChartComponent custom configuration merges custom config options
rspec ./spec/components/ui/chart_component_spec.rb:126 # Ui::ChartComponent custom colors accepts custom color palette
rspec ./spec/system/folder_management_spec.rb:62 # Folder Management folder navigation and creation handles folder permissions correctly
rspec ./spec/system/folder_management_spec.rb:14 # Folder Management folder navigation and creation allows user to navigate through folders and create subfolders
rspec ./spec/system/folder_management_spec.rb:118 # Folder Management folder operations allows moving folders
rspec ./spec/system/folder_management_spec.rb:97 # Folder Management folder operations allows renaming folders
rspec ./spec/system/folder_management_spec.rb:260 # Folder Management folder tree view displays folder hierarchy in tree view
rspec ./spec/system/folder_management_spec.rb:226 # Folder Management bulk operations allows bulk deletion with confirmation
rspec ./spec/system/folder_management_spec.rb:186 # Folder Management bulk operations allows selecting and moving multiple items
rspec ./spec/components/ui/optimized_image_component_spec.rb:16 # Ui::OptimizedImageComponent basic rendering uses lazy loading by default
rspec ./spec/services/regulatory_compliance_service_spec.rb:49 # RegulatoryComplianceService#check_gdpr_compliance without personal data passes GDPR compliance
rspec ./spec/services/regulatory_compliance_service_spec.rb:35 # RegulatoryComplianceService#check_gdpr_compliance with personal data detects personal data violations
rspec ./spec/services/regulatory_compliance_service_spec.rb:136 # RegulatoryComplianceService#check_real_estate_compliance with construction document checks for required permits and documentation
rspec ./spec/services/regulatory_compliance_service_spec.rb:145 # RegulatoryComplianceService private helper methods #contains_personal_data? detects email addresses
rspec ./spec/services/regulatory_compliance_service_spec.rb:149 # RegulatoryComplianceService private helper methods #contains_personal_data? detects phone numbers
rspec ./spec/services/regulatory_compliance_service_spec.rb:153 # RegulatoryComplianceService private helper methods #contains_personal_data? detects social security patterns
rspec ./spec/services/regulatory_compliance_service_spec.rb:157 # RegulatoryComplianceService private helper methods #contains_personal_data? returns false for non-personal content
rspec ./spec/services/regulatory_compliance_service_spec.rb:186 # RegulatoryComplianceService private helper methods #get_severity returns correct severity levels
rspec ./spec/services/regulatory_compliance_service_spec.rb:171 # RegulatoryComplianceService private helper methods #calculate_overall_score calculates weighted average of compliance scores
rspec ./spec/services/regulatory_compliance_service_spec.rb:163 # RegulatoryComplianceService private helper methods #extract_amounts extracts monetary amounts from text
rspec ./spec/services/regulatory_compliance_service_spec.rb:64 # RegulatoryComplianceService#check_financial_compliance with large transaction amounts detects AML violations for large cash transactions
rspec ./spec/services/regulatory_compliance_service_spec.rb:78 # RegulatoryComplianceService#check_financial_compliance with transaction verification passes financial compliance with proper verification
rspec ./spec/services/regulatory_compliance_service_spec.rb:17 # RegulatoryComplianceService#check_compliance includes all compliance categories
rspec ./spec/services/regulatory_compliance_service_spec.rb:8 # RegulatoryComplianceService#check_compliance returns compliance report with all checks
rspec ./spec/services/regulatory_compliance_service_spec.rb:121 # RegulatoryComplianceService#check_contractual_compliance with complete contract passes contractual compliance with complete terms
rspec ./spec/services/regulatory_compliance_service_spec.rb:108 # RegulatoryComplianceService#check_contractual_compliance with missing contract elements detects missing essential contract terms
rspec ./spec/services/regulatory_compliance_service_spec.rb:93 # RegulatoryComplianceService#check_environmental_compliance with environmental terms detects environmental compliance requirements
rspec ./spec/system/mobile_responsive_spec.rb:404 # Mobile Responsive Design performance on mobile lazy loads images
rspec ./spec/system/mobile_responsive_spec.rb:384 # Mobile Responsive Design performance on mobile implements infinite scroll on mobile
rspec ./spec/system/mobile_responsive_spec.rb:332 # Mobile Responsive Design offline capabilities shows offline indicator
rspec ./spec/system/mobile_responsive_spec.rb:351 # Mobile Responsive Design offline capabilities queues actions for sync when offline
rspec ./spec/system/mobile_responsive_spec.rb:433 # Mobile Responsive Design responsive tables and data transforms complex tables for mobile
rspec ./spec/system/mobile_responsive_spec.rb:133 # Mobile Responsive Design responsive layouts shows optimized document cards on mobile
rspec ./spec/system/mobile_responsive_spec.rb:114 # Mobile Responsive Design responsive layouts adjusts grid layouts for different screen sizes
rspec ./spec/system/mobile_responsive_spec.rb:151 # Mobile Responsive Design responsive layouts adapts tables to mobile view
rspec ./spec/system/mobile_responsive_spec.rb:57 # Mobile Responsive Design mobile navigation adapts search interface for mobile
rspec ./spec/system/mobile_responsive_spec.rb:31 # Mobile Responsive Design mobile navigation shows hamburger menu on mobile
rspec ./spec/system/mobile_responsive_spec.rb:80 # Mobile Responsive Design mobile navigation handles swipe gestures
rspec ./spec/system/mobile_responsive_spec.rb:181 # Mobile Responsive Design mobile forms and modals displays full-screen modals on mobile
rspec ./spec/system/mobile_responsive_spec.rb:218 # Mobile Responsive Design mobile forms and modals handles file upload on mobile
rspec ./spec/system/mobile_responsive_spec.rb:202 # Mobile Responsive Design mobile forms and modals optimizes form inputs for mobile
rspec ./spec/system/mobile_responsive_spec.rb:269 # Mobile Responsive Design touch interactions provides swipeable image gallery
rspec ./spec/system/mobile_responsive_spec.rb:237 # Mobile Responsive Design touch interactions supports touch-friendly interactions
rspec ./spec/components/documents/document_card_component_spec.rb:99 # Documents::DocumentCardComponent with tags displays document tags
rspec ./spec/system/search_functionality_spec.rb:392 # Search Functionality search suggestions and corrections suggests spelling corrections
rspec ./spec/system/search_functionality_spec.rb:412 # Search Functionality search suggestions and corrections suggests related searches
rspec ./spec/system/search_functionality_spec.rb:324 # Search Functionality faceted search updates facet counts dynamically
rspec ./spec/system/search_functionality_spec.rb:257 # Search Functionality faceted search filters results using facets
rspec ./spec/system/search_functionality_spec.rb:112 # Search Functionality quick search from navbar shows 'see all results' option
rspec ./spec/system/search_functionality_spec.rb:85 # Search Functionality quick search from navbar navigates search results with keyboard
rspec ./spec/system/search_functionality_spec.rb:52 # Search Functionality quick search from navbar searches documents with autocomplete
rspec ./spec/system/search_functionality_spec.rb:136 # Search Functionality advanced search page performs multi-criteria search
rspec ./spec/system/search_functionality_spec.rb:220 # Search Functionality advanced search page exports search results
rspec ./spec/system/search_functionality_spec.rb:181 # Search Functionality advanced search page saves and loads search queries
rspec ./spec/system/search_functionality_spec.rb:484 # Search Functionality search performance indicators displays search performance metrics
rspec ./spec/system/search_functionality_spec.rb:356 # Search Functionality search within results refines search results
rspec ./spec/system/search_functionality_spec.rb:435 # Search Functionality search history and recent searches tracks and displays search history
rspec ./spec/integration/document_validation_workflow_spec.rb:209 # Document Validation Workflow edge cases and error handling handles concurrent validation attempts gracefully
rspec ./spec/integration/document_validation_workflow_spec.rb:199 # Document Validation Workflow edge cases and error handling prevents duplicate validation requests from same validator
rspec ./spec/integration/document_validation_workflow_spec.rb:165 # Document Validation Workflow notification system integration creates actual notification records
rspec ./spec/integration/document_validation_workflow_spec.rb:142 # Document Validation Workflow notification system integration sends notifications throughout the validation process
rspec ./spec/integration/document_validation_workflow_spec.rb:53 # Document Validation Workflow complete validation workflow with rejection (any rejection is definitive) rejects the validation request immediately on first rejection
rspec ./spec/integration/document_validation_workflow_spec.rb:14 # Document Validation Workflow complete validation workflow with successful validation (2 out of 3 required) completes the validation process successfully
rspec ./spec/integration/document_validation_workflow_spec.rb:82 # Document Validation Workflow complete validation workflow with mixed responses but insufficient approvals keeps the request pending until minimum approvals are reached
rspec ./spec/integration/document_validation_workflow_spec.rb:114 # Document Validation Workflow authorization system integration respects authorization permissions for validation
rspec ./spec/requests/api/v1/documents_spec.rb:361 # API V1 Documents POST /api/v1/documents/:id/versions creates a new version
rspec ./spec/requests/api/v1/documents_spec.rb:375 # API V1 Documents POST /api/v1/documents/:id/versions maintains version history
rspec ./spec/requests/api/v1/documents_spec.rb:322 # API V1 Documents GET /api/v1/documents/:id/download downloads the document file
rspec ./spec/requests/api/v1/documents_spec.rb:331 # API V1 Documents GET /api/v1/documents/:id/download tracks download activity
rspec ./spec/requests/api/v1/documents_spec.rb:341 # API V1 Documents GET /api/v1/documents/:id/download respects download permissions
rspec ./spec/requests/api/v1/documents_spec.rb:102 # API V1 Documents GET /api/v1/documents/:id returns 404 for non-existent document
rspec ./spec/requests/api/v1/documents_spec.rb:108 # API V1 Documents GET /api/v1/documents/:id returns 403 for unauthorized document
rspec ./spec/requests/api/v1/documents_spec.rb:90 # API V1 Documents GET /api/v1/documents/:id includes metadata and tags
rspec ./spec/requests/api/v1/documents_spec.rb:78 # API V1 Documents GET /api/v1/documents/:id returns document details
rspec ./spec/requests/api/v1/documents_spec.rb:212 # API V1 Documents PATCH /api/v1/documents/:id updates tags
rspec ./spec/requests/api/v1/documents_spec.rb:199 # API V1 Documents PATCH /api/v1/documents/:id updates the document
rspec ./spec/requests/api/v1/documents_spec.rb:224 # API V1 Documents PATCH /api/v1/documents/:id requires appropriate permissions
rspec ./spec/requests/api/v1/documents_spec.rb:131 # API V1 Documents POST /api/v1/documents creates a new document
rspec ./spec/requests/api/v1/documents_spec.rb:143 # API V1 Documents POST /api/v1/documents creates document with metadata
rspec ./spec/requests/api/v1/documents_spec.rb:162 # API V1 Documents POST /api/v1/documents returns validation errors
rspec ./spec/requests/api/v1/documents_spec.rb:174 # API V1 Documents POST /api/v1/documents handles file upload errors
rspec ./spec/requests/api/v1/documents_spec.rb:429 # API V1 Documents POST /api/v1/documents/bulk handles partial failures
rspec ./spec/requests/api/v1/documents_spec.rb:415 # API V1 Documents POST /api/v1/documents/bulk creates multiple documents
rspec ./spec/requests/api/v1/documents_spec.rb:37 # API V1 Documents GET /api/v1/documents paginates results
rspec ./spec/requests/api/v1/documents_spec.rb:46 # API V1 Documents GET /api/v1/documents filters by space
rspec ./spec/requests/api/v1/documents_spec.rb:67 # API V1 Documents GET /api/v1/documents requires authentication
rspec ./spec/requests/api/v1/documents_spec.rb:26 # API V1 Documents GET /api/v1/documents returns a list of documents
rspec ./spec/requests/api/v1/documents_spec.rb:57 # API V1 Documents GET /api/v1/documents searches by query
rspec ./spec/requests/api/v1/documents_spec.rb:237 # API V1 Documents DELETE /api/v1/documents/:id deletes the document
rspec ./spec/requests/api/v1/documents_spec.rb:245 # API V1 Documents DELETE /api/v1/documents/:id requires ownership
rspec ./spec/requests/api/v1/documents_spec.rb:292 # API V1 Documents POST /api/v1/documents/:id/share creates public share link
rspec ./spec/requests/api/v1/documents_spec.rb:269 # API V1 Documents POST /api/v1/documents/:id/share creates document shares
rspec ./spec/requests/api/v1/documents_spec.rb:282 # API V1 Documents POST /api/v1/documents/:id/share sends notification to recipients
rspec ./spec/system/advanced_search_spec.rb:132 # Advanced Search Performing advanced searches filters by space
rspec ./spec/system/advanced_search_spec.rb:144 # Advanced Search Performing advanced searches filters by tags
rspec ./spec/system/advanced_search_spec.rb:183 # Advanced Search Performing advanced searches sorts results
rspec ./spec/system/advanced_search_spec.rb:156 # Advanced Search Performing advanced searches filters by date range
rspec ./spec/system/advanced_search_spec.rb:120 # Advanced Search Performing advanced searches searches with text query
rspec ./spec/system/advanced_search_spec.rb:169 # Advanced Search Performing advanced searches combines multiple filters
rspec ./spec/system/advanced_search_spec.rb:217 # Advanced Search File type filtering filters by PDF files
rspec ./spec/system/advanced_search_spec.rb:228 # Advanced Search File type filtering filters by Word files
rspec ./spec/system/advanced_search_spec.rb:275 # Advanced Search Empty states shows no results message with applied filters
rspec ./spec/system/advanced_search_spec.rb:73 # Advanced Search Advanced search form populates user dropdown
rspec ./spec/system/advanced_search_spec.rb:42 # Advanced Search Advanced search form displays all filter options
rspec ./spec/system/advanced_search_spec.rb:65 # Advanced Search Advanced search form populates space dropdown
rspec ./spec/system/advanced_search_spec.rb:28 # Advanced Search Navigation to advanced search shows advanced search link when no results
rspec ./spec/system/advanced_search_spec.rb:16 # Advanced Search Navigation to advanced search provides link from regular search page
rspec ./spec/system/advanced_search_spec.rb:287 # Advanced Search Help section displays search tips
rspec ./spec/system/advanced_search_spec.rb:258 # Advanced Search Search result display allows modifying filters
rspec ./spec/system/advanced_search_spec.rb:266 # Advanced Search Search result display allows resetting filters
rspec ./spec/system/advanced_search_spec.rb:248 # Advanced Search Search result display shows advanced search indicator
rspec ./spec/system/advanced_search_spec.rb:252 # Advanced Search Search result display maintains advanced filters form
rspec ./spec/models/search_query_spec.rb:11 # SearchQuery validations is expected to validate that :query cannot be empty/falsy
rspec ./spec/models/search_query_spec.rb:14 # SearchQuery validations validates query length
rspec ./spec/models/search_query_spec.rb:12 # SearchQuery validations is expected to validate that :user cannot be empty/falsy
rspec ./spec/models/search_query_spec.rb:47 # SearchQuery instance methods #normalized_query returns downcased and stripped query
rspec ./spec/models/search_query_spec.rb:24 # SearchQuery scopes .recent returns queries from last 30 days
rspec ./spec/models/search_query_spec.rb:36 # SearchQuery scopes .popular returns most frequent queries
rspec ./spec/models/search_query_spec.rb:55 # SearchQuery callbacks normalizes query before save
rspec ./spec/requests/api/v1/search_spec.rb:187 # API V1 Search GET /api/v1/search/suggestions provides search suggestions based on partial input
rspec ./spec/requests/api/v1/search_spec.rb:223 # API V1 Search GET /api/v1/search/suggestions limits number of suggestions
rspec ./spec/requests/api/v1/search_spec.rb:211 # API V1 Search GET /api/v1/search/suggestions includes recent searches
rspec ./spec/requests/api/v1/search_spec.rb:202 # API V1 Search GET /api/v1/search/suggestions includes tag suggestions
rspec ./spec/requests/api/v1/search_spec.rb:411 # API V1 Search GET /api/v1/search/history returns search history
rspec ./spec/requests/api/v1/search_spec.rb:421 # API V1 Search GET /api/v1/search/history clears search history
rspec ./spec/requests/api/v1/search_spec.rb:373 # API V1 Search GET /api/v1/search/export exports with selected columns
rspec ./spec/requests/api/v1/search_spec.rb:359 # API V1 Search GET /api/v1/search/export exports search results
rspec ./spec/requests/api/v1/search_spec.rb:388 # API V1 Search GET /api/v1/search/export limits export size
rspec ./spec/requests/api/v1/search_spec.rb:298 # API V1 Search GET /api/v1/search/saved executes a saved search
rspec ./spec/requests/api/v1/search_spec.rb:288 # API V1 Search GET /api/v1/search/saved returns user's saved searches
rspec ./spec/requests/api/v1/search_spec.rb:328 # API V1 Search GET /api/v1/search/facets returns search facets
rspec ./spec/requests/api/v1/search_spec.rb:344 # API V1 Search GET /api/v1/search/facets updates facets based on current filters
rspec ./spec/requests/api/v1/search_spec.rb:83 # API V1 Search GET /api/v1/search supports fuzzy search
rspec ./spec/requests/api/v1/search_spec.rb:65 # API V1 Search GET /api/v1/search searches across multiple fields
rspec ./spec/requests/api/v1/search_spec.rb:53 # API V1 Search GET /api/v1/search searches documents by title
rspec ./spec/requests/api/v1/search_spec.rb:74 # API V1 Search GET /api/v1/search highlights matching terms
rspec ./spec/requests/api/v1/search_spec.rb:152 # API V1 Search POST /api/v1/search/advanced filters by metadata conditions
rspec ./spec/requests/api/v1/search_spec.rb:138 # API V1 Search POST /api/v1/search/advanced filters by tags with OR operator
rspec ./spec/requests/api/v1/search_spec.rb:168 # API V1 Search POST /api/v1/search/advanced combines multiple filter conditions
rspec ./spec/requests/api/v1/search_spec.rb:123 # API V1 Search POST /api/v1/search/advanced filters by tags with AND operator
rspec ./spec/requests/api/v1/search_spec.rb:113 # API V1 Search POST /api/v1/search/advanced performs advanced multi-criteria search
rspec ./spec/requests/api/v1/search_spec.rb:249 # API V1 Search POST /api/v1/search/save saves a search query
rspec ./spec/requests/api/v1/search_spec.rb:261 # API V1 Search POST /api/v1/search/save validates saved search parameters
rspec ./spec/system/document_bulk_operations_spec.rb:205 # Document Bulk Operations Bulk deletion marks multiple documents for deletion
rspec ./spec/system/document_bulk_operations_spec.rb:273 # Document Bulk Operations Bulk compliance check checks compliance for multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:27 # Document Bulk Operations Bulk selection allows selecting multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:133 # Document Bulk Operations Bulk locking/unlocking locks multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:155 # Document Bulk Operations Bulk locking/unlocking unlocks multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:228 # Document Bulk Operations Bulk download downloads multiple documents as a zip file
rspec ./spec/system/document_bulk_operations_spec.rb:178 # Document Bulk Operations Bulk archiving archives multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:104 # Document Bulk Operations Bulk moving moves multiple documents to another folder
rspec ./spec/system/document_bulk_operations_spec.rb:306 # Document Bulk Operations Permission checks restricts bulk actions based on permissions
rspec ./spec/system/document_bulk_operations_spec.rb:324 # Document Bulk Operations Error handling handles partial failures gracefully
rspec ./spec/system/document_bulk_operations_spec.rb:247 # Document Bulk Operations Bulk AI classification triggers AI classification for multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:50 # Document Bulk Operations Bulk tagging adds tags to multiple documents
rspec ./spec/system/document_bulk_operations_spec.rb:74 # Document Bulk Operations Bulk tagging removes tags from multiple documents
rspec ./spec/system/user_management_spec.rb:13 # User Management Admin access displays users in the navigation
rspec ./spec/system/user_management_spec.rb:76 # User Management Admin access allows editing a user
rspec ./spec/system/user_management_spec.rb:65 # User Management Admin access validates user creation
rspec ./spec/system/user_management_spec.rb:93 # User Management Admin access allows deleting a user
rspec ./spec/system/user_management_spec.rb:107 # User Management Admin access prevents deleting own account
rspec ./spec/system/user_management_spec.rb:46 # User Management Admin access allows creating a new user
rspec ./spec/system/user_management_spec.rb:162 # User Management User groups management allows creating a new group
rspec ./spec/system/user_management_spec.rb:195 # User Management User groups management allows removing members from a group
rspec ./spec/system/user_management_spec.rb:209 # User Management User groups management allows editing group permissions
rspec ./spec/system/user_management_spec.rb:233 # User Management User profile display shows user details and groups
rspec ./spec/system/document_validation_system_spec.rb:91 # Document Validation System Validation workflow allows validators to reject documents
rspec ./spec/system/document_validation_system_spec.rb:67 # Document Validation System Validation workflow allows validators to approve documents
rspec ./spec/system/document_validation_system_spec.rb:108 # Document Validation System Validation workflow shows validation progress to requester
rspec ./spec/system/document_validation_system_spec.rb:288 # Document Validation System Validation notifications sends notifications throughout the validation process
rspec ./spec/system/document_validation_system_spec.rb:251 # Document Validation System Document versioning allows creating and managing document versions
rspec ./spec/system/document_validation_system_spec.rb:189 # Document Validation System AI classification integration automatically classifies documents on upload
rspec ./spec/system/document_validation_system_spec.rb:19 # Document Validation System Document upload and validation request allows a user to upload a document and request validation
rspec ./spec/system/document_validation_system_spec.rb:230 # Document Validation System Compliance checking shows compliance warnings for non-compliant documents
rspec ./spec/system/document_validation_system_spec.rb:165 # Document Validation System Document locking during validation prevents editing locked documents during validation
rspec ./spec/system/document_validation_system_spec.rb:133 # Document Validation System Bulk validation operations allows requesting validation for multiple documents
rspec ./spec/system/demo_smoke_test_spec.rb:18 # Demo Smoke Test Login and Navigation can login successfully
rspec ./spec/system/demo_smoke_test_spec.rb:98 # Demo Smoke Test UI Components displays modern UI components
rspec ./spec/system/demo_smoke_test_spec.rb:119 # Demo Smoke Test Document Upload can upload a document
rspec ./spec/system/demo_smoke_test_spec.rb:75 # Demo Smoke Test ImmoPromo Access can create a project
rspec ./spec/system/demo_smoke_test_spec.rb:40 # Demo Smoke Test GED Basic Operations can access GED dashboard
rspec ./spec/system/demo_smoke_test_spec.rb:47 # Demo Smoke Test GED Basic Operations can create a space
rspec ./spec/models/notification_spec.rb:182 # Notification class methods .notify_user creates a notification for user
rspec ./spec/features/document_management_spec.rb:89 # Document Management User deletes a document
rspec ./spec/features/document_management_spec.rb:41 # Document Management User edits document metadata
rspec ./spec/features/document_management_spec.rb:176 # Document Management User searches documents by title
rspec ./spec/features/document_management_spec.rb:112 # Document Management User moves document to another folder
rspec ./spec/features/document_management_spec.rb:235 # Document Management User exports document list
rspec ./spec/features/document_management_spec.rb:142 # Document Management User creates a new version of document
rspec ./spec/features/document_management_spec.rb:201 # Document Management User filters documents by date
rspec ./spec/features/document_management_spec.rb:300 # Document Management User views document activity log
rspec ./spec/features/document_management_spec.rb:12 # Document Management User uploads a new document
rspec ./spec/features/document_management_spec.rb:263 # Document Management User manages document permissions
rspec ./spec/features/document_management_spec.rb:66 # Document Management User downloads a document
rspec ./spec/services/notification_service_spec.rb:22 # NotificationService.notify_validation_requested creates correct notification content
rspec ./spec/services/notification_service_spec.rb:16 # NotificationService.notify_validation_requested creates notifications for all validators
rspec ./spec/services/notification_service_spec.rb:203 # NotificationService.notification_stats_for_user returns comprehensive stats
rspec ./spec/services/notification_service_spec.rb:33 # NotificationService.notify_document_shared creates notification for shared user
rspec ./spec/services/notification_service_spec.rb:39 # NotificationService.notify_document_shared creates correct notification
rspec ./spec/services/notification_service_spec.rb:258 # NotificationService ImmoPromo notifications .notify_budget_exceeded creates urgent notification
rspec ./spec/services/notification_service_spec.rb:252 # NotificationService ImmoPromo notifications .notify_budget_exceeded creates notifications for project stakeholders
rspec ./spec/services/notification_service_spec.rb:220 # NotificationService ImmoPromo notifications .notify_project_created creates notifications for stakeholders
rspec ./spec/services/notification_service_spec.rb:230 # NotificationService ImmoPromo notifications .notify_stakeholder_assigned creates notification for assigned stakeholder
rspec ./spec/models/metadata_template_spec.rb:27 # MetadataTemplate scopes .active returns only active templates
rspec ./spec/models/metadata_template_spec.rb:14 # MetadataTemplate validations is expected to validate that :organization cannot be empty/falsy
rspec ./spec/models/metadata_template_spec.rb:38 # MetadataTemplate instance methods #activate! sets active to true
rspec ./spec/models/metadata_template_spec.rb:46 # MetadataTemplate instance methods #deactivate! sets active to false
rspec ./spec/models/metadata_template_spec.rb:54 # MetadataTemplate instance methods #field_names returns array of field names
rspec ./spec/models/metadata_template_spec.rb:9 # MetadataTemplate associations is expected to have many documents
rspec ./spec/components/layout/page_wrapper_component_spec.rb:12 # Layout::PageWrapperComponent renders with navbar by default
rspec ./spec/components/layout/page_wrapper_component_spec.rb:31 # Layout::PageWrapperComponent renders with default max width
rspec ./spec/components/layout/page_wrapper_component_spec.rb:39 # Layout::PageWrapperComponent renders with custom max width
rspec ./spec/system/search_autocomplete_spec.rb:38 # Search Autocomplete search bar in navbar highlights matching text in suggestions
rspec ./spec/system/search_autocomplete_spec.rb:80 # Search Autocomplete search bar in navbar supports keyboard navigation
rspec ./spec/system/search_autocomplete_spec.rb:24 # Search Autocomplete search bar in navbar shows suggestions when typing
rspec ./spec/system/search_autocomplete_spec.rb:59 # Search Autocomplete search bar in navbar hides suggestions when clicking outside
rspec ./spec/system/search_autocomplete_spec.rb:20 # Search Autocomplete search bar in navbar shows search input in navbar
rspec ./spec/system/search_autocomplete_spec.rb:46 # Search Autocomplete search bar in navbar navigates to document when clicking suggestion
rspec ./spec/system/search_autocomplete_spec.rb:71 # Search Autocomplete search bar in navbar submits search form on Enter

Randomized with seed 39684


